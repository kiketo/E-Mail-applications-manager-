[Header] 2019-06-09 16:41:32,597 [1] INFO  eMAM.Service.Utills.MailSyncer - Timed Background Service is starting.
2019-06-09 16:41:40,356 [10] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:41:40,585 [10] WARN  Microsoft.EntityFrameworkCore.Query - Query: '(from GmailUserData <generated>_1 in DbSet<GmailUserData> select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-06-09 16:41:44,960 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (357ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:41:45,409 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (222ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:41:46,366 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (107ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:41:46,727 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (72ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "GmailUserData" SET "AccessToken" = @p0, "ExpiresAt" = @p1
WHERE "Id" = @p2;
2019-06-09 16:41:48,191 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (332ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:41:48,430 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (104ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 16:42:08,943 [8] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:42:09,151 [8] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:42:09,473 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (182ms) [Parameters=[@__get_Item_0='?'], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."AccessFailedCount", e."ConcurrencyStamp", e."Email", e."EmailConfirmed", e."Inactive", e."LockoutEnabled", e."LockoutEnd", e."NormalizedEmail", e."NormalizedUserName", e."PasswordHash", e."PhoneNumber", e."PhoneNumberConfirmed", e."SecurityStamp", e."TwoFactorEnabled", e."UserName"
FROM "AspNetUsers" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2019-06-09 16:42:09,512 [14] INFO  Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler - AuthenticationScheme: Identity.Application signed out.
2019-06-09 16:42:09,525 [14] INFO  Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler - AuthenticationScheme: Identity.External signed out.
2019-06-09 16:42:09,531 [14] INFO  Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler - AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-06-09 16:42:09,543 [14] INFO  Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler - Identity.Application was not authenticated. Failure message: No principal.
2019-06-09 16:42:09,683 [14] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:42:09,779 [14] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:42:09,854 [14] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:42:09,892 [14] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Attachments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 16:42:09,911 [14] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Sender' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 16:42:09,917 [14] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Status' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 16:42:09,982 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:42:10,029 [12] WARN  Microsoft.EntityFrameworkCore.Query - Query: '(from Email e in DbSet<Email> select [e]).Skip(__p_0).Take(__p_1)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-06-09 16:42:10,712 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (182ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:42:11,119 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (216ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:42:11,180 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1311.4656ms.
2019-06-09 16:42:11,295 [12] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:42:11,931 [12] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 715.1029ms.
2019-06-09 16:42:11,943 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 2156.8199ms
2019-06-09 16:42:11,951 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:42:11,974 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 3031.9996ms 200 text/html; charset=utf-8
2019-06-09 16:42:12,224 [8] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:42:12,289 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:42:12,308 [8] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2019-06-09 16:42:12,316 [11] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /css/site.css was not modified
2019-06-09 16:42:12,336 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:42:12,339 [8] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 112.4748ms 304 text/css
2019-06-09 16:42:12,343 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 59.4698ms 304 text/css
2019-06-09 16:42:12,354 [5] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /images/preview.png was not modified
2019-06-09 16:42:12,364 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 28.6338ms 304 image/png
2019-06-09 16:42:12,372 [8] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:42:12,380 [8] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /images/ajax-loader.gif was not modified
2019-06-09 16:42:12,394 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:42:12,397 [8] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 26.893ms 304 image/gif
2019-06-09 16:42:12,405 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:42:12,448 [5] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /lib/jquery/dist/jquery.js was not modified
2019-06-09 16:42:12,460 [10] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /lib/bootstrap/dist/js/bootstrap.bundle.js was not modified
2019-06-09 16:42:12,464 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 75.2929ms 304 application/javascript
2019-06-09 16:42:12,475 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 75.7948ms 304 application/javascript
2019-06-09 16:42:12,790 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:42:12,801 [10] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 16:42:12,864 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:42:12,879 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 88.4408ms 304 application/javascript
2019-06-09 16:42:12,886 [4] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /images/attachment.png was not modified
2019-06-09 16:42:12,910 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 94.7174ms 304 image/png
2019-06-09 16:42:35,266 [8] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:42:35,283 [8] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:42:35,290 [8] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:42:35,328 [8] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:42:35,335 [8] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:42:35,393 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:42:35,482 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (81ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:42:35,532 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:42:35,542 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 207.0041ms.
2019-06-09 16:42:35,553 [9] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:42:35,688 [9] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 16.2923ms.
2019-06-09 16:42:35,722 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 411.9845ms
2019-06-09 16:42:35,731 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:42:35,746 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:42:35,765 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:42:35,770 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:42:35,780 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:42:35,782 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:42:35,803 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 541.3494ms 200 text/html; charset=utf-8
2019-06-09 16:42:35,813 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:42:35,965 [17] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:42:35,982 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 205.4476ms 200 image/png
2019-06-09 16:42:35,998 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:42:36,017 [18] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:42:36,027 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 32.5176ms 200 application/javascript
2019-06-09 16:42:36,106 [23] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:42:36,122 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 349.5585ms 200 text/css
2019-06-09 16:42:36,151 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:42:36,478 [4] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:42:36,538 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 400.8472ms 200 image/png
2019-06-09 16:42:36,786 [8] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:42:36,809 [8] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1092.2699ms 200 text/css
2019-06-09 16:42:36,821 [8] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:42:36,842 [8] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1028.2247ms 200 image/gif
2019-06-09 16:42:36,922 [4] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:42:36,930 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1150.8053ms 200 application/javascript
2019-06-09 16:42:37,188 [4] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:42:37,203 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1470.0903ms 200 application/javascript
2019-06-09 16:42:37,354 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:42:37,367 [4] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:42:37,379 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 25.7636ms 200 image/x-icon
2019-06-09 16:42:50,749 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:42:50,764 [15] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:42:50,807 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:42:50,855 [15] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization failed.
2019-06-09 16:42:50,897 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-06-09 16:42:50,915 [15] INFO  Microsoft.AspNetCore.Mvc.ChallengeResult - Executing ChallengeResult with authentication schemes ().
2019-06-09 16:42:50,940 [15] INFO  Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler - AuthenticationScheme: Identity.Application was challenged.
2019-06-09 16:42:50,952 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 117.1778ms
2019-06-09 16:42:50,963 [15] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:42:50,974 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 226.9647ms 401 
2019-06-09 16:42:51,003 [15] INFO  Microsoft.AspNetCore.Server.Kestrel - Connection id "0HLNCS1151JES", Request id "0HLNCS1151JES:00000001": the application completed without reading the entire request body.
2019-06-09 16:42:57,135 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/account/login  
2019-06-09 16:42:57,146 [18] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.AccountController.Login (eMAM.UI)'
2019-06-09 16:42:57,211 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "Login", controller = "Account"}. Executing action eMAM.UI.Controllers.AccountController.Login (eMAM.UI)
2019-06-09 16:42:57,226 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.AccountController.Login (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:42:57,239 [18] INFO  Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler - AuthenticationScheme: Identity.External signed out.
2019-06-09 16:42:57,253 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.AccountController.Login (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 14.832ms.
2019-06-09 16:42:57,326 [18] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view Login.
2019-06-09 16:42:57,586 [18] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view Login executed in 283.4011ms.
2019-06-09 16:42:57,636 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.AccountController.Login (eMAM.UI) in 381.6905ms
2019-06-09 16:42:57,656 [18] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.AccountController.Login (eMAM.UI)'
2019-06-09 16:42:57,687 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 539.0529ms 200 text/html; charset=utf-8
2019-06-09 16:42:57,745 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/jquery.validate.js  
2019-06-09 16:42:57,762 [17] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /lib/jquery-validation/dist/jquery.validate.js was not modified
2019-06-09 16:42:57,773 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 30.207ms 304 application/javascript
2019-06-09 16:42:57,823 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js  
2019-06-09 16:42:57,850 [4] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js was not modified
2019-06-09 16:42:57,862 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 41.8301ms 304 application/javascript
2019-06-09 16:43:08,097 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/account/login application/x-www-form-urlencoded 245
2019-06-09 16:43:08,119 [17] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.AccountController.Login (eMAM.UI)'
2019-06-09 16:43:08,167 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "Login", controller = "Account"}. Executing action eMAM.UI.Controllers.AccountController.Login (eMAM.UI)
2019-06-09 16:43:08,290 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.AccountController.Login (eMAM.UI) with arguments (eMAM.UI.Models.AccountViewModels.LoginViewModel, ) - Validation state: Valid
2019-06-09 16:43:08,317 [17] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:43:08,456 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (70ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AccessFailedCount", u."ConcurrencyStamp", u."Email", u."EmailConfirmed", u."Inactive", u."LockoutEnabled", u."LockoutEnd", u."NormalizedEmail", u."NormalizedUserName", u."PasswordHash", u."PhoneNumber", u."PhoneNumberConfirmed", u."SecurityStamp", u."TwoFactorEnabled", u."UserName"
FROM "AspNetUsers" AS u
WHERE u."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2019-06-09 16:43:09,764 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (543ms) [Parameters=[@__user_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT uc."Id", uc."ClaimType", uc."ClaimValue", uc."UserId"
FROM "AspNetUserClaims" AS uc
WHERE uc."UserId" = @__user_Id_0
2019-06-09 16:43:10,153 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (283ms) [Parameters=[@__userId_0='?'], CommandType='Text', CommandTimeout='30']
SELECT role."Name"
FROM "AspNetUserRoles" AS "userRole"
INNER JOIN "AspNetRoles" AS role ON "userRole"."RoleId" = role."Id"
WHERE "userRole"."UserId" = @__userId_0
2019-06-09 16:43:10,241 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ConcurrencyStamp", r."Name", r."NormalizedName"
FROM "AspNetRoles" AS r
WHERE r."NormalizedName" = @__normalizedName_0
LIMIT 1
2019-06-09 16:43:10,443 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (141ms) [Parameters=[@__role_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT rc."ClaimType", rc."ClaimValue"
FROM "AspNetRoleClaims" AS rc
WHERE rc."RoleId" = @__role_Id_0
2019-06-09 16:43:10,476 [21] INFO  Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler - AuthenticationScheme: Identity.Application signed in.
2019-06-09 16:43:10,494 [21] INFO  eMAM.UI.Controllers.AccountController - User logged in.
2019-06-09 16:43:10,505 [21] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.AccountController.Login (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 2204.1134ms.
2019-06-09 16:43:10,520 [21] INFO  Microsoft.AspNetCore.Mvc.RedirectToActionResult - Executing RedirectResult, redirecting to /.
2019-06-09 16:43:10,537 [21] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.AccountController.Login (eMAM.UI) in 2353.8694ms
2019-06-09 16:43:10,591 [21] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.AccountController.Login (eMAM.UI)'
2019-06-09 16:43:10,619 [21] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2525.6089ms 302 
2019-06-09 16:43:10,703 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/  
2019-06-09 16:43:10,719 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.Index (eMAM.UI)'
2019-06-09 16:43:10,739 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "Index", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.Index (eMAM.UI)
2019-06-09 16:43:10,870 [4] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:43:10,898 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.Index (eMAM.UI) - Validation state: Valid
2019-06-09 16:43:10,917 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.Index (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.6157ms.
2019-06-09 16:43:10,937 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view Index.
2019-06-09 16:43:11,008 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view Index executed in 43.869ms.
2019-06-09 16:43:11,026 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.Index (eMAM.UI) in 194.839ms
2019-06-09 16:43:11,041 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.Index (eMAM.UI)'
2019-06-09 16:43:11,176 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 436.5131ms 200 text/html; charset=utf-8
2019-06-09 16:43:25,177 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:43:25,207 [18] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:43:25,216 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:43:25,227 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:43:25,237 [18] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:43:25,293 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:43:25,352 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:43:25,401 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:43:25,414 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 177.8762ms.
2019-06-09 16:43:25,425 [12] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:43:25,454 [12] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 22.3636ms.
2019-06-09 16:43:25,593 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 244.2027ms
2019-06-09 16:43:25,655 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:43:25,688 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 502.5616ms 200 text/html; charset=utf-8
2019-06-09 16:43:31,455 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:43:31,472 [17] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:43:31,546 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:43:31,618 [17] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:43:31,669 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 16:43:31,687 [17] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:43:31,743 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:43:32,106 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 422.2417ms.
2019-06-09 16:43:32,125 [15] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:43:32,260 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 650.4473ms
2019-06-09 16:43:32,288 [15] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:43:32,309 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 847.1581ms 200 application/json; charset=utf-8
2019-06-09 16:44:22,715 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:44:22,728 [29] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:44:22,738 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:44:22,748 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:44:22,760 [29] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:44:22,844 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (70ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:44:22,910 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:44:22,962 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:44:22,978 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 216.9583ms.
2019-06-09 16:44:41,202 [9] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:44:41,249 [9] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 18252.6795ms.
2019-06-09 16:44:41,406 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 18513.8196ms
2019-06-09 16:44:41,414 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:44:41,435 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:44:41,437 [28] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:44:41,460 [32] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:44:41,464 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:44:41,472 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:44:41,467 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:44:41,487 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 18769.3977ms 200 text/html; charset=utf-8
2019-06-09 16:44:41,529 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 90.3698ms 200 text/css
2019-06-09 16:44:41,550 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:44:41,727 [30] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:44:41,960 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 399.6738ms 200 application/javascript
2019-06-09 16:44:41,966 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:44:41,974 [30] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 500.1331ms 200 application/javascript
2019-06-09 16:44:41,999 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:44:42,008 [33] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:44:42,033 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 599.4318ms 200 text/css
2019-06-09 16:44:42,068 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 630.4393ms 200 application/javascript
2019-06-09 16:44:42,074 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:44:42,081 [30] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:44:42,089 [10] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:44:42,122 [33] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:44:42,139 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 173.792ms 200 image/png
2019-06-09 16:44:42,145 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 74.2383ms 200 image/png
2019-06-09 16:44:42,162 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:44:42,173 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 135.9684ms 200 image/gif
2019-06-09 16:44:42,261 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:44:42,282 [32] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:44:42,310 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 42.1492ms 200 image/x-icon
2019-06-09 16:44:44,422 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:44:44,437 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:44:44,447 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:44:44,453 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:44:44,463 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 16:44:44,474 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:44:44,518 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:44:44,913 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 439.2954ms.
2019-06-09 16:44:44,928 [22] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:44:44,942 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 482.4353ms
2019-06-09 16:44:44,949 [22] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:44:44,970 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 539.1419ms 200 application/json; charset=utf-8
2019-06-09 16:45:08,133 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:45:08,142 [15] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:45:08,155 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:45:08,163 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:45:08,172 [15] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:45:08,229 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:45:08,282 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:45:08,358 [6] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:45:08,370 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 199.2946ms.
2019-06-09 16:45:09,017 [6] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:45:09,057 [6] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 677.4048ms.
2019-06-09 16:45:09,069 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 903.3066ms
2019-06-09 16:45:09,080 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:45:09,179 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1027.4643ms 200 text/html; charset=utf-8
2019-06-09 16:45:09,209 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:45:09,238 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:45:09,291 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:45:09,305 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:45:09,331 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:45:09,335 [23] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:45:09,363 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:45:09,372 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:45:09,399 [27] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:45:09,499 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 185.5754ms 200 image/png
2019-06-09 16:45:09,533 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 254.1417ms 200 text/css
2019-06-09 16:45:09,537 [33] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:45:09,591 [32] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:45:09,651 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 345.618ms 200 image/gif
2019-06-09 16:45:09,667 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:45:09,694 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:45:09,919 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 438.0741ms 200 text/css
2019-06-09 16:45:09,941 [27] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:45:09,944 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:45:09,991 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 725.7979ms 200 application/javascript
2019-06-09 16:45:10,029 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 592.7501ms 200 application/javascript
2019-06-09 16:45:10,040 [33] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:45:10,053 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 400.6302ms 200 application/javascript
2019-06-09 16:45:10,115 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 124.5544ms 200 image/png
2019-06-09 16:45:10,136 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:45:10,156 [33] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:45:10,169 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 34.3649ms 200 image/x-icon
2019-06-09 16:45:12,435 [28] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:45:12,460 [28] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:45:12,472 [28] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:45:12,510 [28] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:45:12,523 [28] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 16:45:12,537 [28] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:45:12,590 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:45:12,996 [14] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 459.1529ms.
2019-06-09 16:45:13,019 [14] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:45:13,041 [14] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 545.7009ms
2019-06-09 16:45:13,060 [14] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:45:13,076 [14] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 635.9711ms 200 application/json; charset=utf-8
2019-06-09 16:45:37,291 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:45:37,303 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:45:37,316 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:45:37,323 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:45:37,334 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:45:37,381 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:45:37,447 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:45:37,495 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:45:37,503 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 174.0759ms.
2019-06-09 16:45:37,888 [26] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:45:38,018 [26] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 412.8989ms.
2019-06-09 16:45:38,065 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 725.558ms
2019-06-09 16:45:38,076 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:45:38,093 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 797.4275ms 200 text/html; charset=utf-8
2019-06-09 16:45:38,118 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:45:38,149 [8] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:45:38,154 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:45:38,162 [13] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:45:38,177 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:45:38,192 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 64.2729ms 200 text/css
2019-06-09 16:45:38,196 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:45:38,199 [12] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:45:38,239 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:45:38,255 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:45:38,271 [5] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:45:38,309 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 142.8524ms 200 application/javascript
2019-06-09 16:45:38,312 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 89.7423ms 200 text/css
2019-06-09 16:45:38,315 [13] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:45:38,322 [32] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:45:38,329 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:45:38,333 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 114.9174ms 200 image/gif
2019-06-09 16:45:38,340 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 134.2413ms 200 image/png
2019-06-09 16:45:38,354 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 202.9463ms 200 application/javascript
2019-06-09 16:45:38,372 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:45:38,379 [23] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:45:38,399 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:45:38,405 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 76.6271ms 200 application/javascript
2019-06-09 16:45:38,439 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 45.6992ms 200 image/png
2019-06-09 16:45:38,729 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:45:38,740 [11] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:45:38,748 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 63.0345ms 200 image/x-icon
2019-06-09 16:45:39,979 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:45:39,989 [13] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:45:40,019 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:45:40,034 [13] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:45:40,080 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 16:45:40,114 [13] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:45:40,163 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:45:40,412 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 301.074ms.
2019-06-09 16:45:40,421 [9] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:45:40,428 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 399.1988ms
2019-06-09 16:45:40,434 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:45:40,441 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 465.5086ms 200 application/json; charset=utf-8
2019-06-09 16:46:32,740 [20] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:46:33,678 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (931ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:46:33,792 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (94ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:46:34,551 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:46:34,627 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 16:46:36,253 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:46:36,259 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:46:36,266 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:46:36,272 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:46:36,278 [39] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:46:36,322 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:46:36,369 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:46:36,414 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:46:36,421 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 143.7942ms.
2019-06-09 16:46:36,958 [37] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:46:36,999 [37] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 569.6729ms.
2019-06-09 16:46:37,006 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 734.2067ms
2019-06-09 16:46:37,013 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:46:37,021 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 767.7356ms 200 text/html; charset=utf-8
2019-06-09 16:46:37,120 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:46:37,169 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:46:37,236 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:46:37,243 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:46:37,248 [23] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:46:37,279 [43] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:46:37,290 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:46:37,295 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:46:37,304 [44] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:46:37,313 [38] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:46:37,322 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 223.5559ms 200 text/css
2019-06-09 16:46:37,326 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 160.2565ms 200 text/css
2019-06-09 16:46:37,341 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 108.8007ms 200 application/javascript
2019-06-09 16:46:37,363 [42] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:46:37,398 [45] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:46:37,458 [42] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 191.0955ms 200 image/gif
2019-06-09 16:46:37,405 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 116.0371ms 200 image/png
2019-06-09 16:46:37,484 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:46:37,493 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 254.9867ms 200 application/javascript
2019-06-09 16:46:37,515 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:46:37,525 [43] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:46:37,561 [45] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:46:37,568 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 164.4981ms 200 application/javascript
2019-06-09 16:46:37,635 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 97.5412ms 200 image/png
2019-06-09 16:46:37,762 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:46:37,772 [23] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:46:37,784 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 17.2277ms 200 image/x-icon
2019-06-09 16:46:39,944 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:46:39,956 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:46:39,970 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:46:39,988 [41] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:46:40,003 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 16:46:40,010 [41] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:46:40,103 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (77ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:46:40,342 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 319.5044ms.
2019-06-09 16:46:40,352 [9] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:46:40,359 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 379.3691ms
2019-06-09 16:46:40,366 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:46:40,375 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 430.5469ms 200 application/json; charset=utf-8
2019-06-09 16:47:33,555 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:47:33,562 [51] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:47:33,569 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:47:33,576 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:47:33,583 [51] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:47:33,752 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (162ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:47:33,803 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:47:33,849 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:47:33,858 [48] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 276.0356ms.
2019-06-09 16:47:37,995 [48] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:47:38,040 [48] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 4171.3343ms.
2019-06-09 16:47:38,051 [48] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 4475.1881ms
2019-06-09 16:47:38,089 [48] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:47:38,150 [48] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 4574.4428ms 200 text/html; charset=utf-8
2019-06-09 16:47:38,176 [48] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:47:38,216 [56] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:47:38,246 [59] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:47:38,266 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 83.1456ms 200 text/css
2019-06-09 16:47:38,272 [51] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:47:38,283 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:47:38,303 [52] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:47:38,318 [56] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:47:38,312 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:47:38,330 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:47:38,346 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 145.319ms 200 text/css
2019-06-09 16:47:38,419 [63] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:47:38,431 [57] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:47:38,436 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:47:38,447 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 158.2714ms 200 application/javascript
2019-06-09 16:47:38,452 [38] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:47:38,463 [54] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:47:38,467 [57] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 163.3232ms 200 image/png
2019-06-09 16:47:38,485 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 179.4738ms 200 application/javascript
2019-06-09 16:47:38,494 [51] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:47:38,510 [54] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 223.5559ms 200 image/gif
2019-06-09 16:47:38,525 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 83.364ms 200 image/png
2019-06-09 16:47:38,558 [41] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:47:38,571 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 304.8796ms 200 application/javascript
2019-06-09 16:47:38,698 [54] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:47:38,708 [54] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:47:38,717 [54] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 17.8351ms 200 image/x-icon
2019-06-09 16:47:39,349 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:47:39,369 [55] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:47:39,406 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:47:39,492 [55] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:47:39,503 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 16:47:39,510 [55] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:47:39,566 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:47:39,952 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 439.8388ms.
2019-06-09 16:47:39,960 [9] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:47:39,974 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 483.5329ms
2019-06-09 16:47:39,982 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:47:39,988 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 646.0347ms 200 application/json; charset=utf-8
2019-06-09 16:48:06,702 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:48:06,712 [59] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:48:06,719 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:48:06,725 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:48:06,731 [59] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:48:07,096 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (358ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:48:08,492 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,386ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:48:08,542 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:48:08,552 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1818.9387ms.
2019-06-09 16:48:08,559 [9] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:48:08,571 [9] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 12.0243ms.
2019-06-09 16:48:08,577 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 1853.0995ms
2019-06-09 16:48:08,583 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:48:08,590 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1887.9331ms 200 text/html; charset=utf-8
2019-06-09 16:48:24,821 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:48:24,847 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:48:24,924 [51] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:48:24,928 [74] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:48:24,931 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:48:24,935 [53] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:48:24,941 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:48:24,948 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 103.0842ms 200 text/css
2019-06-09 16:48:24,966 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:48:24,982 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 143.8968ms 200 text/css
2019-06-09 16:48:24,994 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:48:25,007 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:48:26,019 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1081.4761ms 200 application/javascript
2019-06-09 16:48:26,049 [51] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:48:26,102 [69] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:48:26,091 [58] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:48:26,099 [78] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:48:26,096 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1104.0035ms 200 image/gif
2019-06-09 16:48:26,108 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:48:26,134 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1212.986ms 200 image/png
2019-06-09 16:48:26,143 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1227.3322ms 200 application/javascript
2019-06-09 16:48:26,153 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1178.4055ms 200 application/javascript
2019-06-09 16:48:26,165 [70] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:48:26,171 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 63.7074ms 200 image/png
2019-06-09 16:48:28,993 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:48:29,003 [51] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:48:29,024 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 18.0594ms 200 image/x-icon
2019-06-09 16:48:35,415 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:48:35,424 [70] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:48:35,429 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:48:35,435 [70] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:48:35,441 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 16:48:35,448 [70] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:48:35,554 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (90ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:48:36,636 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 1186.3994ms.
2019-06-09 16:48:36,645 [9] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:48:36,654 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 1216.993ms
2019-06-09 16:48:36,661 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:48:36,674 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1259.9413ms 200 application/json; charset=utf-8
2019-06-09 16:48:57,821 [74] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:48:57,829 [74] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:48:57,838 [74] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:48:57,845 [74] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:48:57,851 [74] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:48:57,963 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (99ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:48:58,423 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (449ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:48:58,473 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:48:58,482 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 631.1225ms.
2019-06-09 16:48:58,941 [66] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:48:58,983 [66] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 492.6944ms.
2019-06-09 16:48:59,001 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 1155.0312ms
2019-06-09 16:48:59,010 [66] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:48:59,021 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1201.5178ms 200 text/html; charset=utf-8
2019-06-09 16:48:59,158 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:48:59,346 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:48:59,362 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:48:59,378 [81] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:48:59,399 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:48:59,386 [84] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:48:59,478 [74] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:48:59,518 [73] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:48:59,552 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 260.406ms 200 text/css
2019-06-09 16:48:59,558 [83] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:48:59,572 [86] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:48:59,584 [82] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:48:59,589 [78] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:48:59,597 [74] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 440.1922ms 200 text/css
2019-06-09 16:48:59,606 [82] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 256.2803ms 200 application/javascript
2019-06-09 16:48:59,645 [83] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 264.1149ms 200 image/gif
2019-06-09 16:48:59,663 [86] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 258.5538ms 200 image/png
2019-06-09 16:48:59,689 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 304.9383ms 200 application/javascript
2019-06-09 16:48:59,703 [86] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:48:59,705 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:48:59,722 [86] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:48:59,726 [83] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:48:59,737 [86] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 30.8775ms 200 application/javascript
2019-06-09 16:48:59,740 [83] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 38.6412ms 200 image/png
2019-06-09 16:49:02,985 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:49:02,995 [53] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:49:03,008 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 22.344ms 200 image/x-icon
2019-06-09 16:49:25,563 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:49:25,581 [53] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:49:25,593 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:49:25,606 [53] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:49:25,613 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 16:49:25,621 [53] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:49:25,667 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:49:25,882 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 261.9035ms.
2019-06-09 16:49:25,891 [77] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:49:25,903 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 292.91ms
2019-06-09 16:49:25,918 [77] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:49:25,933 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 366.4431ms 200 application/json; charset=utf-8
2019-06-09 16:51:32,744 [51] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:51:32,804 [90] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:51:32,855 [91] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:51:33,159 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:51:33,219 [90] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 16:55:07,593 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:55:07,601 [53] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:55:07,608 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:55:07,615 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:55:07,622 [53] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:55:07,923 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (287ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:55:07,975 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:55:08,037 [93] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:55:08,047 [93] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 425.7062ms.
2019-06-09 16:55:08,543 [93] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:55:08,603 [93] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 536.3318ms.
2019-06-09 16:55:08,614 [93] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 995.7017ms
2019-06-09 16:55:08,623 [93] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:55:08,680 [93] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1078.0361ms 200 text/html; charset=utf-8
2019-06-09 16:55:08,734 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:55:08,759 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:55:08,860 [90] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:55:08,865 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:55:08,869 [95] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:55:08,878 [89] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:55:08,916 [53] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:55:08,935 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 178.8512ms 200 text/css
2019-06-09 16:55:08,945 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:55:09,000 [91] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:55:09,029 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 173.5823ms 200 image/png
2019-06-09 16:55:09,035 [53] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:55:09,064 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 117.4079ms 200 application/javascript
2019-06-09 16:55:09,070 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:55:09,213 [85] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:55:09,291 [85] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 426.7027ms 200 image/gif
2019-06-09 16:55:09,300 [51] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:55:09,315 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 251.7954ms 200 image/png
2019-06-09 16:55:09,340 [96] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:55:09,350 [96] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 614.2526ms 200 text/css
2019-06-09 16:55:09,597 [53] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:55:09,618 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 770.7372ms 200 application/javascript
2019-06-09 16:55:09,863 [97] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:55:09,896 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1027.2688ms 200 application/javascript
2019-06-09 16:55:09,942 [85] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:55:09,982 [85] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:55:09,992 [85] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 53.1355ms 200 image/x-icon
2019-06-09 16:55:16,772 [96] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:55:16,849 [96] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:55:16,887 [96] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:55:16,939 [96] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:55:16,956 [96] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 16:55:16,972 [96] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:55:17,023 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:55:17,612 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 635.4946ms.
2019-06-09 16:55:17,628 [9] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:55:17,640 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 717.3055ms
2019-06-09 16:55:17,652 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:55:17,685 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 904.698ms 200 application/json; charset=utf-8
2019-06-09 16:56:32,741 [96] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:56:32,812 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:56:32,883 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:56:33,393 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:56:33,460 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 16:58:02,146 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:58:02,159 [97] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:58:02,173 [97] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:58:02,183 [97] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:58:02,193 [97] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:58:02,240 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:58:02,292 [82] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:58:02,341 [82] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:58:02,379 [82] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 187.2874ms.
2019-06-09 16:58:02,885 [82] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:58:02,927 [82] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 528.5153ms.
2019-06-09 16:58:02,964 [82] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 775.3429ms
2019-06-09 16:58:02,973 [82] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:58:03,288 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:58:03,317 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:58:03,343 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:58:03,356 [97] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:58:03,426 [84] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:58:03,445 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:58:03,613 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:58:03,634 [96] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:58:03,650 [72] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:58:03,674 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 230.2836ms 200 text/css
2019-06-09 16:58:03,688 [82] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1099.4276ms 200 text/html; charset=utf-8
2019-06-09 16:58:03,699 [71] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:58:03,710 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 668.0054ms 200 text/css
2019-06-09 16:58:03,719 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 383.5286ms 200 application/javascript
2019-06-09 16:58:03,727 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 428.9552ms 200 application/javascript
2019-06-09 16:58:03,739 [82] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:58:03,755 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:58:03,843 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:58:03,878 [79] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:58:03,858 [96] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 541.5229ms 200 image/png
2019-06-09 16:58:04,122 [70] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:58:04,217 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 495.7821ms 200 application/javascript
2019-06-09 16:58:04,229 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:58:04,243 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 456.9454ms 200 image/png
2019-06-09 16:58:04,251 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 508.0752ms 200 image/gif
2019-06-09 16:58:04,340 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:58:04,349 [79] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:58:04,382 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 31.7005ms 200 image/x-icon
2019-06-09 16:58:07,098 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:58:07,143 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:58:07,162 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:58:07,174 [71] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:58:07,194 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 16:58:07,215 [71] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:58:07,271 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:58:07,786 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 554.5325ms.
2019-06-09 16:58:07,808 [9] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:58:07,824 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 647.8703ms
2019-06-09 16:58:07,851 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:58:07,874 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 766.1174ms 200 application/json; charset=utf-8
2019-06-09 16:59:15,912 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 16:59:15,931 [73] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:59:15,946 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:59:15,961 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:59:15,973 [73] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:59:16,031 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:59:16,087 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:59:16,138 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:59:16,155 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 181.0255ms.
2019-06-09 16:59:17,188 [9] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:59:17,256 [9] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 1079.9127ms.
2019-06-09 16:59:17,274 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 1314.197ms
2019-06-09 16:59:17,330 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:59:17,535 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 16:59:17,580 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 16:59:17,598 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 16:59:17,669 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 16:59:17,674 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 16:59:17,711 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1788.675ms 200 text/html; charset=utf-8
2019-06-09 16:59:18,013 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 16:59:18,203 [62] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 16:59:18,227 [67] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 16:59:18,389 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 727.8153ms 200 image/png
2019-06-09 16:59:18,430 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 908.8638ms 200 text/css
2019-06-09 16:59:18,460 [60] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 16:59:18,611 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 990.5414ms 200 application/javascript
2019-06-09 16:59:18,632 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 16:59:18,707 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 16:59:18,834 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 857.6215ms 200 text/css
2019-06-09 16:59:18,868 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 16:59:18,881 [66] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 16:59:18,949 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=CWn3B2eBK0orxHGBkAmJsAvAszO6ZjL5cK9CPGOtW08  
2019-06-09 16:59:19,012 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1491.2014ms 200 application/javascript
2019-06-09 16:59:19,078 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 429.5607ms 200 image/png
2019-06-09 16:59:19,058 [9] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 16:59:19,123 [67] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 16:59:19,262 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 889.1016ms 200 image/gif
2019-06-09 16:59:19,272 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 271.4877ms 200 application/javascript
2019-06-09 16:59:19,320 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 16:59:19,344 [67] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 16:59:19,474 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 72.3508ms 200 image/x-icon
2019-06-09 16:59:19,495 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:59:19,513 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:59:19,528 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:59:19,546 [67] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:59:19,577 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 16:59:19,629 [67] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:59:19,712 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:59:20,088 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 469.6852ms.
2019-06-09 16:59:20,105 [68] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:59:20,123 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 573.871ms
2019-06-09 16:59:20,134 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:59:20,148 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 655.9649ms 200 application/json; charset=utf-8
2019-06-09 16:59:25,666 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 16:59:25,682 [60] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:59:25,693 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 16:59:25,704 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 16:59:25,715 [60] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:59:25,768 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 16:59:25,865 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (85ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 16:59:25,916 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 16:59:25,931 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 216.4588ms.
2019-06-09 16:59:25,943 [92] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 16:59:25,982 [92] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 19.9195ms.
2019-06-09 16:59:26,115 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 372.1073ms
2019-06-09 16:59:26,145 [92] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 16:59:26,257 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 560.0614ms 200 text/html; charset=utf-8
2019-06-09 16:59:28,501 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 16:59:28,519 [59] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:59:28,536 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 16:59:28,552 [59] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 16:59:28,568 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 16:59:28,593 [59] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 16:59:28,645 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 16:59:28,846 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 261.1064ms.
2019-06-09 16:59:28,860 [69] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 16:59:28,878 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 321.5834ms
2019-06-09 16:59:28,894 [69] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 16:59:28,908 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 408.8245ms 200 application/json; charset=utf-8
2019-06-09 17:00:05,264 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 17:00:05,279 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 17:00:05,288 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 17:00:05,296 [64] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 17:00:05,303 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 17:00:05,311 [64] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 17:00:05,364 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 17:00:05,606 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 239.5242ms.
2019-06-09 17:00:05,616 [58] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 17:00:05,630 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 330.8993ms
2019-06-09 17:00:05,659 [58] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 17:00:05,671 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 429.5587ms 200 application/json; charset=utf-8
2019-06-09 17:01:32,739 [67] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 17:01:32,784 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 17:01:32,841 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 17:01:33,159 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 17:01:33,217 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
[Header] 2019-06-09 17:42:11,364 [1] INFO  eMAM.Service.Utills.MailSyncer - Timed Background Service is starting.
2019-06-09 17:42:15,615 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 17:42:15,789 [6] WARN  Microsoft.EntityFrameworkCore.Query - Query: '(from GmailUserData <generated>_1 in DbSet<GmailUserData> select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-06-09 17:42:20,482 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (409ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 17:42:20,726 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 17:42:21,506 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 17:42:21,828 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "GmailUserData" SET "AccessToken" = @p0, "ExpiresAt" = @p1
WHERE "Id" = @p2;
2019-06-09 17:42:23,286 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (481ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 17:42:23,545 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (127ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 17:42:27,938 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 17:42:28,119 [10] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 17:42:28,605 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (380ms) [Parameters=[@__get_Item_0='?'], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."AccessFailedCount", e."ConcurrencyStamp", e."Email", e."EmailConfirmed", e."Inactive", e."LockoutEnabled", e."LockoutEnd", e."NormalizedEmail", e."NormalizedUserName", e."PasswordHash", e."PhoneNumber", e."PhoneNumberConfirmed", e."SecurityStamp", e."TwoFactorEnabled", e."UserName"
FROM "AspNetUsers" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2019-06-09 17:42:29,134 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (202ms) [Parameters=[@__user_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT uc."Id", uc."ClaimType", uc."ClaimValue", uc."UserId"
FROM "AspNetUserClaims" AS uc
WHERE uc."UserId" = @__user_Id_0
2019-06-09 17:42:29,690 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (456ms) [Parameters=[@__userId_0='?'], CommandType='Text', CommandTimeout='30']
SELECT role."Name"
FROM "AspNetUserRoles" AS "userRole"
INNER JOIN "AspNetRoles" AS role ON "userRole"."RoleId" = role."Id"
WHERE "userRole"."UserId" = @__userId_0
2019-06-09 17:42:29,952 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (137ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ConcurrencyStamp", r."Name", r."NormalizedName"
FROM "AspNetRoles" AS r
WHERE r."NormalizedName" = @__normalizedName_0
LIMIT 1
2019-06-09 17:42:30,202 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (206ms) [Parameters=[@__role_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT rc."ClaimType", rc."ClaimValue"
FROM "AspNetRoleClaims" AS rc
WHERE rc."RoleId" = @__role_Id_0
2019-06-09 17:42:30,308 [11] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 17:42:30,369 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 17:42:30,442 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 17:42:30,466 [11] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Attachments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 17:42:30,472 [11] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Sender' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 17:42:30,480 [11] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Status' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 17:42:30,753 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (261ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 17:42:30,768 [11] WARN  Microsoft.EntityFrameworkCore.Query - Query: '(from Email e in DbSet<Email> select [e]).Skip(__p_0).Take(__p_1)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-06-09 17:42:31,431 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (315ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 17:42:31,856 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (310ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 17:42:31,922 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1471.7446ms.
2019-06-09 17:42:31,984 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 17:42:32,376 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 406.3809ms.
2019-06-09 17:42:32,390 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 2012.1533ms
2019-06-09 17:42:32,401 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 17:42:32,470 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 4510.1708ms 200 text/html; charset=utf-8
2019-06-09 17:42:32,559 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 17:42:32,583 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 23.3522ms 404 
2019-06-09 17:42:32,695 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=9OEg0tI_qUM7MDg3HrlIsKxVN_UVuUcbrpN1n9HftQ0  
2019-06-09 17:42:32,737 [9] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 17:42:32,759 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 65.0841ms 200 application/javascript
2019-06-09 17:42:34,893 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 17:42:34,957 [13] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 17:42:34,979 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 17:42:35,017 [13] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 17:42:35,101 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 17:42:35,110 [13] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 17:42:35,257 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (139ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 17:42:35,634 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 523.9541ms.
2019-06-09 17:42:35,650 [12] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 17:42:35,700 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 706.5152ms
2019-06-09 17:42:35,706 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 17:42:35,713 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 824.4583ms 200 application/json; charset=utf-8
2019-06-09 17:43:00,124 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 17:43:00,134 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 17:43:00,141 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 17:43:00,161 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 17:43:00,165 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 17:43:00,173 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 17:43:00,204 [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 17:43:00,217 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 17:43:00,226 [6] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 17:43:00,233 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 17:43:10,255 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10,028ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 17:43:13,128 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 17:43:13,194 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 17:43:13,241 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 17:43:13,249 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 13066.387ms.
2019-06-09 17:43:13,255 [12] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 17:43:13,273 [12] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 12.8365ms.
2019-06-09 17:43:13,332 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 13144.4354ms
2019-06-09 17:43:13,416 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 17:43:13,440 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 13305.4939ms 200 text/html; charset=utf-8
2019-06-09 17:43:13,480 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 17:43:13,495 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=9OEg0tI_qUM7MDg3HrlIsKxVN_UVuUcbrpN1n9HftQ0  
2019-06-09 17:43:13,508 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 41.8154ms 404 
2019-06-09 17:43:13,512 [18] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 17:43:13,530 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 38.1984ms 304 application/javascript
2019-06-09 17:43:14,229 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
[Header] 2019-06-09 18:02:21,785 [1] INFO  eMAM.Service.Utills.MailSyncer - Timed Background Service is starting.
2019-06-09 18:02:24,094 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:02:24,244 [6] WARN  Microsoft.EntityFrameworkCore.Query - Query: '(from GmailUserData <generated>_1 in DbSet<GmailUserData> select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-06-09 18:02:27,949 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (206ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:02:28,199 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:02:29,505 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (326ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:02:29,768 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (126ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:02:37,016 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 18:02:37,213 [7] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:02:37,269 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:02:37,324 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:02:37,347 [7] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:02:37,376 [7] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Attachments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 18:02:37,383 [7] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Sender' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 18:02:37,403 [7] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Status' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 18:02:37,480 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (65ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:02:37,510 [5] WARN  Microsoft.EntityFrameworkCore.Query - Query: '(from Email e in DbSet<Email> select [e]).Skip(__p_0).Take(__p_1)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-06-09 18:02:38,180 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (115ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:02:38,490 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (139ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:02:38,553 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1219.5783ms.
2019-06-09 18:02:38,642 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:02:39,043 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 454.6987ms.
2019-06-09 18:02:39,060 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 1781.0076ms
2019-06-09 18:02:39,075 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:02:39,131 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2093.9017ms 200 text/html; charset=utf-8
2019-06-09 18:02:39,163 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:02:39,191 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 35.964ms 404 
2019-06-09 18:02:39,236 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=9OEg0tI_qUM7MDg3HrlIsKxVN_UVuUcbrpN1n9HftQ0  
2019-06-09 18:02:39,266 [7] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 18:02:39,290 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 46.8849ms 304 application/javascript
2019-06-09 18:02:39,292 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails  
2019-06-09 18:02:39,316 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:02:39,325 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:02:39,343 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:02:39,366 [12] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:02:39,442 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:02:39,503 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:02:39,573 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:02:39,592 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 226.4359ms.
2019-06-09 18:02:39,605 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:02:39,670 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 19.748ms.
2019-06-09 18:02:39,745 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 404.4163ms
2019-06-09 18:02:39,785 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 18:02:39,822 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:02:39,853 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:02:39,855 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 564.6225ms 200 text/html; charset=utf-8
2019-06-09 18:02:39,858 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 18:02:39,889 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 18:02:39,901 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 39.8933ms 404 
2019-06-09 18:02:39,914 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 18:02:39,920 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 18:02:40,235 [9] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 18:02:40,246 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 372.6815ms 200 image/png
2019-06-09 18:02:40,259 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 18:02:40,271 [12] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 18:02:40,277 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 424.0973ms 200 text/css
2019-06-09 18:02:40,645 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 18:02:40,653 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 734.2195ms 200 image/gif
2019-06-09 18:02:40,660 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=9OEg0tI_qUM7MDg3HrlIsKxVN_UVuUcbrpN1n9HftQ0  
2019-06-09 18:02:40,669 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 18:02:40,678 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 16.1168ms 200 application/javascript
2019-06-09 18:02:40,684 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 18:02:40,745 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 18:02:40,752 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 67.4397ms 200 image/png
2019-06-09 18:02:41,516 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 18:02:41,528 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1754.8711ms 200 text/css
2019-06-09 18:02:42,164 [15] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 18:02:42,172 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1915.441ms 200 application/javascript
2019-06-09 18:02:42,186 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 18:02:42,200 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2307.1331ms 200 application/javascript
2019-06-09 18:02:42,306 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 18:02:42,342 [7] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 18:02:42,349 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 46.2808ms 200 image/x-icon
2019-06-09 18:02:44,640 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:02:44,660 [17] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:02:44,694 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:02:44,721 [17] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:02:44,761 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:02:44,771 [17] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:02:44,827 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:02:45,127 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 356.7445ms.
2019-06-09 18:02:45,137 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:02:45,290 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 523.1633ms
2019-06-09 18:02:45,305 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:02:45,315 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 675.3811ms 200 application/json; charset=utf-8
2019-06-09 18:02:47,417 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:02:47,426 [14] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:02:47,454 [17] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:02:47,477 [14] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:02:47,483 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:02:47,495 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:02:47,503 [17] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:02:47,514 [14] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:02:47,521 [14] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:02:47,528 [14] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:02:54,514 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4,561ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:02:54,520 [14] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:02:54,585 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:02:54,638 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:02:54,647 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 7145.0795ms.
2019-06-09 18:02:54,653 [11] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:02:54,670 [11] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.7218ms.
2019-06-09 18:02:54,680 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 7186.5695ms
2019-06-09 18:02:54,705 [11] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:02:54,727 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 7304.8014ms 200 text/html; charset=utf-8
2019-06-09 18:02:54,743 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:02:54,756 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 9.9346ms 404 
2019-06-09 18:02:55,437 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:03:06,216 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (384ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:03:06,419 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (107ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:03:11,480 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (79ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:04:03,892 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (276ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "Body" = @p0, "SetInCurrentStatusOn" = @p1, "StatusId" = @p2
WHERE "Id" = @p3;
2019-06-09 18:04:37,291 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 82042.5954ms.
2019-06-09 18:04:44,598 [18] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:04:48,322 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 117800.413ms
2019-06-09 18:04:51,761 [18] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:04:54,087 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 124902.1332ms 0 
2019-06-09 18:05:26,711 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:05:26,722 [22] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:05:26,730 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:05:26,736 [22] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:05:26,751 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:05:26,761 [22] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:05:26,815 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:05:27,352 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 592.7672ms.
2019-06-09 18:05:27,360 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:05:27,367 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 630.2927ms
2019-06-09 18:05:27,374 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:05:27,381 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 670.5271ms 200 application/json; charset=utf-8
2019-06-09 18:05:32,093 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:05:32,105 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 9.353ms 404 
2019-06-09 18:05:32,229 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js.map  
2019-06-09 18:05:32,239 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /lib/bootstrap/dist/js/bootstrap.bundle.js.map was not modified
2019-06-09 18:05:32,248 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 18.3693ms 304 text/plain
2019-06-09 18:05:32,261 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css.map  
2019-06-09 18:05:32,268 [22] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /lib/bootstrap/dist/css/bootstrap.css.map was not modified
2019-06-09 18:05:32,273 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 12.7584ms 304 text/plain
2019-06-09 18:06:48,131 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:06:48,140 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:06:48,147 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:06:48,154 [6] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:06:48,160 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:07:39,770 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:07:39,797 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:07:39,865 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:07:39,867 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:07:39,926 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:07:40,076 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:07:40,083 [25] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:07:40,090 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:07:40,097 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:07:40,105 [25] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:07:40,204 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (69ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:07:40,222 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (109ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:07:40,260 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:07:40,315 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (84ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:07:40,319 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:07:40,420 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (65ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:07:40,429 [24] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 324.9399ms.
2019-06-09 18:07:40,437 [24] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:07:40,453 [24] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.6081ms.
2019-06-09 18:07:40,467 [24] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 365.5439ms
2019-06-09 18:07:40,476 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (105ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:07:40,480 [24] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:07:40,492 [24] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 414.1676ms 200 text/html; charset=utf-8
2019-06-09 18:07:40,559 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 52390.2914ms.
2019-06-09 18:07:40,572 [39] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:07:40,585 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 52428.2055ms
2019-06-09 18:07:40,636 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:07:40,698 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:07:40,704 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 18:07:40,709 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 18:07:40,713 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 18:07:40,717 [28] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 18:07:40,724 [30] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 18:07:40,733 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 65.6657ms 404 
2019-06-09 18:07:40,768 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 52563.1486ms 0 
2019-06-09 18:07:40,828 [37] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 18:07:40,833 [33] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 18:07:40,857 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 18:07:40,874 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 174.9566ms 200 application/javascript
2019-06-09 18:07:40,895 [30] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 18:07:40,931 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 18:07:40,941 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 221.0327ms 200 text/css
2019-06-09 18:07:40,955 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 18:07:40,980 [30] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 301.1468ms 200 text/css
2019-06-09 18:07:41,003 [37] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 18:07:41,005 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=9OEg0tI_qUM7MDg3HrlIsKxVN_UVuUcbrpN1n9HftQ0  
2019-06-09 18:07:41,040 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 109.0597ms 200 image/png
2019-06-09 18:07:41,155 [31] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 18:07:41,164 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 450.3291ms 200 image/png
2019-06-09 18:07:41,185 [33] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 18:07:41,200 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 185.0339ms 200 application/javascript
2019-06-09 18:07:41,230 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 506.8955ms 200 image/gif
2019-06-09 18:07:41,322 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css.map  
2019-06-09 18:07:41,356 [31] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 18:07:41,380 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 477.4753ms 200 application/javascript
2019-06-09 18:07:41,641 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (63ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:07:41,707 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:07:41,864 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 18:07:41,884 [37] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 18:07:41,895 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 33.1265ms 200 image/x-icon
2019-06-09 18:07:41,905 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js.map  
2019-06-09 18:07:42,308 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map'
2019-06-09 18:07:42,327 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1027.6534ms 200 text/plain
2019-06-09 18:07:43,968 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js.map'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js.map'
2019-06-09 18:07:43,983 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2075.2694ms 200 text/plain
2019-06-09 18:07:44,907 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:07:44,917 [35] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:07:44,926 [35] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:07:44,951 [35] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:07:44,958 [35] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:07:44,978 [35] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:07:45,033 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:07:45,220 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 247.3173ms.
2019-06-09 18:07:45,227 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:07:45,245 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 293.1637ms
2019-06-09 18:07:45,251 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:07:45,261 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 352.4717ms 200 application/json; charset=utf-8
2019-06-09 18:08:20,904 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:08:20,912 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:08:20,920 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:08:20,928 [33] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:08:20,938 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:08:20,946 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:08:21,027 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:08:21,654 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (183ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:08:21,718 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:08:21,890 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (162ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:08:21,988 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:08:22,045 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1100.5829ms.
2019-06-09 18:08:22,051 [41] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:08:22,057 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1131.0353ms
2019-06-09 18:08:22,073 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:08:22,080 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1175.6086ms 200 
2019-06-09 18:09:12,908 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:09:12,915 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:09:12,921 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:09:12,927 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:09:12,934 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:09:12,983 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:09:13,124 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (134ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:09:13,506 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (374ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:09:13,515 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 580.3655ms.
2019-06-09 18:09:13,521 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:09:13,622 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 59.9795ms.
2019-06-09 18:09:13,635 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:09:13,659 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 717.3666ms
2019-06-09 18:09:13,667 [35] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:09:13,681 [35] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:09:13,674 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:09:13,710 [35] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:09:13,711 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 802.231ms 200 text/html; charset=utf-8
2019-06-09 18:09:13,718 [35] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:09:13,775 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:09:13,838 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:09:13,899 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:09:13,909 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 191.3755ms.
2019-06-09 18:09:13,920 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:09:13,934 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 13.0995ms.
2019-06-09 18:09:13,943 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 240.4542ms
2019-06-09 18:09:13,952 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:09:14,000 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 335.1047ms 200 text/html; charset=utf-8
2019-06-09 18:09:14,059 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=UiI_9lGTp44XDiSwhtnUbZz13pIQSUT-YUfR4_2HS9U  
2019-06-09 18:09:14,068 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:09:14,100 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 79.1376ms 404 
2019-06-09 18:09:14,114 [4] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 18:09:14,152 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 94.1876ms 200 application/javascript
2019-06-09 18:09:14,636 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 18:09:14,653 [25] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 18:09:14,665 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 27.5053ms 200 image/x-icon
2019-06-09 18:09:17,427 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:09:17,450 [47] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:09:17,459 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:09:17,471 [47] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:09:17,485 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:09:17,492 [47] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:09:17,551 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:09:18,125 [42] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 625.5634ms.
2019-06-09 18:09:18,142 [42] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:09:18,169 [42] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 683.5216ms
2019-06-09 18:09:18,183 [42] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:09:18,224 [42] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 763.4818ms 200 application/json; charset=utf-8
2019-06-09 18:09:23,923 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:09:23,934 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:09:23,941 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:09:23,951 [31] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:09:23,963 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:09:23,971 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:09:24,021 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:09:24,272 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:09:24,324 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:09:24,375 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:09:24,427 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:09:24,492 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 517.4029ms.
2019-06-09 18:09:24,500 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:09:24,506 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 558.691ms
2019-06-09 18:09:24,514 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:09:24,522 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 666.7982ms 200 
2019-06-09 18:10:19,383 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:10:19,394 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:10:19,405 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:10:19,421 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:10:19,428 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:10:19,486 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:10:19,538 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:10:19,595 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:10:19,615 [48] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 185.6067ms.
2019-06-09 18:10:19,623 [48] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:10:19,657 [48] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 27.6617ms.
2019-06-09 18:10:19,751 [48] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 325.759ms
2019-06-09 18:10:19,799 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:10:19,804 [48] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:10:19,818 [48] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 435.7566ms 200 text/html; charset=utf-8
2019-06-09 18:10:19,821 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:10:19,831 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:10:19,840 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:10:19,846 [46] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:10:19,902 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:10:19,969 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:10:20,032 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:10:20,045 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 197.1951ms.
2019-06-09 18:10:20,053 [43] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:10:20,100 [43] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 33.7658ms.
2019-06-09 18:10:20,417 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 407.4849ms
2019-06-09 18:10:20,432 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:10:20,446 [43] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:10:20,509 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 726.3511ms 200 text/html; charset=utf-8
2019-06-09 18:10:20,520 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=MCkCWDehIaHuTY4i6MfN-2o3NsN_zqI-oNU3BmZYu5o  
2019-06-09 18:10:20,569 [51] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 18:10:20,575 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 52.1405ms 404 
2019-06-09 18:10:20,591 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 73.1093ms 200 application/javascript
2019-06-09 18:10:21,273 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 18:10:21,320 [25] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 18:10:21,345 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 268.0564ms 200 image/x-icon
2019-06-09 18:10:22,963 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:10:23,007 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:10:23,015 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:10:23,021 [31] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:10:23,035 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:10:23,044 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:10:23,099 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:10:23,350 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 305.146ms.
2019-06-09 18:10:23,364 [43] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:10:23,372 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 350.0882ms
2019-06-09 18:10:23,378 [43] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:10:23,394 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 430.0342ms 200 application/json; charset=utf-8
2019-06-09 18:10:59,309 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:10:59,331 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:10:59,342 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:10:59,355 [46] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:10:59,364 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:10:59,372 [46] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:10:59,418 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:10:59,978 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (100ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:11:00,026 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:11:00,073 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:11:00,125 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:11:00,194 [56] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 822.4467ms.
2019-06-09 18:11:00,201 [56] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:11:00,207 [56] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 853.9293ms
2019-06-09 18:11:00,212 [56] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:11:00,219 [56] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 918.6973ms 200 
2019-06-09 18:12:21,883 [57] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:12:22,009 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (116ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:12:22,056 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:12:22,524 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:12:22,583 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:13:23,730 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:13:23,743 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:13:23,839 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__get_Item_0='?'], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."AccessFailedCount", e."ConcurrencyStamp", e."Email", e."EmailConfirmed", e."Inactive", e."LockoutEnabled", e."LockoutEnd", e."NormalizedEmail", e."NormalizedUserName", e."PasswordHash", e."PhoneNumber", e."PhoneNumberConfirmed", e."SecurityStamp", e."TwoFactorEnabled", e."UserName"
FROM "AspNetUsers" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2019-06-09 18:13:24,185 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (220ms) [Parameters=[@__user_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT uc."Id", uc."ClaimType", uc."ClaimValue", uc."UserId"
FROM "AspNetUserClaims" AS uc
WHERE uc."UserId" = @__user_Id_0
2019-06-09 18:13:24,656 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (398ms) [Parameters=[@__userId_0='?'], CommandType='Text', CommandTimeout='30']
SELECT role."Name"
FROM "AspNetUserRoles" AS "userRole"
INNER JOIN "AspNetRoles" AS role ON "userRole"."RoleId" = role."Id"
WHERE "userRole"."UserId" = @__userId_0
2019-06-09 18:13:24,748 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ConcurrencyStamp", r."Name", r."NormalizedName"
FROM "AspNetRoles" AS r
WHERE r."NormalizedName" = @__normalizedName_0
LIMIT 1
2019-06-09 18:13:25,015 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (176ms) [Parameters=[@__role_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT rc."ClaimType", rc."ClaimValue"
FROM "AspNetRoleClaims" AS rc
WHERE rc."RoleId" = @__role_Id_0
2019-06-09 18:13:25,036 [61] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:13:25,045 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:13:25,052 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:13:25,104 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:13:25,174 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:13:25,232 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:13:25,241 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 175.612ms.
2019-06-09 18:13:25,251 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:13:25,277 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 26.4458ms.
2019-06-09 18:13:25,302 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 241.4796ms
2019-06-09 18:13:25,346 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:13:25,351 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:13:25,404 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1644.0471ms 200 text/html; charset=utf-8
2019-06-09 18:13:25,412 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 50.0991ms 404 
2019-06-09 18:13:25,415 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=MCkCWDehIaHuTY4i6MfN-2o3NsN_zqI-oNU3BmZYu5o  
2019-06-09 18:13:25,432 [62] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 18:13:25,448 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 34.5932ms 304 application/javascript
2019-06-09 18:13:30,558 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:13:30,566 [65] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:13:30,574 [65] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:13:30,586 [65] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:13:30,597 [65] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 18:13:30,607 [65] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:13:30,662 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:13:31,071 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 467.5734ms.
2019-06-09 18:13:31,079 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:13:31,090 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 504.3898ms
2019-06-09 18:13:31,097 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:13:31,104 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 545.1902ms 200 application/json; charset=utf-8
2019-06-09 18:13:42,548 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:13:42,564 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:13:42,582 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:13:42,599 [31] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:13:42,612 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 18:13:42,620 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:13:42,669 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:13:43,156 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 536.476ms.
2019-06-09 18:13:43,162 [60] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:13:43,170 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 579.2053ms
2019-06-09 18:13:43,178 [60] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:13:43,211 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 663.9432ms 200 application/json; charset=utf-8
2019-06-09 18:14:07,749 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:14:07,763 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:14:07,775 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:14:07,784 [46] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:14:07,793 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 18:14:07,800 [46] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:14:07,846 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:14:08,480 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 679.5977ms.
2019-06-09 18:14:08,489 [67] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:14:08,501 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 715.1097ms
2019-06-09 18:14:08,508 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:14:08,518 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 768.9251ms 200 application/json; charset=utf-8
2019-06-09 18:14:22,418 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:14:22,422 [57] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:14:22,462 [70] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:14:22,468 [57] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:14:22,478 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:14:22,483 [57] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:14:22,492 [70] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:14:22,495 [57] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:14:22,504 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 18:14:22,507 [57] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:14:22,516 [70] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:14:22,724 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (203ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:14:22,739 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (212ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:14:22,835 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (83ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:14:22,925 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (73ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:14:22,934 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 429.2459ms.
2019-06-09 18:14:22,942 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:14:22,956 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.8445ms.
2019-06-09 18:14:22,976 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 475.1417ms
2019-06-09 18:14:23,008 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:14:23,020 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:14:23,026 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 603.7271ms 200 text/html; charset=utf-8
2019-06-09 18:14:23,045 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 25.1463ms 404 
2019-06-09 18:14:23,049 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=MCkCWDehIaHuTY4i6MfN-2o3NsN_zqI-oNU3BmZYu5o  
2019-06-09 18:14:23,065 [4] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 18:14:23,082 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 33.6886ms 304 application/javascript
2019-06-09 18:14:23,328 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:14:23,402 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:14:23,473 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:14:23,926 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (442ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "Body" = @p0, "SetInCurrentStatusOn" = @p1, "StatusId" = @p2
WHERE "Id" = @p3;
2019-06-09 18:14:23,990 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1476.2257ms.
2019-06-09 18:14:23,996 [68] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:14:24,002 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1513.5835ms
2019-06-09 18:14:24,008 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:14:24,015 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1597.9979ms 0 
2019-06-09 18:14:30,913 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:14:30,923 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 9.5773ms 404 
2019-06-09 18:14:32,675 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:14:32,706 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:14:32,731 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:14:32,743 [31] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:14:32,753 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:14:32,763 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:14:32,815 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:14:33,064 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 299.1421ms.
2019-06-09 18:14:33,077 [67] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:14:33,148 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 347.6803ms
2019-06-09 18:14:33,161 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:14:33,170 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 506.8613ms 200 application/json; charset=utf-8
2019-06-09 18:17:21,881 [71] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:17:22,067 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (180ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:17:22,116 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:17:22,563 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:17:22,721 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (149ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:19:56,072 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:19:56,082 [75] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:19:56,092 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:19:56,100 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:19:56,109 [75] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:19:56,154 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:19:56,236 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (71ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:19:56,668 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:19:56,680 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 570.8962ms.
2019-06-09 18:19:56,687 [76] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:19:56,719 [76] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 28.6392ms.
2019-06-09 18:19:56,728 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 628.3539ms
2019-06-09 18:19:56,735 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:19:56,745 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 671.4425ms 200 text/html; charset=utf-8
2019-06-09 18:19:56,756 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:19:56,771 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:19:56,779 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:19:56,800 [71] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:19:56,805 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:19:56,818 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:19:56,822 [63] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:19:56,832 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:19:56,835 [71] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:19:56,846 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:19:56,855 [63] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:19:56,887 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:19:56,903 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:19:56,955 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:19:57,082 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:19:57,089 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 235.7069ms.
2019-06-09 18:19:57,095 [76] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:19:57,116 [76] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 9.3452ms.
2019-06-09 18:19:57,235 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 286.2474ms
2019-06-09 18:19:57,549 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:19:57,558 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=AqkZDnZmyF0YkDMp1le3_RBa6cGA7yVYnW_6f74Gs5A  
2019-06-09 18:19:57,561 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:19:57,585 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 767.3553ms 200 text/html; charset=utf-8
2019-06-09 18:19:57,600 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 119.5104ms 404 
2019-06-09 18:19:57,617 [80] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 18:19:57,652 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (87ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:19:57,927 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (116ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:19:57,992 [80] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 308.7859ms 200 application/javascript
2019-06-09 18:19:58,164 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (87ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:19:58,175 [80] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 18:19:58,192 [80] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 18:19:58,200 [80] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 34.3757ms 200 image/x-icon
2019-06-09 18:19:58,228 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:19:58,305 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1475.5874ms.
2019-06-09 18:19:58,315 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:19:58,322 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1529.9536ms
2019-06-09 18:19:58,328 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:19:58,334 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1583.2284ms 0 
2019-06-09 18:19:59,106 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:19:59,123 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:19:59,162 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:19:59,206 [71] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:19:59,216 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:19:59,225 [71] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:19:59,286 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:19:59,678 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 452.1911ms.
2019-06-09 18:19:59,684 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:19:59,695 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 485.8143ms
2019-06-09 18:19:59,701 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:19:59,709 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 604.1122ms 200 application/json; charset=utf-8
2019-06-09 18:20:07,792 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:20:07,805 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:20:07,815 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:20:07,826 [71] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:20:07,836 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:20:07,845 [71] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:20:07,933 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:20:08,178 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:20:08,227 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:20:08,296 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:20:08,343 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:20:08,396 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 551.59ms.
2019-06-09 18:20:08,402 [78] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:20:08,409 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 583.4918ms
2019-06-09 18:20:08,415 [78] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:20:08,422 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 634.1584ms 200 
2019-06-09 18:20:25,050 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:20:25,057 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:20:25,068 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:20:25,080 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:20:25,089 [71] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:20:25,311 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (203ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:20:25,368 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:20:25,480 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:20:25,489 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 399.7916ms.
2019-06-09 18:20:25,497 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:20:25,520 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 13.6532ms.
2019-06-09 18:20:25,605 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 504.6933ms
2019-06-09 18:20:25,701 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:20:25,706 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:20:25,716 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 666.9121ms 200 text/html; charset=utf-8
2019-06-09 18:20:25,729 [80] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=AqkZDnZmyF0YkDMp1le3_RBa6cGA7yVYnW_6f74Gs5A  
2019-06-09 18:20:25,758 [80] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 18:20:25,765 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 141.8105ms 404 
2019-06-09 18:20:25,794 [80] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 59.2342ms 304 application/javascript
2019-06-09 18:22:21,875 [73] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:22:21,928 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:22:21,974 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:22:22,186 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:22:22,237 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:25:23,858 [89] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:25:23,891 [89] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:25:23,905 [89] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:25:23,920 [89] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:25:23,938 [89] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:25:23,949 [89] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:25:24,000 [90] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:25:24,626 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 675.7036ms.
2019-06-09 18:25:24,655 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:25:24,677 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 753.2178ms
2019-06-09 18:25:24,694 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:25:24,703 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 847.7158ms 200 application/json; charset=utf-8
2019-06-09 18:26:09,866 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:26:09,873 [91] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:26:09,888 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:26:09,902 [91] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:26:09,910 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:26:09,923 [91] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:26:09,986 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:26:10,239 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:26:10,289 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:26:10,344 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:26:10,394 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:26:10,497 [87] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 575.4583ms.
2019-06-09 18:26:10,510 [87] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:26:10,518 [87] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 617.3725ms
2019-06-09 18:26:10,529 [87] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:26:10,536 [87] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 690.2781ms 200 
2019-06-09 18:27:21,896 [63] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:27:21,957 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:27:22,003 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:27:22,197 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:27:22,245 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:32:21,874 [63] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:32:21,922 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:32:21,977 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:32:22,264 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:32:22,314 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:36:16,285 [100] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:36:16,294 [100] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:36:16,304 [100] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:36:16,313 [100] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:36:16,320 [100] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:36:16,370 [98] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:36:16,429 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:36:16,498 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:36:16,506 [96] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 186.7767ms.
2019-06-09 18:36:16,513 [96] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:36:20,492 [99] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:36:20,508 [99] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:36:20,524 [99] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:36:20,544 [99] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:36:20,576 [99] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:36:20,654 [101] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:36:20,724 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:36:21,248 [97] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:36:21,266 [97] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 689.6393ms.
2019-06-09 18:36:21,303 [97] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:36:35,251 [96] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 18731.8482ms.
2019-06-09 18:36:35,258 [97] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 13959.4576ms.
2019-06-09 18:36:35,269 [96] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 18955.4667ms
2019-06-09 18:36:35,357 [97] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 14743.9126ms
2019-06-09 18:36:35,459 [102] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.css  
2019-06-09 18:36:35,462 [99] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=dvcHWCQsb6oZQE_gi40_xKy18bpfn4p-GwqjdwlQneA  
2019-06-09 18:36:35,469 [96] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:36:35,479 [97] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:36:35,496 [102] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 51.7305ms 404 
2019-06-09 18:36:35,529 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 15047.7973ms 200 text/html; charset=utf-8
2019-06-09 18:36:35,535 [96] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 19212.8545ms 200 text/html; charset=utf-8
2019-06-09 18:36:35,555 [63] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 18:36:35,581 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 112.4607ms 200 application/javascript
2019-06-09 18:36:36,186 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 18:36:36,201 [63] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 18:36:36,211 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 30.8428ms 200 image/x-icon
2019-06-09 18:36:38,074 [99] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:36:38,082 [99] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:36:38,090 [99] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:36:38,104 [99] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:36:38,119 [99] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:36:38,130 [99] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:36:38,177 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:36:38,898 [97] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 766.6491ms.
2019-06-09 18:36:38,908 [97] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:36:38,918 [97] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 813.34ms
2019-06-09 18:36:38,926 [97] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:36:38,934 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 861.2722ms 200 application/json; charset=utf-8
2019-06-09 18:36:50,847 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:36:50,910 [63] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:36:50,925 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:36:50,937 [63] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:36:50,947 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:36:50,955 [63] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:36:51,000 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:36:51,448 [98] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:36:51,499 [98] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:36:51,546 [98] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:36:51,604 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:36:51,688 [96] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 733.5763ms.
2019-06-09 18:36:51,697 [96] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:36:51,705 [96] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 770.3502ms
2019-06-09 18:36:51,714 [96] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:36:51,721 [96] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 883.0362ms 200 
2019-06-09 18:37:21,876 [100] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:37:21,924 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:37:21,969 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:37:22,318 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:37:22,374 [90] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "GmailUserData" SET "AccessToken" = @p0, "ExpiresAt" = @p1
WHERE "Id" = @p2;
2019-06-09 18:37:22,825 [101] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:37:22,889 [101] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:42:21,881 [99] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:42:21,937 [90] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:42:21,982 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:42:22,444 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:42:22,504 [90] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:43:05,380 [100] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:43:05,387 [100] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:43:05,396 [100] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:43:05,406 [100] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:43:05,413 [100] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:43:05,465 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:43:05,527 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:43:05,627 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:43:05,647 [83] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 222.5765ms.
2019-06-09 18:43:05,653 [83] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:43:06,579 [83] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 855.3422ms.
2019-06-09 18:43:06,587 [83] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 1182.5307ms
2019-06-09 18:43:06,592 [100] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:43:06,598 [83] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:43:06,608 [83] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1228.1093ms 200 text/html; charset=utf-8
2019-06-09 18:43:06,611 [100] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:43:06,619 [100] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:43:06,626 [100] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:43:06,633 [100] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:43:06,685 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:43:06,759 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:43:06,856 [90] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:43:06,867 [90] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 233.5604ms.
2019-06-09 18:43:06,875 [90] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:43:06,888 [90] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 13.2622ms.
2019-06-09 18:43:06,931 [90] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 277.926ms
2019-06-09 18:43:07,019 [90] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:43:07,032 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/content/toastr.css  
2019-06-09 18:43:07,116 [90] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 472.3301ms 200 text/html; charset=utf-8
2019-06-09 18:43:07,130 [90] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=dvcHWCQsb6oZQE_gi40_xKy18bpfn4p-GwqjdwlQneA  
2019-06-09 18:43:07,141 [90] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 18:43:07,151 [90] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 20.8358ms 304 application/javascript
2019-06-09 18:43:07,171 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 145.9875ms 404 
2019-06-09 18:43:07,661 [100] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 18:43:07,687 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 18:43:07,916 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 171.7272ms 200 image/x-icon
2019-06-09 18:43:08,594 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:43:08,605 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:43:08,613 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:43:08,628 [76] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:43:08,659 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:43:08,667 [76] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:43:08,723 [99] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:43:09,272 [83] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 602.3729ms.
2019-06-09 18:43:09,292 [83] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:43:09,319 [83] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 687.6639ms
2019-06-09 18:43:09,413 [83] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:43:09,442 [83] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 838.8891ms 200 application/json; charset=utf-8
2019-06-09 18:43:23,168 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:43:23,181 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:43:23,199 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:43:23,211 [76] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:43:23,227 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:43:23,235 [76] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:43:23,292 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:43:23,547 [99] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:43:23,603 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:43:23,664 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:43:23,727 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:43:23,778 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 541.2473ms.
2019-06-09 18:43:23,788 [79] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:43:23,795 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 586.1705ms
2019-06-09 18:43:23,801 [79] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:43:23,808 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 641.3582ms 200 
2019-06-09 18:46:52,852 [81] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:46:52,867 [81] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:46:52,917 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__get_Item_0='?'], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."AccessFailedCount", e."ConcurrencyStamp", e."Email", e."EmailConfirmed", e."Inactive", e."LockoutEnabled", e."LockoutEnd", e."NormalizedEmail", e."NormalizedUserName", e."PasswordHash", e."PhoneNumber", e."PhoneNumberConfirmed", e."SecurityStamp", e."TwoFactorEnabled", e."UserName"
FROM "AspNetUsers" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2019-06-09 18:46:53,150 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (222ms) [Parameters=[@__user_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT uc."Id", uc."ClaimType", uc."ClaimValue", uc."UserId"
FROM "AspNetUserClaims" AS uc
WHERE uc."UserId" = @__user_Id_0
2019-06-09 18:46:53,688 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (527ms) [Parameters=[@__userId_0='?'], CommandType='Text', CommandTimeout='30']
SELECT role."Name"
FROM "AspNetUserRoles" AS "userRole"
INNER JOIN "AspNetRoles" AS role ON "userRole"."RoleId" = role."Id"
WHERE "userRole"."UserId" = @__userId_0
2019-06-09 18:46:53,746 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ConcurrencyStamp", r."Name", r."NormalizedName"
FROM "AspNetRoles" AS r
WHERE r."NormalizedName" = @__normalizedName_0
LIMIT 1
2019-06-09 18:46:54,013 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (252ms) [Parameters=[@__role_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT rc."ClaimType", rc."ClaimValue"
FROM "AspNetRoleClaims" AS rc
WHERE rc."RoleId" = @__role_Id_0
2019-06-09 18:46:54,019 [73] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:46:54,025 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:46:54,031 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:46:54,077 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:46:54,141 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:46:54,225 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:46:54,235 [74] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 197.8221ms.
2019-06-09 18:46:54,264 [74] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:46:54,888 [74] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 639.9463ms.
2019-06-09 18:46:54,897 [74] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 866.0959ms
2019-06-09 18:46:54,904 [74] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:46:54,910 [74] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2059.7102ms 200 text/html; charset=utf-8
2019-06-09 18:46:54,956 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:46:54,967 [70] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:46:54,986 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:46:54,999 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:46:55,072 [70] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:46:55,121 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:46:55,173 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:46:55,248 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:46:55,257 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 191.6658ms.
2019-06-09 18:46:55,264 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:46:55,276 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.2106ms.
2019-06-09 18:46:55,285 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 287.0987ms
2019-06-09 18:46:55,294 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:46:55,305 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 349.5604ms 200 text/html; charset=utf-8
2019-06-09 18:46:55,344 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.scss  
2019-06-09 18:46:55,382 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=dvcHWCQsb6oZQE_gi40_xKy18bpfn4p-GwqjdwlQneA  
2019-06-09 18:46:55,465 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 68.814ms 404 
2019-06-09 18:46:55,473 [70] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 18:46:55,520 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 171.6764ms 304 application/javascript
2019-06-09 18:46:55,836 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 18:46:55,905 [75] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 18:46:55,921 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 86.052ms 200 image/x-icon
2019-06-09 18:46:56,340 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:46:56,349 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:46:56,357 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:46:56,367 [68] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:46:56,377 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:46:56,395 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:46:56,443 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:46:57,380 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 986.3364ms.
2019-06-09 18:46:57,391 [73] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:46:57,399 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 1035.1112ms
2019-06-09 18:46:57,405 [73] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:46:57,415 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1072.0918ms 200 application/json; charset=utf-8
2019-06-09 18:47:21,877 [99] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:47:21,925 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:47:21,983 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:47:22,387 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:47:22,432 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:52:21,875 [81] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:52:21,921 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:52:21,972 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:52:22,429 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:52:22,488 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 18:53:06,973 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:53:06,994 [65] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:53:07,002 [65] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:53:07,011 [65] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:53:07,017 [65] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:53:07,067 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:53:07,132 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:53:07,194 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:53:07,203 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 186.4893ms.
2019-06-09 18:53:07,210 [59] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:53:07,986 [59] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 768.1392ms.
2019-06-09 18:53:07,993 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 983.7638ms
2019-06-09 18:53:08,043 [59] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:53:08,071 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1090.3517ms 200 text/html; charset=utf-8
2019-06-09 18:53:08,076 [57] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:53:08,100 [57] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:53:08,105 [56] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:53:08,135 [57] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:53:08,142 [56] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:53:08,144 [57] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:53:08,153 [56] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:53:08,156 [57] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:53:08,545 [57] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:53:08,548 [56] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:53:08,566 [56] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:53:08,604 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:53:08,889 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:53:08,941 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:53:08,987 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:53:09,033 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:53:09,099 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 561.7249ms.
2019-06-09 18:53:09,112 [59] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:53:09,119 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 975.1625ms
2019-06-09 18:53:09,126 [59] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:53:09,133 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1059.156ms 200 
2019-06-09 18:53:09,296 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:53:09,342 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 18:53:09,355 [65] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:53:09,367 [62] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:53:09,372 [65] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:53:09,378 [62] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 18:53:09,381 [65] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:53:09,391 [62] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 18:53:09,394 [65] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:53:09,413 [62] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:53:09,416 [65] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:53:09,467 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:53:09,553 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:53:09,623 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:53:09,631 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 231.4765ms.
2019-06-09 18:53:09,637 [58] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:53:09,657 [58] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.1412ms.
2019-06-09 18:53:09,676 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 285.9742ms
2019-06-09 18:53:09,685 [58] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:53:09,699 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 372.5574ms 200 text/html; charset=utf-8
2019-06-09 18:53:09,707 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 18:53:09,774 [58] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 18:53:09,806 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 97.1507ms 200 text/css
2019-06-09 18:53:09,815 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=dvcHWCQsb6oZQE_gi40_xKy18bpfn4p-GwqjdwlQneA  
2019-06-09 18:53:09,825 [58] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 18:53:09,839 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 19.6712ms 304 application/javascript
2019-06-09 18:53:09,980 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:53:10,072 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 18:53:10,146 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:53:10,160 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1595.4795ms.
2019-06-09 18:53:10,228 [59] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 18:53:10,232 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 18:53:10,363 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:53:10,442 [59] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 161.125ms.
2019-06-09 18:53:10,468 [61] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 18:53:10,490 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 1942.7606ms
2019-06-09 18:53:10,498 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 282.103ms 200 image/x-icon
2019-06-09 18:53:10,508 [59] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 18:53:10,518 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2413.0978ms 200 text/html; charset=utf-8
2019-06-09 18:53:10,970 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:53:11,019 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:53:11,066 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:53:11,118 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:53:11,185 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1782.4547ms.
2019-06-09 18:53:11,192 [58] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:53:11,199 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1819.6762ms
2019-06-09 18:53:11,205 [58] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:53:11,211 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1923.473ms 0 
2019-06-09 18:53:16,136 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:53:16,154 [61] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:53:16,190 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 18:53:16,208 [61] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:53:16,215 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:53:16,222 [61] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:53:16,279 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:53:16,467 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 245.899ms.
2019-06-09 18:53:16,473 [53] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 18:53:16,482 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 276.5498ms
2019-06-09 18:53:16,491 [53] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 18:53:16,498 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 361.9112ms 200 application/json; charset=utf-8
2019-06-09 18:53:21,344 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 18:53:21,357 [62] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:53:21,372 [62] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 18:53:21,382 [62] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 18:53:21,392 [62] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 18:53:21,404 [62] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:53:21,457 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:53:21,899 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 18:53:21,947 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 18:53:21,993 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 18:53:22,038 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 18:53:22,085 [54] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 683.9903ms.
2019-06-09 18:53:22,093 [54] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 18:53:22,100 [54] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 720.1909ms
2019-06-09 18:53:22,108 [54] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 18:53:22,119 [54] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 787.9283ms 200 
2019-06-09 18:57:21,891 [62] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 18:57:21,956 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:57:22,000 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 18:57:22,623 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 18:57:22,670 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:02:21,877 [99] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:02:21,931 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:02:21,984 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:02:22,190 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:02:22,234 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:04:14,452 [99] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 19:04:14,473 [99] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 19:04:14,481 [99] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 19:04:14,489 [99] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 19:04:14,499 [99] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:04:14,547 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:04:14,614 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 19:04:15,277 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 19:04:15,285 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 790.0263ms.
2019-06-09 19:04:15,292 [39] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 19:04:15,306 [39] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.4525ms.
2019-06-09 19:04:15,316 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 826.745ms
2019-06-09 19:04:15,324 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 19:04:15,365 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 901.3645ms 200 text/html; charset=utf-8
2019-06-09 19:04:15,374 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 19:04:15,482 [37] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /css/toastr.css was not modified
2019-06-09 19:04:15,483 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=dvcHWCQsb6oZQE_gi40_xKy18bpfn4p-GwqjdwlQneA  
2019-06-09 19:04:15,502 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 132.9247ms 304 text/css
2019-06-09 19:04:15,529 [40] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 19:04:15,540 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 102.1532ms 304 application/javascript
2019-06-09 19:04:22,673 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 19:04:22,690 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 19:04:22,724 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 19:04:22,730 [38] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 19:04:22,742 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 19:04:22,753 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:04:22,802 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:04:23,208 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 449.5975ms.
2019-06-09 19:04:23,222 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 19:04:23,232 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 499.0721ms
2019-06-09 19:04:23,240 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 19:04:23,253 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 578.0304ms 200 application/json; charset=utf-8
2019-06-09 19:04:27,386 [99] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 19:04:27,401 [99] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 19:04:27,417 [99] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 19:04:27,426 [99] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 19:04:27,437 [99] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 19:04:27,447 [99] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:04:27,512 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:04:28,584 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (561ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 19:04:28,632 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 19:04:28,681 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 19:04:28,727 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 19:04:28,801 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1356.7929ms.
2019-06-09 19:04:28,809 [39] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 19:04:28,820 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1393.2736ms
2019-06-09 19:04:28,827 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 19:04:28,834 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1450.724ms 200 
2019-06-09 19:04:42,721 [99] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 19:04:42,742 [99] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 19:04:42,751 [99] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 19:04:42,760 [99] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 19:04:42,768 [99] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:04:42,816 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:04:42,885 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 19:04:42,958 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 19:04:42,969 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 199.3596ms.
2019-06-09 19:04:42,977 [43] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 19:04:42,991 [43] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 13.9308ms.
2019-06-09 19:04:43,000 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 239.3141ms
2019-06-09 19:04:43,010 [43] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 19:04:43,040 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 316.1421ms 200 text/html; charset=utf-8
2019-06-09 19:05:00,704 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 19:05:00,725 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 19:05:00,743 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 19:05:00,752 [38] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 19:05:00,760 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 19:05:00,767 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:05:00,820 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:05:01,297 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 529.8211ms.
2019-06-09 19:05:01,305 [34] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 19:05:01,317 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 563.7956ms
2019-06-09 19:05:01,323 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 19:05:01,332 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 627.4684ms 200 application/json; charset=utf-8
2019-06-09 19:05:07,212 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 19:05:07,226 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 19:05:07,232 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 19:05:07,240 [36] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 19:05:07,248 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 19:05:07,255 [36] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:05:07,302 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:05:07,722 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 19:05:07,775 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 19:05:07,826 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 19:05:08,139 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (305ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "Body" = @p0, "SetInCurrentStatusOn" = @p1, "StatusId" = @p2
WHERE "Id" = @p3;
2019-06-09 19:05:08,191 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 935.7666ms.
2019-06-09 19:05:08,199 [39] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 19:05:08,205 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 965.7259ms
2019-06-09 19:05:08,211 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 19:05:08,219 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1012.6743ms 200 
2019-06-09 19:06:24,068 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 19:06:24,080 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 19:06:24,089 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 19:06:24,097 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 19:06:24,149 [37] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:06:24,203 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:06:24,263 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 19:06:24,367 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 19:06:24,377 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 273.788ms.
2019-06-09 19:06:24,382 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 19:06:24,396 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 9.5729ms.
2019-06-09 19:06:24,404 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 308.4047ms
2019-06-09 19:06:24,411 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 19:06:24,419 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 371.9255ms 200 text/html; charset=utf-8
2019-06-09 19:06:24,508 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 19:06:24,543 [36] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /css/toastr.css was not modified
2019-06-09 19:06:24,554 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 68.7426ms 304 text/css
2019-06-09 19:06:26,916 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 19:06:26,926 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 19:06:26,934 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 19:06:26,952 [37] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 19:06:26,967 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 19:06:26,985 [37] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:06:27,034 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:06:27,801 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 815.4713ms.
2019-06-09 19:06:27,809 [33] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 19:06:27,972 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 1017.5522ms
2019-06-09 19:06:27,985 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 19:06:28,025 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1098.8568ms 200 application/json; charset=utf-8
2019-06-09 19:06:35,468 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 19:06:35,510 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 19:06:35,519 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 19:06:35,524 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 19:06:35,527 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 19:06:35,598 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 19:06:35,605 [37] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 19:06:35,611 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 19:06:35,646 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 19:06:35,652 [32] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:06:35,657 [37] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:06:35,722 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:06:35,818 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (85ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 19:06:35,940 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 19:06:35,952 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 334.7392ms.
2019-06-09 19:06:35,960 [33] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 19:06:35,981 [33] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 21.002ms.
2019-06-09 19:06:35,991 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 382.0331ms
2019-06-09 19:06:36,027 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 19:06:36,048 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 557.9784ms 200 text/html; charset=utf-8
2019-06-09 19:06:36,838 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:06:37,511 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (152ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 19:06:37,571 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 19:06:37,619 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 19:06:37,671 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 19:06:37,777 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 2103.8695ms.
2019-06-09 19:06:37,789 [33] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 19:06:37,797 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 2253.0875ms
2019-06-09 19:06:37,804 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 19:06:37,809 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2356.6566ms 0 
2019-06-09 19:06:39,699 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 19:06:39,712 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 19:06:39,722 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 19:06:39,729 [37] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 19:06:39,735 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 19:06:39,747 [37] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:06:39,792 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:06:40,375 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 629.2644ms.
2019-06-09 19:06:40,382 [34] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 19:06:40,391 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 660.5139ms
2019-06-09 19:06:40,400 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 19:06:40,407 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 710.5994ms 200 application/json; charset=utf-8
2019-06-09 19:07:21,883 [37] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:07:21,938 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:07:21,987 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:07:22,629 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:07:22,673 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:10:34,881 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 19:10:34,909 [35] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 19:10:34,928 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 19:10:34,937 [35] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 19:10:34,960 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 19:10:34,972 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 19:10:34,980 [35] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 19:10:34,993 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 19:10:34,998 [35] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:10:35,030 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 19:10:35,038 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:10:35,077 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:10:35,087 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:10:35,164 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (79ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 19:10:35,316 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 19:10:35,324 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 333.1288ms.
2019-06-09 19:10:35,330 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 19:10:35,358 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 17.1045ms.
2019-06-09 19:10:35,378 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 401.5578ms
2019-06-09 19:10:35,479 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 19:10:35,514 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 619.1759ms 200 text/html; charset=utf-8
2019-06-09 19:10:35,519 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 19:10:35,526 [24] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=dvcHWCQsb6oZQE_gi40_xKy18bpfn4p-GwqjdwlQneA  
2019-06-09 19:10:35,538 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /css/toastr.css was not modified
2019-06-09 19:10:35,543 [24] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 19:10:35,557 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 52.6268ms 304 text/css
2019-06-09 19:10:35,561 [24] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 36.0232ms 304 application/javascript
2019-06-09 19:10:35,987 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 19:10:36,043 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 19:10:36,149 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (91ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 19:10:36,218 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 19:10:36,267 [23] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1229.7196ms.
2019-06-09 19:10:36,276 [23] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 19:10:36,307 [23] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1308.7791ms
2019-06-09 19:10:36,315 [23] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 19:10:36,322 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1398.3171ms 0 
2019-06-09 19:12:21,881 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:12:21,933 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:12:21,985 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:12:22,204 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:12:22,246 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:17:21,879 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:17:21,942 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:17:21,992 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:17:22,244 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:17:22,286 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:22:21,877 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:22:21,924 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:22:21,971 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:22:22,634 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:22:22,682 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:27:21,884 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:27:21,983 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (91ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:27:22,041 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:27:22,463 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:27:22,518 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:32:21,875 [49] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:32:21,922 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:32:21,977 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:32:22,272 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:32:22,321 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:37:21,878 [58] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:37:21,938 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:37:21,985 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:37:22,275 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:37:22,330 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "GmailUserData" SET "AccessToken" = @p0, "ExpiresAt" = @p1
WHERE "Id" = @p2;
2019-06-09 19:37:22,971 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:37:23,018 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:42:21,871 [58] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:42:21,933 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:42:21,982 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:42:22,298 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:42:22,344 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:47:21,877 [75] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:47:21,923 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:47:21,971 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:47:22,630 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:47:22,674 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:52:21,878 [81] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:52:21,922 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:52:21,967 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:52:22,230 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:52:22,283 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 19:57:21,872 [89] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 19:57:21,921 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:57:21,968 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 19:57:22,407 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 19:57:22,458 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:02:21,873 [93] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:02:21,944 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (64ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:02:21,995 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:02:22,469 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:02:22,543 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:07:21,882 [16] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:07:21,932 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:07:21,985 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:07:22,304 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:07:22,356 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:12:21,869 [16] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:12:21,931 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:12:21,987 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:12:22,253 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:12:22,314 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:17:21,879 [84] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:17:21,933 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:17:21,978 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:17:22,388 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:17:22,434 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:22:21,880 [78] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:22:22,007 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (69ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:22:22,062 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:22:22,361 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:22:22,411 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:27:21,880 [76] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:27:21,925 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:27:21,980 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:27:22,933 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (68ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:27:22,977 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:32:21,877 [72] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:32:21,920 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:32:21,976 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:32:22,302 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:32:22,349 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:37:21,904 [81] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:37:22,459 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:37:22,592 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (125ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:37:31,340 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (175ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:37:33,519 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (417ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "GmailUserData" SET "AccessToken" = @p0, "ExpiresAt" = @p1
WHERE "Id" = @p2;
2019-06-09 20:37:34,733 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:37:34,778 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:42:21,877 [56] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:42:22,009 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (125ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:42:22,055 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:42:22,629 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:42:22,672 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:47:21,879 [58] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:47:21,923 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:47:21,968 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:47:22,493 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:47:22,624 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:52:21,933 [47] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:52:21,991 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:52:22,063 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:52:22,458 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:52:22,554 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 20:57:21,882 [49] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 20:57:21,931 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:57:22,321 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 20:57:22,815 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 20:57:22,863 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:02:21,876 [43] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:02:21,932 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:02:21,984 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:02:22,705 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:02:22,797 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (84ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:07:21,990 [40] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:07:22,066 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (69ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:07:22,176 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (64ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:07:22,849 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:07:22,975 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:12:21,924 [10] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:12:21,974 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:12:22,025 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:12:22,349 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:12:22,399 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:17:21,966 [103] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:17:22,013 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:17:22,062 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:17:22,756 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:17:22,859 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (93ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:18:54,816 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:18:58,510 [7] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:19:01,744 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (115ms) [Parameters=[@__get_Item_0='?'], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."AccessFailedCount", e."ConcurrencyStamp", e."Email", e."EmailConfirmed", e."Inactive", e."LockoutEnabled", e."LockoutEnd", e."NormalizedEmail", e."NormalizedUserName", e."PasswordHash", e."PhoneNumber", e."PhoneNumberConfirmed", e."SecurityStamp", e."TwoFactorEnabled", e."UserName"
FROM "AspNetUsers" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2019-06-09 21:19:03,873 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (249ms) [Parameters=[@__user_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT uc."Id", uc."ClaimType", uc."ClaimValue", uc."UserId"
FROM "AspNetUserClaims" AS uc
WHERE uc."UserId" = @__user_Id_0
2019-06-09 21:19:05,436 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:19:05,669 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:19:06,742 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (544ms) [Parameters=[@__userId_0='?'], CommandType='Text', CommandTimeout='30']
SELECT role."Name"
FROM "AspNetUserRoles" AS "userRole"
INNER JOIN "AspNetRoles" AS role ON "userRole"."RoleId" = role."Id"
WHERE "userRole"."UserId" = @__userId_0
2019-06-09 21:19:06,938 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ConcurrencyStamp", r."Name", r."NormalizedName"
FROM "AspNetRoles" AS r
WHERE r."NormalizedName" = @__normalizedName_0
LIMIT 1
2019-06-09 21:19:07,277 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (192ms) [Parameters=[@__role_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT rc."ClaimType", rc."ClaimValue"
FROM "AspNetRoleClaims" AS rc
WHERE rc."RoleId" = @__role_Id_0
2019-06-09 21:19:07,746 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:19:08,184 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:19:08,389 [9] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:19:09,555 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 21:19:09,615 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (94ms) [Parameters=[@__get_Item_0='?'], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."AccessFailedCount", e."ConcurrencyStamp", e."Email", e."EmailConfirmed", e."Inactive", e."LockoutEnabled", e."LockoutEnd", e."NormalizedEmail", e."NormalizedUserName", e."PasswordHash", e."PhoneNumber", e."PhoneNumberConfirmed", e."SecurityStamp", e."TwoFactorEnabled", e."UserName"
FROM "AspNetUsers" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2019-06-09 21:19:09,635 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:19:09,694 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__user_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT uc."Id", uc."ClaimType", uc."ClaimValue", uc."UserId"
FROM "AspNetUserClaims" AS uc
WHERE uc."UserId" = @__user_Id_0
2019-06-09 21:19:10,082 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (357ms) [Parameters=[@__userId_0='?'], CommandType='Text', CommandTimeout='30']
SELECT role."Name"
FROM "AspNetUserRoles" AS "userRole"
INNER JOIN "AspNetRoles" AS role ON "userRole"."RoleId" = role."Id"
WHERE "userRole"."UserId" = @__userId_0
2019-06-09 21:19:10,148 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ConcurrencyStamp", r."Name", r."NormalizedName"
FROM "AspNetRoles" AS r
WHERE r."NormalizedName" = @__normalizedName_0
LIMIT 1
2019-06-09 21:19:10,257 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__role_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT rc."ClaimType", rc."ClaimValue"
FROM "AspNetRoleClaims" AS rc
WHERE rc."RoleId" = @__role_Id_0
2019-06-09 21:19:10,289 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:19:10,295 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:19:10,494 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 722.1809ms.
2019-06-09 21:19:10,495 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:19:10,549 [12] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:19:10,854 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 2583.636ms
2019-06-09 21:19:10,957 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:19:11,130 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (170ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:19:11,013 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 16508.0303ms 200 application/json; charset=utf-8
2019-06-09 21:19:12,310 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (136ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:19:13,025 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (129ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:19:13,243 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2543.055ms.
2019-06-09 21:19:14,787 [9] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:19:18,696 [9] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 5430.3431ms.
2019-06-09 21:19:18,703 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 8401.1326ms
2019-06-09 21:19:18,710 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:19:18,721 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 13746.1182ms 200 text/html; charset=utf-8
2019-06-09 21:19:20,372 [103] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 21:19:20,467 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 21:19:20,624 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 21:19:20,628 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 21:19:21,062 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 21:19:21,069 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 662.5308ms 200 text/css
2019-06-09 21:19:21,188 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 21:19:21,223 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 21:19:21,392 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 21:19:21,400 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 923.2169ms 200 text/css
2019-06-09 21:19:21,409 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 21:19:21,416 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 790.9876ms 200 image/png
2019-06-09 21:19:21,423 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 21:19:22,659 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=dvcHWCQsb6oZQE_gi40_xKy18bpfn4p-GwqjdwlQneA  
2019-06-09 21:19:22,701 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 21:19:23,052 [103] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 21:19:23,060 [103] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1877.1213ms 200 image/gif
2019-06-09 21:19:23,896 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 21:19:23,903 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1201.8863ms 200 image/png
2019-06-09 21:19:24,260 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 21:19:24,268 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 3901.4339ms 200 text/css
2019-06-09 21:19:24,315 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 21:19:24,323 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2897.8115ms 200 application/javascript
2019-06-09 21:19:24,694 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:19:24,700 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2048.3456ms 200 application/javascript
2019-06-09 21:19:24,717 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 21:19:24,729 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 3508.3191ms 200 application/javascript
2019-06-09 21:19:32,027 [103] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:19:32,097 [10] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:19:32,170 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 141.591ms 200 image/x-icon
2019-06-09 21:19:38,340 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:19:38,351 [19] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:19:38,357 [19] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:19:38,434 [19] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:19:38,457 [19] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:19:38,464 [19] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:19:38,515 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:19:38,817 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 350.3668ms.
2019-06-09 21:19:38,824 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:19:38,900 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 452.4032ms
2019-06-09 21:19:38,908 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:19:38,915 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 839.7258ms 200 application/json; charset=utf-8
2019-06-09 21:22:21,880 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:22:21,931 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:22:22,185 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:22:22,807 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:22:22,917 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:23:23,098 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:23:23,106 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:23:23,116 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:23:23,129 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:23:23,136 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:23:23,190 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:23:23,277 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (77ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:23:23,546 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (72ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:23:23,557 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 420.3396ms.
2019-06-09 21:23:23,565 [34] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:23:23,697 [34] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 129.7822ms.
2019-06-09 21:23:23,787 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 579.3827ms
2019-06-09 21:23:23,792 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:23:23,822 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:23:23,839 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:23:23,847 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:23:23,857 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 758.0013ms 200 text/html; charset=utf-8
2019-06-09 21:23:23,871 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:23:23,872 [10] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:23:23,883 [6] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:23:23,887 [10] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:23:24,172 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:23:24,176 [10] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:23:24,242 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:23:24,252 [10] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:23:24,348 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (91ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:23:24,368 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (100ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:23:24,475 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (93ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:23:25,381 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (323ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:23:25,907 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (458ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:23:26,483 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (567ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:23:26,699 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:23:26,802 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2572.5544ms.
2019-06-09 21:23:26,871 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:23:26,912 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (84ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:23:27,015 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 136.1516ms.
2019-06-09 21:23:27,028 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 2855.1022ms
2019-06-09 21:23:27,087 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:23:27,099 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 3266.7852ms 200 text/html; charset=utf-8
2019-06-09 21:23:27,108 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=o4wQGCHzfe8TTwMVVa9OIAMjtv4QRGy85v7OSAMFCOQ  
2019-06-09 21:23:27,118 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:23:27,126 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 18.0712ms 200 application/javascript
2019-06-09 21:23:27,180 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 2906.4838ms.
2019-06-09 21:23:27,195 [31] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:23:27,218 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 3325.3157ms
2019-06-09 21:23:27,263 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:23:27,283 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 3489.1874ms 0 
2019-06-09 21:23:28,123 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:23:28,141 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:23:28,150 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 27.9266ms 200 image/x-icon
2019-06-09 21:23:29,027 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:23:29,037 [7] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:23:29,053 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:23:29,064 [7] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:23:29,073 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:23:29,087 [7] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:23:30,100 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1,001ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:23:30,443 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 1336.6794ms.
2019-06-09 21:23:30,454 [34] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:23:30,463 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 1400.9811ms
2019-06-09 21:23:30,473 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:23:30,482 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1455.184ms 200 application/json; charset=utf-8
2019-06-09 21:23:35,831 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:23:35,881 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:23:35,889 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:23:35,897 [6] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:23:35,906 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:23:35,913 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:23:35,968 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:23:36,827 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (182ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:23:36,925 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (89ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:23:36,976 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:23:37,061 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:23:37,136 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1223.9616ms.
2019-06-09 21:23:37,143 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:23:37,150 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1254.2575ms
2019-06-09 21:23:37,156 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:23:37,162 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1367.5056ms 200 
2019-06-09 21:24:09,856 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:24:09,864 [7] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:24:09,871 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:24:09,878 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:24:09,888 [7] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:24:09,964 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (68ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:24:10,016 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:24:10,196 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:24:10,231 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 344.7461ms.
2019-06-09 21:24:10,245 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:24:10,562 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 315.5815ms.
2019-06-09 21:24:10,649 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 757.4046ms
2019-06-09 21:24:10,708 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:24:10,724 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:24:10,750 [45] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:24:10,753 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 895.9901ms 200 text/html; charset=utf-8
2019-06-09 21:24:10,785 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:24:10,797 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:24:10,807 [45] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:24:10,855 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:24:10,978 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (78ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:24:11,262 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:24:11,281 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 476.5653ms.
2019-06-09 21:24:11,289 [41] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:24:11,367 [41] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 58.6995ms.
2019-06-09 21:24:11,387 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 589.5431ms
2019-06-09 21:24:11,488 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:24:11,499 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=h88jRrgBRY3aA84lIuQmY6mARnzwgLCo9o9pIKh1QcQ  
2019-06-09 21:24:11,523 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 847.4827ms 200 text/html; charset=utf-8
2019-06-09 21:24:11,695 [36] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:24:11,744 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 243.6587ms 200 application/javascript
2019-06-09 21:24:12,214 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:24:12,272 [43] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:24:12,410 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 204.1168ms 200 image/x-icon
2019-06-09 21:24:13,686 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:24:13,748 [44] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:24:13,759 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:24:13,768 [44] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:24:13,831 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:24:13,848 [44] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:24:13,929 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:24:14,361 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 513.522ms.
2019-06-09 21:24:14,370 [32] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:24:14,380 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 613.1999ms
2019-06-09 21:24:14,393 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:24:14,407 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 734.1633ms 200 application/json; charset=utf-8
2019-06-09 21:24:15,459 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:24:15,480 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:24:15,509 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:24:15,512 [44] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:24:15,518 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:24:15,529 [36] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:24:15,530 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:24:15,540 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:24:15,547 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:24:15,574 [36] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:24:15,641 [44] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:24:15,702 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:24:15,725 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:24:15,789 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:24:16,392 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (149ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:24:16,400 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (143ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:24:16,429 [40] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 862.8987ms.
2019-06-09 21:24:16,457 [40] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:24:16,497 [40] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 26.4644ms.
2019-06-09 21:24:16,507 [40] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 963.2852ms
2019-06-09 21:24:16,522 [40] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:24:16,914 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1076.8925ms 200 text/html; charset=utf-8
2019-06-09 21:24:16,947 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (304ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:24:16,982 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=h88jRrgBRY3aA84lIuQmY6mARnzwgLCo9o9pIKh1QcQ  
2019-06-09 21:24:17,033 [40] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 21:24:17,052 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:24:17,085 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 101.857ms 304 application/javascript
2019-06-09 21:24:17,191 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (100ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:24:17,366 [40] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1753.0917ms.
2019-06-09 21:24:17,395 [40] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:24:17,465 [40] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1937.3276ms
2019-06-09 21:24:17,478 [40] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:24:17,485 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2042.3965ms 0 
2019-06-09 21:27:22,184 [36] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:27:22,234 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:27:22,360 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (119ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:27:23,120 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:27:23,215 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
[Header] 2019-06-09 21:37:25,141 [1] INFO  eMAM.Service.Utills.MailSyncer - Timed Background Service is starting.
2019-06-09 21:37:30,555 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:37:30,735 [6] WARN  Microsoft.EntityFrameworkCore.Query - Query: '(from GmailUserData <generated>_1 in DbSet<GmailUserData> select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-06-09 21:37:36,066 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (183ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:37:36,320 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:37:37,167 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:37:37,499 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (68ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "GmailUserData" SET "AccessToken" = @p0, "ExpiresAt" = @p1
WHERE "Id" = @p2;
2019-06-09 21:37:39,003 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (476ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:37:39,300 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (148ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:37:50,916 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:37:51,839 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:37:51,955 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:37:52,121 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:37:52,138 [9] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:37:52,540 [9] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Attachments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 21:37:52,547 [9] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Sender' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 21:37:52,554 [9] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Status' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 21:37:52,609 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:37:52,689 [11] WARN  Microsoft.EntityFrameworkCore.Query - Query: '(from Email e in DbSet<Email> select [e]).Skip(__p_0).Take(__p_1)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-06-09 21:37:53,427 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (275ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:37:53,863 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (196ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:37:53,927 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1797.684ms.
2019-06-09 21:37:54,052 [11] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:37:54,513 [11] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 540.5875ms.
2019-06-09 21:37:54,530 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 2563.4858ms
2019-06-09 21:37:54,565 [11] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:37:54,901 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 3948.3872ms 200 text/html; charset=utf-8
2019-06-09 21:37:54,946 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 21:37:54,968 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 21:37:55,022 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 21:37:55,094 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 21:37:55,101 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 21:37:55,125 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 21:37:55,246 [13] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 21:37:55,249 [7] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 21:37:55,259 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 296.5617ms 200 text/css
2019-06-09 21:37:55,264 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 237.6427ms 200 image/png
2019-06-09 21:37:55,294 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 21:37:55,318 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=h88jRrgBRY3aA84lIuQmY6mARnzwgLCo9o9pIKh1QcQ  
2019-06-09 21:37:55,340 [13] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:37:55,354 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 59.7723ms 200 application/javascript
2019-06-09 21:37:55,405 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 21:37:55,411 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 430.932ms 200 text/css
2019-06-09 21:37:55,418 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 21:37:55,586 [10] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 21:37:55,593 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 568.2703ms 200 image/gif
2019-06-09 21:37:55,774 [10] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 21:37:55,896 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 474.65ms 200 image/png
2019-06-09 21:37:56,284 [10] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 21:37:56,291 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1004.0216ms 200 application/javascript
2019-06-09 21:37:56,368 [7] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 21:37:56,387 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1448.6587ms 200 text/css
2019-06-09 21:37:57,129 [10] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 21:37:57,145 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2119.3706ms 200 application/javascript
2019-06-09 21:37:57,532 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:37:57,582 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:37:57,610 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 77.6182ms 200 image/x-icon
2019-06-09 21:37:58,739 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:37:58,757 [9] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:37:58,802 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:37:58,837 [9] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:37:59,235 [9] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 21:37:59,259 [9] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:37:59,334 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:37:59,846 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 594.8677ms.
2019-06-09 21:37:59,857 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:37:59,927 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 1114.1086ms
2019-06-09 21:37:59,935 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:37:59,947 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1202.723ms 200 application/json; charset=utf-8
2019-06-09 21:38:02,594 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:38:02,603 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:38:02,608 [16] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:38:02,622 [7] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:38:02,638 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:38:02,646 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:38:02,683 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:38:02,718 [16] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:38:02,719 [7] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:38:02,756 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 21:38:02,768 [7] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:38:02,803 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:38:02,863 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:38:03,575 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:38:03,583 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 891.3888ms.
2019-06-09 21:38:03,590 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:38:03,609 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.5099ms.
2019-06-09 21:38:03,623 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 972.4428ms
2019-06-09 21:38:03,743 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:38:03,815 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1216.5272ms 200 text/html; charset=utf-8
2019-06-09 21:38:03,851 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (83ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:38:05,231 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (586ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:38:05,378 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:38:05,440 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:38:05,523 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:38:05,580 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 2816.8729ms.
2019-06-09 21:38:05,593 [12] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:38:05,600 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 2887.6956ms
2019-06-09 21:38:05,607 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:38:05,613 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 3015.7522ms 0 
2019-06-09 21:38:14,435 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:38:14,461 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:38:14,478 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:38:14,486 [6] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:38:14,496 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:38:14,507 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:38:14,560 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:38:14,733 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 225.7351ms.
2019-06-09 21:38:14,740 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:38:14,751 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 263.3007ms
2019-06-09 21:38:14,758 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:38:14,765 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 331.4398ms 200 application/json; charset=utf-8
2019-06-09 21:38:15,453 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:38:15,467 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:38:15,477 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:38:15,487 [6] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:38:15,491 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:38:15,499 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:38:15,510 [7] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:38:15,515 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:38:15,522 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:38:15,536 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:38:15,544 [7] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:38:15,574 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:38:15,639 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (88ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:38:15,693 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:38:15,861 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:38:15,870 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 326.2849ms.
2019-06-09 21:38:15,881 [11] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:38:15,901 [11] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 13.3277ms.
2019-06-09 21:38:15,970 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 381.9393ms
2019-06-09 21:38:15,991 [11] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:38:16,026 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 514.4188ms 200 text/html; charset=utf-8
2019-06-09 21:38:16,044 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:38:16,129 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:38:16,244 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:38:16,300 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:38:16,556 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 844.4414ms.
2019-06-09 21:38:16,576 [12] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:38:16,589 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1100.0092ms
2019-06-09 21:38:16,599 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:38:16,608 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1164.2445ms 0 
2019-06-09 21:38:38,202 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:38:38,223 [13] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:38:38,231 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:38:38,237 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:38:38,244 [13] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:38:38,293 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:38:38,390 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (89ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:38:38,848 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (68ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:38:38,856 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 612.3124ms.
2019-06-09 21:38:38,862 [12] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:38:38,877 [12] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 12.039ms.
2019-06-09 21:38:38,883 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 646.52ms
2019-06-09 21:38:38,889 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:38:38,895 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 696.0479ms 200 text/html; charset=utf-8
2019-06-09 21:38:39,163 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 21:38:39,172 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 21:38:39,203 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 21:38:39,208 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 21:38:39,213 [13] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 21:38:39,243 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 21:38:41,227 [9] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 21:38:41,245 [14] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 21:38:41,251 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 57.5335ms 200 text/css
2019-06-09 21:38:41,331 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2087.0905ms 200 text/css
2019-06-09 21:38:43,389 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 21:38:43,397 [22] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 21:38:43,400 [23] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 21:38:43,404 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 21:38:43,414 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=o4wQGCHzfe8TTwMVVa9OIAMjtv4QRGy85v7OSAMFCOQ  
2019-06-09 21:38:43,422 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 4177.5219ms 200 image/png
2019-06-09 21:38:43,434 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 4302.8656ms 200 text/css
2019-06-09 21:38:43,442 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2212.2842ms 200 image/gif
2019-06-09 21:38:43,464 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 21:38:43,478 [7] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 21:38:43,526 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 4316.5057ms 200 application/javascript
2019-06-09 21:38:43,539 [21] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 21:38:43,559 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 21:38:43,563 [15] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:38:43,568 [21] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 104.3856ms 200 image/png
2019-06-09 21:38:43,582 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2301.0129ms 200 application/javascript
2019-06-09 21:38:43,597 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 180.2426ms 200 application/javascript
2019-06-09 21:38:43,689 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:38:43,702 [13] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:38:43,713 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 24.1928ms 200 image/x-icon
2019-06-09 21:38:44,147 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:38:44,182 [15] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:38:44,200 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:38:44,761 [15] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:38:44,781 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 21:38:44,807 [15] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:38:44,864 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:38:45,386 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 534.6511ms.
2019-06-09 21:38:45,402 [5] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:38:45,413 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 653.405ms
2019-06-09 21:38:45,433 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:38:45,452 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1315.2375ms 200 application/json; charset=utf-8
2019-06-09 21:39:22,078 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:39:22,093 [23] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:39:22,105 [23] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:39:22,118 [23] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:39:22,125 [23] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 21:39:22,134 [23] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:39:22,196 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:39:22,834 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (217ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:39:22,888 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:39:22,942 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:39:22,995 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:39:23,069 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 937.1194ms.
2019-06-09 21:39:23,075 [5] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:39:23,082 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 967.5908ms
2019-06-09 21:39:23,088 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:39:23,098 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1021.3563ms 200 
2019-06-09 21:41:55,621 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:41:55,630 [23] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:41:55,649 [23] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:41:55,666 [23] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:41:55,678 [23] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:41:55,727 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:41:55,790 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:41:55,877 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:41:55,887 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 211.4211ms.
2019-06-09 21:41:55,895 [31] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:41:56,007 [31] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 106.23ms.
2019-06-09 21:41:56,023 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 360.083ms
2019-06-09 21:41:56,058 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:41:56,126 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 487.1919ms 200 text/html; charset=utf-8
2019-06-09 21:41:56,155 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:41:56,270 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:41:56,360 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:41:56,372 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:41:56,382 [37] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:41:56,632 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (241ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:41:56,734 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:41:56,874 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:41:56,887 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 505.3844ms.
2019-06-09 21:41:56,895 [30] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:41:56,909 [30] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 12.6973ms.
2019-06-09 21:41:56,935 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 552.348ms
2019-06-09 21:41:57,026 [30] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:41:57,033 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=FRj7MF6f5KkVl9TlL_s8iIvfSPtB22evIVcyyR-2fzo  
2019-06-09 21:41:57,277 [30] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 928.4105ms 200 text/html; charset=utf-8
2019-06-09 21:41:57,372 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:41:57,639 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 545.372ms 200 application/javascript
2019-06-09 21:41:57,785 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:41:57,806 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:41:57,824 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 78.4324ms 200 image/x-icon
2019-06-09 21:41:59,832 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:41:59,843 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:41:59,858 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:41:59,872 [39] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:41:59,882 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:41:59,890 [39] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:41:59,946 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:42:00,139 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 249.6949ms.
2019-06-09 21:42:00,156 [5] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:42:00,170 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 292.6583ms
2019-06-09 21:42:00,179 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:42:00,187 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 363.5362ms 200 application/json; charset=utf-8
2019-06-09 21:42:05,490 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:42:05,512 [40] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:42:05,550 [40] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:42:05,573 [40] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:42:05,587 [40] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:42:05,595 [40] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:42:05,680 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (78ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:42:06,230 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:42:06,281 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:42:06,328 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:42:06,383 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:42:06,432 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 837.5143ms.
2019-06-09 21:42:06,439 [31] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:42:06,446 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 875.2065ms
2019-06-09 21:42:06,452 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:42:06,459 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 974.2021ms 200 
2019-06-09 21:42:08,283 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:42:08,293 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:42:08,301 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:42:08,309 [41] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:42:08,317 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:42:08,336 [41] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:42:08,490 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (146ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:42:08,710 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:42:08,759 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:42:08,811 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:42:08,865 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:42:08,920 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 595.9247ms.
2019-06-09 21:42:08,926 [5] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:42:08,932 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 624.109ms
2019-06-09 21:42:08,938 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:42:08,945 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 663.5708ms 200 
2019-06-09 21:42:12,729 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:42:12,759 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:42:12,777 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:42:12,787 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:42:12,802 [41] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:42:12,867 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:42:13,216 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:42:13,655 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:42:13,667 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 871.3603ms.
2019-06-09 21:42:13,676 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:42:13,691 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.5544ms.
2019-06-09 21:42:13,706 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 914.0858ms
2019-06-09 21:42:13,788 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:42:13,810 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1098.4526ms 200 text/html; charset=utf-8
2019-06-09 21:42:13,822 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=FRj7MF6f5KkVl9TlL_s8iIvfSPtB22evIVcyyR-2fzo  
2019-06-09 21:42:13,836 [32] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 21:42:13,850 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 27.1153ms 304 application/javascript
2019-06-09 21:42:25,412 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:42:25,482 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:42:25,531 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:42:25,942 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:42:25,995 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:42:42,078 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:42:42,099 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:42:42,108 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:42:42,116 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:42:42,123 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:42:42,168 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:42:42,240 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (63ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:42:42,359 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:42:42,369 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 246.2543ms.
2019-06-09 21:42:42,375 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:42:52,318 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 9922.4218ms.
2019-06-09 21:42:52,329 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 10209.6388ms
2019-06-09 21:42:52,352 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:42:52,360 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 10292.5078ms 200 text/html; charset=utf-8
2019-06-09 21:42:52,459 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 21:42:52,558 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 21:42:52,578 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 21:42:52,583 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 21:42:52,600 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 21:42:52,605 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 21:42:54,621 [47] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 21:42:54,638 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2089.2824ms 200 text/css
2019-06-09 21:42:54,644 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 21:42:54,727 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 21:42:54,735 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2152.376ms 200 text/css
2019-06-09 21:42:54,741 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=bXNat97aqi8zXFUKvcdeAhT326pngwtmDRK7fCsXcv0  
2019-06-09 21:42:54,751 [40] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:42:54,759 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 18.3932ms 200 application/javascript
2019-06-09 21:42:54,765 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 21:42:55,446 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 21:42:55,457 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2891.878ms 200 image/png
2019-06-09 21:42:56,784 [46] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 21:42:56,795 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2027.2839ms 200 image/png
2019-06-09 21:42:56,927 [45] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 21:42:56,940 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 4342.5767ms 200 image/gif
2019-06-09 21:42:58,467 [39] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 21:42:58,491 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 6056.058ms 200 text/css
2019-06-09 21:42:59,252 [40] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 21:42:59,258 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 4613.3973ms 200 application/javascript
2019-06-09 21:42:59,743 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 21:42:59,756 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 7171.324ms 200 application/javascript
2019-06-09 21:42:59,934 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:42:59,955 [48] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:42:59,991 [48] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 60.6813ms 200 image/x-icon
2019-06-09 21:43:37,930 [52] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:43:37,938 [52] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:43:37,944 [52] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:43:37,950 [52] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:43:37,957 [52] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:43:37,964 [52] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:43:38,018 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:43:38,477 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 513.2361ms.
2019-06-09 21:43:38,483 [5] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:43:38,490 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 539.6008ms
2019-06-09 21:43:38,496 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:43:38,504 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 573.848ms 200 application/json; charset=utf-8
2019-06-09 21:43:54,619 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:43:54,631 [44] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:43:54,640 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:43:54,647 [44] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:43:54,655 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:43:54,663 [44] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:43:54,722 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:43:55,427 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:43:55,483 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:43:55,538 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:43:55,595 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:43:55,651 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 988.6574ms.
2019-06-09 21:43:55,657 [5] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:43:55,663 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1017.1905ms
2019-06-09 21:43:55,669 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:43:55,675 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1055.5063ms 200 
2019-06-09 21:44:36,605 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:44:36,657 [60] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:44:36,666 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:44:36,675 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:44:36,682 [60] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:44:36,692 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:44:36,696 [49] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:44:36,706 [60] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:44:36,736 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:44:36,746 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:44:36,753 [49] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:44:36,781 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:44:36,811 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:44:36,879 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:44:36,972 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:44:36,983 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 228.8062ms.
2019-06-09 21:44:36,993 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:44:37,009 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 15.5719ms.
2019-06-09 21:44:37,020 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 272.7534ms
2019-06-09 21:44:37,066 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:44:37,121 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (65ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:44:37,153 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 477.6571ms 200 text/html; charset=utf-8
2019-06-09 21:44:37,172 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=bXNat97aqi8zXFUKvcdeAhT326pngwtmDRK7fCsXcv0  
2019-06-09 21:44:37,183 [5] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 21:44:37,196 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 24.5667ms 304 application/javascript
2019-06-09 21:44:37,208 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:44:37,271 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:44:37,327 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:44:37,381 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 676.75ms.
2019-06-09 21:44:37,388 [58] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:44:37,441 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 740.2082ms
2019-06-09 21:44:37,469 [58] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:44:37,531 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 924.6014ms 0 
2019-06-09 21:44:39,405 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:44:39,414 [60] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:44:39,422 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:44:39,431 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:44:39,439 [60] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:44:39,485 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:44:39,536 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:44:39,655 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:44:39,663 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 225.3617ms.
2019-06-09 21:44:39,670 [58] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:44:39,693 [58] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 9.8129ms.
2019-06-09 21:44:39,740 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 274.8129ms
2019-06-09 21:44:39,833 [58] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:44:39,871 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 455.5457ms 200 text/html; charset=utf-8
2019-06-09 21:44:39,927 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 21:44:39,935 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 21:44:39,954 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 21:44:39,986 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 21:44:39,993 [64] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 21:44:40,013 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 21:44:40,044 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 21:44:40,061 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 104.9149ms 200 text/css
2019-06-09 21:44:40,076 [69] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 21:44:40,089 [66] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 21:44:40,115 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 148.8729ms 200 image/png
2019-06-09 21:44:40,124 [67] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 21:44:40,137 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 21:44:40,144 [68] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 21:44:40,162 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 233.6362ms 200 text/css
2019-06-09 21:44:40,174 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 199.9407ms 200 image/gif
2019-06-09 21:44:40,243 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 262.0696ms 200 text/css
2019-06-09 21:44:40,271 [65] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 21:44:40,305 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 21:44:40,344 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 359.6011ms 200 application/javascript
2019-06-09 21:44:40,346 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=bXNat97aqi8zXFUKvcdeAhT326pngwtmDRK7fCsXcv0  
2019-06-09 21:44:40,371 [49] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 21:44:40,421 [59] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 21:44:40,551 [62] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:44:40,559 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 312.8701ms 200 image/png
2019-06-09 21:44:40,565 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 297.0382ms 200 application/javascript
2019-06-09 21:44:40,598 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 371.5375ms 200 application/javascript
2019-06-09 21:44:40,818 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:44:40,873 [70] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:44:40,886 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 181.6667ms 200 image/x-icon
2019-06-09 21:44:43,883 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:44:43,893 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:44:43,903 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:44:43,917 [64] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:44:43,927 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:45:24,877 [64] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:45:24,941 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:45:25,365 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 41430.5606ms.
2019-06-09 21:45:25,372 [5] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:45:25,379 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 41463.6535ms
2019-06-09 21:45:25,386 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:45:25,392 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 41508.9334ms 200 application/json; charset=utf-8
2019-06-09 21:45:48,104 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:45:48,123 [44] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:45:48,131 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:45:48,138 [44] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:45:48,152 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:46:02,636 [44] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:46:02,759 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (102ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:46:05,965 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (126ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:46:06,019 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:46:06,761 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (111ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:46:07,384 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (68ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:46:27,858 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 35056.513ms.
2019-06-09 21:46:27,876 [5] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:46:27,887 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 39747.8233ms
2019-06-09 21:46:27,901 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:46:27,911 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 39804.1776ms 200 
2019-06-09 21:46:40,415 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:46:40,430 [69] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:46:40,445 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:46:40,457 [69] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:46:40,470 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:46:43,956 [69] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:46:44,012 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:46:47,260 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:46:47,346 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:46:47,416 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:46:47,471 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:46:47,527 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 7047.635ms.
2019-06-09 21:46:47,540 [71] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:46:47,550 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 7092.935ms
2019-06-09 21:46:47,564 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:46:47,578 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 7164.5377ms 200 
2019-06-09 21:46:59,538 [83] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:46:59,558 [83] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:46:59,576 [83] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:46:59,587 [83] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:46:59,596 [83] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:46:59,657 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:46:59,725 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:46:59,861 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:46:59,871 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 276.6084ms.
2019-06-09 21:46:59,878 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:46:59,897 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 13.5071ms.
2019-06-09 21:46:59,907 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 319.3001ms
2019-06-09 21:46:59,918 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:46:59,929 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 398.0009ms 200 text/html; charset=utf-8
2019-06-09 21:46:59,953 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=bXNat97aqi8zXFUKvcdeAhT326pngwtmDRK7fCsXcv0  
2019-06-09 21:46:59,960 [69] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 21:46:59,995 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 22.2707ms 304 application/javascript
2019-06-09 21:47:25,271 [84] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:47:25,354 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (68ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:47:25,410 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:47:25,600 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:47:25,651 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:48:19,931 [90] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:48:19,947 [90] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:48:19,956 [90] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:48:19,964 [90] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:48:19,971 [90] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:48:20,025 [89] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:48:20,080 [89] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:48:20,194 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:48:20,207 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 236.4404ms.
2019-06-09 21:48:20,216 [85] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:48:20,295 [85] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 79.0394ms.
2019-06-09 21:48:20,310 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 342.5889ms
2019-06-09 21:48:20,319 [85] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:48:20,446 [85] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 510.9362ms 200 text/html; charset=utf-8
2019-06-09 21:48:20,763 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 21:48:20,842 [99] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 21:48:20,878 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 21:48:20,884 [98] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 21:48:20,890 [90] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 21:48:20,973 [93] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 21:48:21,203 [74] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 21:48:21,216 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 21:48:21,268 [101] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 21:48:21,293 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 669.2115ms 200 image/png
2019-06-09 21:48:21,298 [74] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 584.0895ms 200 text/css
2019-06-09 21:48:21,308 [101] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 472.0002ms 200 image/gif
2019-06-09 21:48:21,338 [96] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 21:48:21,344 [95] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 21:48:21,370 [101] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 21:48:21,395 [74] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=eK8VPoAmvXQXH6erMv47WbyakMsof8uFbfYSYF2GsrI  
2019-06-09 21:48:21,408 [90] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 21:48:21,427 [95] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 915.7928ms 200 application/javascript
2019-06-09 21:48:21,434 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 21:48:21,442 [96] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 602.0273ms 200 text/css
2019-06-09 21:48:21,556 [74] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:48:21,728 [90] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 758.2432ms 200 text/css
2019-06-09 21:48:21,746 [101] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 21:48:21,763 [74] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 387.8518ms 200 application/javascript
2019-06-09 21:48:21,768 [94] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 21:48:21,783 [101] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 420.8615ms 200 image/png
2019-06-09 21:48:21,787 [94] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 359.0342ms 200 application/javascript
2019-06-09 21:48:22,230 [94] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:48:22,299 [96] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:48:22,307 [96] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 82.3578ms 200 image/x-icon
2019-06-09 21:48:22,790 [96] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:48:22,802 [96] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:48:22,810 [96] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:48:22,825 [96] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:48:22,836 [96] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:48:22,872 [96] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:48:22,933 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:48:23,493 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 638.2025ms.
2019-06-09 21:48:23,501 [5] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:48:23,516 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 691.6255ms
2019-06-09 21:48:23,526 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:48:23,535 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 781.0912ms 200 application/json; charset=utf-8
2019-06-09 21:48:28,509 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:48:28,519 [49] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:48:28,529 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:48:28,550 [49] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:48:28,563 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:48:30,697 [49] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:48:30,743 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:48:31,031 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:48:31,080 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:48:31,127 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:48:31,184 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:48:31,241 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 2662.694ms.
2019-06-09 21:48:31,247 [78] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:48:31,254 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 2705.7982ms
2019-06-09 21:48:31,260 [78] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:48:31,268 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2758.4935ms 200 
2019-06-09 21:48:46,707 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:48:46,733 [92] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:48:46,756 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:48:46,767 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:48:46,777 [92] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:48:46,839 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:48:46,896 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:48:47,025 [102] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:48:47,054 [102] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 278.8277ms.
2019-06-09 21:48:47,065 [102] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:48:47,082 [102] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.1138ms.
2019-06-09 21:48:47,093 [102] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 325.6613ms
2019-06-09 21:48:47,178 [102] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:48:47,196 [102] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 488.4914ms 200 text/html; charset=utf-8
2019-06-09 21:48:47,203 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=eK8VPoAmvXQXH6erMv47WbyakMsof8uFbfYSYF2GsrI  
2019-06-09 21:48:47,241 [92] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 21:48:47,281 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 69.982ms 304 application/javascript
2019-06-09 21:49:54,007 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:49:54,057 [49] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:49:54,159 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[@__get_Item_0='?'], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."AccessFailedCount", e."ConcurrencyStamp", e."Email", e."EmailConfirmed", e."Inactive", e."LockoutEnabled", e."LockoutEnd", e."NormalizedEmail", e."NormalizedUserName", e."PasswordHash", e."PhoneNumber", e."PhoneNumberConfirmed", e."SecurityStamp", e."TwoFactorEnabled", e."UserName"
FROM "AspNetUsers" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2019-06-09 21:49:54,552 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (193ms) [Parameters=[@__user_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT uc."Id", uc."ClaimType", uc."ClaimValue", uc."UserId"
FROM "AspNetUserClaims" AS uc
WHERE uc."UserId" = @__user_Id_0
2019-06-09 21:49:55,075 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (440ms) [Parameters=[@__userId_0='?'], CommandType='Text', CommandTimeout='30']
SELECT role."Name"
FROM "AspNetUserRoles" AS "userRole"
INNER JOIN "AspNetRoles" AS role ON "userRole"."RoleId" = role."Id"
WHERE "userRole"."UserId" = @__userId_0
2019-06-09 21:49:55,144 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ConcurrencyStamp", r."Name", r."NormalizedName"
FROM "AspNetRoles" AS r
WHERE r."NormalizedName" = @__normalizedName_0
LIMIT 1
2019-06-09 21:49:55,412 [105] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (230ms) [Parameters=[@__role_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT rc."ClaimType", rc."ClaimValue"
FROM "AspNetRoleClaims" AS rc
WHERE rc."RoleId" = @__role_Id_0
2019-06-09 21:49:55,438 [105] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:49:55,446 [105] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:49:55,454 [105] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:49:55,501 [105] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:49:55,554 [105] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:49:55,732 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:49:55,742 [109] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 280.9423ms.
2019-06-09 21:49:55,748 [109] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:49:55,840 [109] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 91.206ms.
2019-06-09 21:49:55,847 [109] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 393.6181ms
2019-06-09 21:49:55,853 [109] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:49:55,873 [109] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1854.7889ms 200 text/html; charset=utf-8
2019-06-09 21:49:55,987 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 21:49:55,995 [113] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 21:49:56,037 [118] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 21:49:56,051 [117] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 21:49:56,059 [113] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 21:49:56,065 [114] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 21:49:56,085 [119] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 21:49:56,101 [112] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 21:49:56,105 [113] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 116.5776ms 200 text/css
2019-06-09 21:49:56,127 [120] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 21:49:56,152 [120] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 189.5565ms 200 text/css
2019-06-09 21:49:56,156 [118] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 21:49:56,161 [117] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 21:49:56,178 [113] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 21:49:56,184 [117] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 89.1763ms 200 image/gif
2019-06-09 21:49:56,185 [114] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 21:49:56,193 [119] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 155.9133ms 200 text/css
2019-06-09 21:49:56,197 [120] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 21:49:56,205 [118] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 179.8687ms 200 application/javascript
2019-06-09 21:49:56,234 [114] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 194.2218ms 200 image/png
2019-06-09 21:49:56,384 [110] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 21:49:56,393 [119] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=eQA2T9skMFNAqCOrmGM8ANATfevEA8-WEoPD6OImFPs  
2019-06-09 21:49:56,404 [121] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 21:49:56,414 [110] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 219.0099ms 200 image/png
2019-06-09 21:49:56,426 [121] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 257.7196ms 200 application/javascript
2019-06-09 21:49:56,445 [113] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:49:56,461 [113] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 97.2988ms 200 application/javascript
2019-06-09 21:49:56,611 [113] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:49:56,620 [110] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:49:56,628 [110] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 22.041ms 200 image/x-icon
2019-06-09 21:50:00,248 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:50:00,258 [49] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:50:00,292 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:50:00,310 [49] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:50:00,320 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:50:00,337 [49] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:50:00,393 [110] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:50:00,666 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 331.5576ms.
2019-06-09 21:50:00,674 [78] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:50:00,682 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 373.8804ms
2019-06-09 21:50:00,689 [78] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:50:00,696 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 448.4266ms 200 application/json; charset=utf-8
2019-06-09 21:50:08,087 [119] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:50:08,097 [119] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:50:08,107 [119] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:50:08,116 [119] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:50:08,133 [119] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:51:18,437 [119] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:51:18,458 [121] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:51:18,467 [121] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:51:18,472 [121] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:51:18,480 [121] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:51:18,486 [121] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:51:18,495 [107] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:51:18,534 [107] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:51:18,600 [123] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:51:18,819 [123] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:51:18,821 [122] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:51:18,855 [122] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 369.6789ms.
2019-06-09 21:51:18,861 [122] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:51:18,902 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:51:18,917 [122] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 45.6489ms.
2019-06-09 21:51:19,093 [121] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 21:51:19,137 [122] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 591.3924ms
2019-06-09 21:51:19,146 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (142ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:51:19,148 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 21:51:19,153 [121] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 21:51:19,162 [119] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 21:51:19,171 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 21:51:19,178 [122] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:51:19,194 [119] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 116.6934ms 200 text/css
2019-06-09 21:51:19,276 [122] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 734.455ms 200 text/html; charset=utf-8
2019-06-09 21:51:19,290 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 21:51:19,298 [121] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 21:51:19,303 [107] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (100ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:51:19,312 [119] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 21:51:19,325 [78] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 21:51:19,341 [121] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 178.8541ms 200 text/css
2019-06-09 21:51:19,365 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 222.3464ms 200 text/css
2019-06-09 21:51:19,370 [119] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 21:51:19,379 [121] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 21:51:19,400 [49] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 21:51:19,419 [121] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 106.0473ms 200 image/gif
2019-06-09 21:51:19,439 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 21:51:19,474 [107] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 71295.402ms.
2019-06-09 21:51:19,481 [119] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=7sBVMjxS6LO3FZAQEWDn5oVQvCA9Frtd22AGcskmbno  
2019-06-09 21:51:19,501 [121] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 21:51:19,508 [78] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 21:51:19,528 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 150.9612ms 200 image/png
2019-06-09 21:51:19,563 [107] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:51:19,600 [121] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 437.7203ms 200 application/javascript
2019-06-09 21:51:19,609 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 178.078ms 200 image/png
2019-06-09 21:51:19,621 [107] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 71493.5917ms
2019-06-09 21:51:19,631 [119] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:51:19,651 [78] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 21:51:19,667 [107] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:51:19,687 [119] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 244.7686ms 200 application/javascript
2019-06-09 21:51:19,720 [107] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 71618.4692ms 0 
2019-06-09 21:51:19,728 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 334.6351ms 200 application/javascript
2019-06-09 21:51:20,264 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:51:20,274 [78] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:51:20,283 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 18.7524ms 200 image/x-icon
2019-06-09 21:51:24,671 [128] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:51:24,679 [128] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:51:24,691 [128] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:51:24,701 [128] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:51:24,712 [128] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:51:24,719 [128] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:51:24,772 [119] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:51:24,968 [124] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 248.3563ms.
2019-06-09 21:51:24,977 [124] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:51:24,987 [124] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 285.8534ms
2019-06-09 21:51:24,994 [124] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:51:25,001 [124] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 329.4918ms 200 application/json; charset=utf-8
2019-06-09 21:51:37,997 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:51:38,011 [78] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:51:38,023 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:51:38,033 [78] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:51:38,041 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:51:38,050 [78] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:51:38,100 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:51:38,549 [124] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:51:38,607 [124] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:51:38,659 [124] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:51:38,710 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:51:38,769 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 716.8036ms.
2019-06-09 21:51:38,784 [5] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:51:38,807 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 762.5405ms
2019-06-09 21:51:38,816 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:51:38,824 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 839.3817ms 200 
2019-06-09 21:52:25,257 [78] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:52:25,317 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:52:25,367 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:52:25,576 [131] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:52:25,627 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:57:25,267 [144] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:57:25,335 [149] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:57:25,390 [149] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:57:25,664 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:57:25,720 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 21:59:16,836 [146] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:59:16,843 [146] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:59:16,850 [146] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:59:16,857 [146] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:59:16,864 [146] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:59:16,918 [150] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:59:16,980 [147] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:59:17,069 [150] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:59:17,078 [150] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 214.5616ms.
2019-06-09 21:59:17,084 [150] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:59:17,277 [150] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 59.6393ms.
2019-06-09 21:59:17,300 [150] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 434.9859ms
2019-06-09 21:59:17,317 [151] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 21:59:17,326 [150] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:59:17,338 [150] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 501.6398ms 200 text/html; charset=utf-8
2019-06-09 21:59:17,340 [151] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:59:17,352 [151] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 21:59:17,360 [151] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 21:59:17,372 [151] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:59:17,426 [150] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 21:59:17,491 [143] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 21:59:17,645 [154] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:59:17,655 [154] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 283.9655ms.
2019-06-09 21:59:17,671 [154] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 21:59:17,689 [154] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 16.7292ms.
2019-06-09 21:59:17,710 [154] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 348.2287ms
2019-06-09 21:59:17,857 [154] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 21:59:17,924 [154] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 614.9602ms 200 text/html; charset=utf-8
2019-06-09 21:59:17,929 [152] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NCXLpvFUpjJomIS4R96g0dAkZhuNftCaFufe6E1Lf0A  
2019-06-09 21:59:17,952 [152] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 21:59:17,963 [152] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 43.394ms 200 application/javascript
2019-06-09 21:59:18,347 [153] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 21:59:18,361 [145] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 21:59:18,375 [145] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 27.283ms 200 image/x-icon
2019-06-09 21:59:19,518 [156] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:59:19,528 [156] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:59:19,569 [156] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 21:59:19,588 [156] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:59:19,603 [156] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:59:19,615 [156] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:59:19,668 [147] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:59:20,193 [143] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 558.0718ms.
2019-06-09 21:59:20,204 [143] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 21:59:20,215 [143] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 628.3662ms
2019-06-09 21:59:20,225 [143] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 21:59:20,238 [143] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 715.2778ms 200 application/json; charset=utf-8
2019-06-09 21:59:26,587 [145] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 21:59:26,595 [145] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:59:26,603 [145] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 21:59:26,610 [145] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 21:59:26,618 [145] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 21:59:26,629 [145] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 21:59:26,681 [150] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 21:59:27,135 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 21:59:27,192 [143] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 21:59:27,252 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 21:59:27,304 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 21:59:27,356 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 726.814ms.
2019-06-09 21:59:27,365 [5] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 21:59:27,372 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 762.4887ms
2019-06-09 21:59:27,382 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 21:59:27,391 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 804.0593ms 200 
2019-06-09 22:02:25,268 [164] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:02:25,331 [150] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:02:25,383 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:02:25,599 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:02:25,651 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:02:45,263 [164] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:02:45,271 [164] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:02:45,278 [164] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:02:45,287 [164] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:02:45,295 [164] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:02:45,356 [167] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:02:45,417 [167] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:02:45,592 [167] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:02:45,604 [167] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 307.5817ms.
2019-06-09 22:02:45,616 [167] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:02:45,694 [167] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 78.5336ms.
2019-06-09 22:02:45,735 [167] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 422.2417ms
2019-06-09 22:02:46,060 [162] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:02:46,157 [167] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:02:46,187 [162] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:02:46,191 [167] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 926.1057ms 200 text/html; charset=utf-8
2019-06-09 22:02:46,200 [162] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:02:46,207 [162] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:02:46,216 [162] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:02:46,302 [167] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (76ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:02:46,451 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (137ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:02:46,669 [169] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:02:46,680 [169] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 465.5272ms.
2019-06-09 22:02:46,686 [169] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:02:46,711 [169] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.4356ms.
2019-06-09 22:02:46,723 [169] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 514.5058ms
2019-06-09 22:02:46,784 [169] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:02:46,795 [165] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=zdhLsigBodlJDhrHg90OpfPnlXxBol_C1AX1giPb1YI  
2019-06-09 22:02:46,811 [169] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1047.1576ms 200 text/html; charset=utf-8
2019-06-09 22:02:46,818 [162] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:02:46,834 [162] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 45.9558ms 200 application/javascript
2019-06-09 22:02:47,365 [175] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:02:47,402 [166] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:02:47,429 [166] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 82.0577ms 200 image/x-icon
2019-06-09 22:02:48,722 [170] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:02:48,730 [170] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:02:48,737 [170] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:02:48,751 [170] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:02:48,767 [170] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:02:48,780 [170] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:02:48,837 [167] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:02:49,485 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 700.5176ms.
2019-06-09 22:02:49,494 [5] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:02:49,518 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 765.3536ms
2019-06-09 22:02:49,526 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:02:49,563 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 812.755ms 200 application/json; charset=utf-8
2019-06-09 22:02:53,666 [165] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:02:53,679 [165] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:02:53,688 [165] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:02:53,695 [165] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:02:53,704 [165] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:02:53,713 [165] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:02:53,768 [173] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:02:54,046 [164] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:02:54,098 [169] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:02:54,152 [169] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:02:54,205 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:02:54,260 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 547.8073ms.
2019-06-09 22:02:54,267 [5] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:02:54,275 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 579.6833ms
2019-06-09 22:02:54,282 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:02:54,292 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 625.083ms 200 
2019-06-09 22:03:55,909 [181] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:03:55,917 [181] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:03:55,926 [181] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:03:55,934 [181] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:03:55,941 [181] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:03:56,012 [183] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (64ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:03:56,071 [184] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:03:56,210 [184] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:03:56,219 [184] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 278.9601ms.
2019-06-09 22:03:56,227 [184] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:03:56,304 [184] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 63.8785ms.
2019-06-09 22:03:56,330 [184] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 387.1456ms
2019-06-09 22:03:56,342 [184] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:03:56,396 [184] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 480.4819ms 200 text/html; charset=utf-8
2019-06-09 22:03:56,435 [162] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:03:56,442 [162] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:03:56,450 [162] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:03:56,457 [162] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:03:56,464 [162] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:03:56,528 [168] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:03:56,594 [183] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:03:56,739 [183] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:03:56,755 [183] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 290.8848ms.
2019-06-09 22:03:56,763 [183] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:03:56,776 [183] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.8313ms.
2019-06-09 22:03:56,793 [183] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 331.7487ms
2019-06-09 22:03:56,855 [183] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:03:56,864 [175] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=SfEzqp1W6abMRyv9-wMd2Y8_GXmGwHy2uTmGpl_XawU  
2019-06-09 22:03:56,913 [183] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 480.4535ms 200 text/html; charset=utf-8
2019-06-09 22:03:56,919 [175] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:03:56,963 [175] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 82.065ms 200 application/javascript
2019-06-09 22:03:57,487 [179] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:03:57,506 [178] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:03:57,541 [178] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 36.3379ms 200 image/x-icon
2019-06-09 22:04:04,506 [164] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:04:04,520 [164] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:04:04,543 [164] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:04:04,558 [164] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:04:04,568 [164] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:04:04,575 [164] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:04:04,673 [183] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (91ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:04:05,195 [184] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 618.8558ms.
2019-06-09 22:04:05,201 [184] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:04:05,209 [184] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 652.8454ms
2019-06-09 22:04:05,215 [184] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:04:05,222 [184] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 715.5486ms 200 application/json; charset=utf-8
2019-06-09 22:04:19,103 [173] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:04:19,112 [173] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:04:19,124 [173] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:04:19,132 [173] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:04:19,138 [173] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:04:19,205 [168] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:04:19,266 [183] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:04:19,360 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:04:19,371 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 232.498ms.
2019-06-09 22:04:19,378 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:04:19,392 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 12.4837ms.
2019-06-09 22:04:19,402 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 267.9953ms
2019-06-09 22:04:19,410 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:04:19,445 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 320.0205ms 200 text/html; charset=utf-8
2019-06-09 22:04:19,543 [181] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 22:04:19,551 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:04:19,592 [164] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:04:19,604 [178] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:04:19,625 [176] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:04:19,633 [181] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 22:04:19,809 [162] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:04:19,876 [176] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:04:19,899 [164] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:04:19,937 [182] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:04:20,034 [176] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 363.5846ms 200 image/png
2019-06-09 22:04:20,069 [178] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:04:20,086 [181] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 235.441ms 200 text/css
2019-06-09 22:04:20,105 [181] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:04:20,114 [178] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 514.8376ms 200 application/javascript
2019-06-09 22:04:20,122 [176] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=SfEzqp1W6abMRyv9-wMd2Y8_GXmGwHy2uTmGpl_XawU  
2019-06-09 22:04:20,140 [162] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:04:20,298 [162] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 601.9702ms 200 image/gif
2019-06-09 22:04:20,314 [182] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 550.2255ms 200 text/css
2019-06-09 22:04:20,338 [164] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 728.0362ms 200 text/css
2019-06-09 22:04:20,348 [187] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:04:20,401 [176] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:04:20,408 [187] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 300.6048ms 200 application/javascript
2019-06-09 22:04:20,422 [164] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:04:20,430 [176] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 326.7873ms 200 application/javascript
2019-06-09 22:04:20,451 [164] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:04:20,461 [164] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 44.1236ms 200 image/png
2019-06-09 22:04:20,530 [179] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:04:20,553 [181] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:04:20,569 [181] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 37.9223ms 200 image/x-icon
2019-06-09 22:04:23,939 [173] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:04:23,963 [173] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:04:23,974 [173] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:04:23,986 [173] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:04:23,999 [173] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:04:24,008 [173] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:04:24,090 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (74ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:04:24,357 [184] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 327.7603ms.
2019-06-09 22:04:24,364 [184] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:04:24,372 [184] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 390.0989ms
2019-06-09 22:04:24,378 [184] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:04:24,385 [184] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 445.4356ms 200 application/json; charset=utf-8
2019-06-09 22:05:31,846 [194] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:05:31,855 [194] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:05:31,863 [194] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:05:31,870 [194] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:05:31,878 [194] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:05:31,891 [194] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:05:31,960 [199] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:05:32,430 [196] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:05:32,510 [200] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (70ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:05:32,562 [200] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:05:32,611 [200] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:05:32,735 [200] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 846.5551ms.
2019-06-09 22:05:32,745 [200] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:05:32,754 [200] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 883.9046ms
2019-06-09 22:05:32,763 [200] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:05:32,772 [200] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 943.0983ms 200 
2019-06-09 22:07:00,773 [191] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:07:00,798 [191] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:07:00,806 [191] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:07:00,814 [191] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:07:00,821 [191] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:07:00,879 [200] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:07:00,936 [191] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:07:01,028 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:07:01,035 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 215.5219ms.
2019-06-09 22:07:01,042 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:07:01,064 [5] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 10.4013ms.
2019-06-09 22:07:01,171 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 289.0492ms
2019-06-09 22:07:01,241 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:07:01,245 [191] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=SfEzqp1W6abMRyv9-wMd2Y8_GXmGwHy2uTmGpl_XawU  
2019-06-09 22:07:01,271 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 483.4582ms 200 text/html; charset=utf-8
2019-06-09 22:07:01,277 [191] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:07:01,299 [191] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 111.6602ms 304 application/javascript
2019-06-09 22:07:16,144 [191] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:07:16,152 [191] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:07:16,166 [191] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:07:16,177 [191] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:07:16,186 [191] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:07:16,198 [191] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:07:16,328 [203] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (120ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:07:16,753 [200] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 557.1887ms.
2019-06-09 22:07:16,762 [200] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:07:16,779 [200] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 601.1403ms
2019-06-09 22:07:16,787 [200] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:07:16,793 [200] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 649.7304ms 200 application/json; charset=utf-8
2019-06-09 22:07:24,759 [208] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:07:24,767 [208] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:07:24,774 [208] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:07:24,781 [208] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:07:24,789 [208] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:07:24,795 [208] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:07:24,852 [200] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:07:25,113 [200] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:07:25,169 [200] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:07:25,226 [191] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:07:25,269 [193] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:07:25,291 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:07:25,351 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 554.9245ms.
2019-06-09 22:07:25,357 [5] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:07:25,364 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 582.1161ms
2019-06-09 22:07:25,372 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:07:25,382 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 625.6469ms 200 
2019-06-09 22:07:26,375 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:07:26,428 [203] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:07:26,648 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:07:26,709 [203] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:07:46,064 [208] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:07:46,079 [208] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:07:46,088 [208] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:07:46,096 [208] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:07:46,107 [208] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:07:46,170 [204] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:07:46,238 [200] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:07:46,339 [200] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:07:46,348 [200] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 242.2556ms.
2019-06-09 22:07:46,360 [200] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:07:46,404 [200] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 29.943ms.
2019-06-09 22:07:46,435 [200] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 329.2181ms
2019-06-09 22:07:46,444 [200] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:07:46,486 [200] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 389.1464ms 200 text/html; charset=utf-8
2019-06-09 22:07:46,506 [200] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=SfEzqp1W6abMRyv9-wMd2Y8_GXmGwHy2uTmGpl_XawU  
2019-06-09 22:07:46,528 [200] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:07:46,545 [200] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 35.7016ms 304 application/javascript
2019-06-09 22:12:25,263 [215] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:12:25,324 [218] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:12:25,379 [218] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:12:26,047 [225] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (92ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:12:26,113 [225] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:16:32,507 [223] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:16:32,517 [223] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:16:32,525 [223] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:16:32,538 [223] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:16:32,546 [223] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:16:32,598 [236] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:16:32,720 [236] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (113ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:16:32,888 [242] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (115ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:16:32,896 [242] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 350.7197ms.
2019-06-09 22:16:32,904 [242] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:16:45,080 [242] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 12174.4503ms.
2019-06-09 22:16:45,095 [242] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 12557.3734ms
2019-06-09 22:16:45,103 [242] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:16:45,134 [242] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 12609.3175ms 200 text/html; charset=utf-8
2019-06-09 22:16:45,205 [223] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:16:45,280 [235] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:16:45,320 [243] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 22:16:45,348 [233] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:16:45,366 [229] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:16:45,381 [243] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 22:16:45,514 [239] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:16:45,535 [235] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:16:45,558 [229] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 376.4583ms 200 text/css
2019-06-09 22:16:45,578 [243] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 245.9063ms 200 text/css
2019-06-09 22:16:45,625 [235] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 329.8989ms 200 text/css
2019-06-09 22:16:45,630 [232] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=B1t0iuhxsgXeFhE0mgLbomssGEZPItOUq8QcBBTWwLE  
2019-06-09 22:16:45,645 [229] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:16:45,668 [234] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:16:45,719 [243] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:16:45,737 [237] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:16:45,762 [240] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:16:45,770 [239] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:16:45,780 [234] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 384.1361ms 200 application/javascript
2019-06-09 22:16:45,791 [239] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 422.1811ms 200 image/gif
2019-06-09 22:16:45,795 [237] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 153.4336ms 200 image/png
2019-06-09 22:16:45,808 [235] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:16:45,821 [229] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:16:45,827 [240] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 462.0417ms 200 application/javascript
2019-06-09 22:16:45,840 [229] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 209.1642ms 200 image/png
2019-06-09 22:16:45,872 [230] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:16:45,887 [230] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 104.718ms 200 application/javascript
2019-06-09 22:16:46,157 [233] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:16:46,168 [233] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:16:46,174 [233] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 21.6344ms 200 image/x-icon
2019-06-09 22:16:49,128 [240] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:16:49,146 [240] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:16:49,152 [240] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:16:49,161 [240] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:16:49,169 [240] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:16:49,177 [240] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:16:49,225 [225] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:16:49,473 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 297.2801ms.
2019-06-09 22:16:49,481 [5] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:16:49,489 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 327.6767ms
2019-06-09 22:16:49,495 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:16:49,503 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 375.6705ms 200 application/json; charset=utf-8
2019-06-09 22:16:55,791 [240] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:16:55,799 [240] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:16:55,806 [240] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:16:55,813 [240] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:16:55,821 [240] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:16:55,830 [240] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:16:55,885 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:16:56,342 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:16:56,406 [236] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:16:56,461 [236] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:16:56,523 [236] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:16:56,579 [236] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 750.3705ms.
2019-06-09 22:16:56,589 [236] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:16:56,597 [236] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 782.7577ms
2019-06-09 22:16:56,604 [236] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:16:56,614 [236] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 843.138ms 200 
2019-06-09 22:17:02,129 [220] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:17:02,139 [220] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:17:02,147 [220] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:17:02,159 [220] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:17:02,169 [220] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:17:02,219 [225] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:17:02,288 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:17:02,895 [242] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:17:02,905 [242] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 735.105ms.
2019-06-09 22:17:02,912 [242] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:17:02,929 [242] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 12.8717ms.
2019-06-09 22:17:03,023 [242] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 786.4773ms
2019-06-09 22:17:03,035 [231] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=B1t0iuhxsgXeFhE0mgLbomssGEZPItOUq8QcBBTWwLE  
2019-06-09 22:17:03,088 [242] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:17:03,108 [231] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:17:03,113 [242] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 981.5465ms 200 text/html; charset=utf-8
2019-06-09 22:17:03,165 [231] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 108.3232ms 304 application/javascript
2019-06-09 22:17:25,068 [240] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:17:25,083 [240] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:17:25,089 [240] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:17:25,096 [240] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:17:25,103 [240] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:17:25,154 [228] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:17:25,208 [228] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:17:25,269 [239] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:17:25,320 [227] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:17:25,352 [227] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:17:25,359 [227] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 256.5814ms.
2019-06-09 22:17:25,365 [227] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:17:25,377 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:17:25,379 [227] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.397ms.
2019-06-09 22:17:25,393 [227] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 294.8287ms
2019-06-09 22:17:25,408 [227] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:17:25,419 [227] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 351.8139ms 200 text/html; charset=utf-8
2019-06-09 22:17:25,554 [237] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:17:25,562 [233] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 22:17:25,583 [220] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:17:25,589 [229] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:17:25,602 [237] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:17:25,607 [220] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:17:26,743 [220] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1163.032ms 200 text/css
2019-06-09 22:17:26,748 [237] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:17:26,752 [233] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 22:17:26,777 [233] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1218.3389ms 200 text/css
2019-06-09 22:17:26,788 [229] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=B1t0iuhxsgXeFhE0mgLbomssGEZPItOUq8QcBBTWwLE  
2019-06-09 22:17:26,793 [237] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:17:26,799 [228] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:17:26,801 [220] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:17:26,807 [233] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:17:26,820 [229] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:17:26,826 [237] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 76.0626ms 200 image/png
2019-06-09 22:17:26,832 [229] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 47.3829ms 200 application/javascript
2019-06-09 22:17:26,835 [220] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1227.2731ms 200 image/gif
2019-06-09 22:17:26,872 [229] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:17:26,892 [229] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:17:26,905 [229] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 36.2318ms 200 image/png
2019-06-09 22:17:26,914 [220] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:17:26,924 [220] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1342.6725ms 200 application/javascript
2019-06-09 22:17:26,932 [228] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:17:26,949 [237] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:17:26,952 [220] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:17:26,978 [237] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1429.1042ms 200 text/css
2019-06-09 22:17:26,992 [220] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 194.297ms 200 application/javascript
2019-06-09 22:17:27,221 [220] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:17:27,277 [239] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:17:27,289 [239] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 68.2686ms 200 image/x-icon
2019-06-09 22:17:29,558 [240] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:17:29,571 [240] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:17:29,601 [240] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:17:29,612 [240] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:17:29,709 [240] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:17:29,716 [240] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:17:29,786 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (64ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:17:30,081 [228] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 363.6828ms.
2019-06-09 22:17:30,127 [228] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:17:30,146 [228] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 528.6189ms
2019-06-09 22:17:30,154 [228] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:17:30,162 [228] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 604.6537ms 200 application/json; charset=utf-8
2019-06-09 22:17:31,199 [239] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:17:31,200 [237] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:17:31,210 [239] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:17:31,216 [237] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:17:31,223 [239] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:17:31,231 [237] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:17:31,244 [239] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:17:31,252 [237] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:17:31,257 [239] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:17:31,267 [237] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:17:31,270 [239] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:17:31,324 [228] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:17:31,325 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:17:31,388 [224] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:17:31,559 [228] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:17:31,572 [228] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 309.6656ms.
2019-06-09 22:17:31,581 [228] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:17:31,595 [228] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.9981ms.
2019-06-09 22:17:31,610 [228] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 359.2477ms
2019-06-09 22:17:31,619 [228] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:17:31,641 [228] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 428.4484ms 200 text/html; charset=utf-8
2019-06-09 22:17:31,697 [228] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (82ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:17:31,763 [228] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:17:31,867 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:17:31,937 [224] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:17:32,051 [224] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 775.3536ms.
2019-06-09 22:17:32,063 [224] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:17:32,079 [224] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 826.591ms
2019-06-09 22:17:32,104 [224] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:17:32,115 [224] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 930.1371ms 0 
[Header] 2019-06-09 22:27:35,080 [1] INFO  eMAM.Service.Utills.MailSyncer - Timed Background Service is starting.
2019-06-09 22:27:37,380 [7] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:27:37,534 [7] WARN  Microsoft.EntityFrameworkCore.Query - Query: '(from GmailUserData <generated>_1 in DbSet<GmailUserData> select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-06-09 22:27:41,811 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (162ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:27:42,046 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:27:43,677 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (549ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:27:43,940 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (126ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:27:52,836 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:27:52,945 [9] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:27:53,622 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (560ms) [Parameters=[@__get_Item_0='?'], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."AccessFailedCount", e."ConcurrencyStamp", e."Email", e."EmailConfirmed", e."Inactive", e."LockoutEnabled", e."LockoutEnd", e."NormalizedEmail", e."NormalizedUserName", e."PasswordHash", e."PhoneNumber", e."PhoneNumberConfirmed", e."SecurityStamp", e."TwoFactorEnabled", e."UserName"
FROM "AspNetUsers" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2019-06-09 22:27:54,157 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (270ms) [Parameters=[@__user_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT uc."Id", uc."ClaimType", uc."ClaimValue", uc."UserId"
FROM "AspNetUserClaims" AS uc
WHERE uc."UserId" = @__user_Id_0
2019-06-09 22:27:54,933 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (675ms) [Parameters=[@__userId_0='?'], CommandType='Text', CommandTimeout='30']
SELECT role."Name"
FROM "AspNetUserRoles" AS "userRole"
INNER JOIN "AspNetRoles" AS role ON "userRole"."RoleId" = role."Id"
WHERE "userRole"."UserId" = @__userId_0
2019-06-09 22:27:55,044 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ConcurrencyStamp", r."Name", r."NormalizedName"
FROM "AspNetRoles" AS r
WHERE r."NormalizedName" = @__normalizedName_0
LIMIT 1
2019-06-09 22:27:55,278 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (142ms) [Parameters=[@__role_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT rc."ClaimType", rc."ClaimValue"
FROM "AspNetRoleClaims" AS rc
WHERE rc."RoleId" = @__role_Id_0
2019-06-09 22:27:55,421 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:27:55,473 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:27:55,544 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:27:55,568 [4] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Attachments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 22:27:55,574 [4] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Sender' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 22:27:55,580 [4] WARN  Microsoft.EntityFrameworkCore.Query - The Include operation for navigation '[e].Status' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-06-09 22:27:55,638 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:27:55,652 [4] WARN  Microsoft.EntityFrameworkCore.Query - Query: '(from Email e in DbSet<Email> select [e]).Skip(__p_0).Take(__p_1)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-06-09 22:27:56,100 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (140ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:27:56,402 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (169ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:27:56,458 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 905.8822ms.
2019-06-09 22:27:56,503 [12] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:27:56,817 [12] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 330.6012ms.
2019-06-09 22:27:56,830 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 1349.7241ms
2019-06-09 22:27:56,840 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:27:56,899 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 4037.7288ms 200 text/html; charset=utf-8
2019-06-09 22:27:56,954 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:27:57,035 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/toastr.css  
2019-06-09 22:27:57,046 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:27:57,061 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:27:57,079 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:27:57,081 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:27:57,111 [10] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:27:57,134 [7] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/toastr.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\toastr.css'
2019-06-09 22:27:57,144 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 73.8815ms 200 image/png
2019-06-09 22:27:57,174 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 156.3976ms 200 text/css
2019-06-09 22:27:57,230 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=B1t0iuhxsgXeFhE0mgLbomssGEZPItOUq8QcBBTWwLE  
2019-06-09 22:27:57,246 [10] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:27:57,259 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:27:57,271 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 193.2859ms 200 text/css
2019-06-09 22:27:57,281 [9] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:27:57,310 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:27:57,315 [13] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:27:57,331 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:27:57,346 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 420.3973ms 200 text/css
2019-06-09 22:27:57,359 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 118.554ms 200 application/javascript
2019-06-09 22:27:57,367 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 262.5755ms 200 image/gif
2019-06-09 22:27:57,397 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 60.7961ms 404 
2019-06-09 22:27:57,441 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:27:57,469 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:27:57,476 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 429.5138ms 200 application/javascript
2019-06-09 22:27:57,522 [6] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:27:57,528 [13] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:27:57,542 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 296.0417ms 200 application/javascript
2019-06-09 22:27:57,546 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 147.1174ms 200 image/png
2019-06-09 22:27:57,845 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:27:57,858 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 13.813ms 404 
2019-06-09 22:27:57,949 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:27:57,965 [9] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:27:57,973 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 24.5804ms 200 image/x-icon
2019-06-09 22:28:00,202 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:28:00,204 [10] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:28:00,224 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:28:00,248 [10] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:28:00,275 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:28:00,286 [10] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:28:00,312 [6] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:28:00,318 [10] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:28:00,344 [10] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:28:00,348 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:28:00,363 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:28:00,366 [10] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:28:00,420 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:28:00,879 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 515.6278ms.
2019-06-09 22:28:00,888 [11] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:28:00,950 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 664.9294ms
2019-06-09 22:28:00,958 [11] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:28:00,965 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 770.1107ms 200 application/json; charset=utf-8
2019-06-09 22:28:01,412 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:28:01,598 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 1242.6398ms.
2019-06-09 22:28:01,605 [11] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:28:01,613 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 1318.4933ms
2019-06-09 22:28:01,620 [11] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:28:01,629 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1427.2877ms 200 application/json; charset=utf-8
2019-06-09 22:28:03,861 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:28:03,868 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:28:03,875 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:28:03,915 [13] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:28:03,918 [18] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:28:03,923 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:28:03,929 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:28:03,973 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:28:03,976 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:28:03,986 [13] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:28:03,989 [18] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:28:04,001 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:28:04,030 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:28:04,039 [6] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:28:04,047 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:28:04,054 [18] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:28:04,059 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:28:04,098 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:28:04,106 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:28:04,164 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:28:04,263 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:28:04,273 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 289.6943ms.
2019-06-09 22:28:04,283 [11] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:28:04,421 [11] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 18.8321ms.
2019-06-09 22:28:04,425 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:28:04,474 [9] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 50.0131ms 404 
2019-06-09 22:28:04,477 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 489.7944ms
2019-06-09 22:28:04,490 [11] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:28:04,502 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 637.3717ms 200 text/html; charset=utf-8
2019-06-09 22:28:04,932 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:28:04,956 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (223ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:28:05,066 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:28:05,129 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:28:05,375 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:28:05,428 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:28:05,439 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (68ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:28:05,483 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:28:05,562 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (71ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:28:05,600 [19] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1564.8097ms.
2019-06-09 22:28:05,609 [19] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:28:05,615 [19] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1628.9033ms
2019-06-09 22:28:05,621 [19] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:28:05,627 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1765.5603ms 0 
2019-06-09 22:28:05,634 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1577.6805ms.
2019-06-09 22:28:05,642 [12] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:28:05,648 [12] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1610.0823ms
2019-06-09 22:28:05,654 [12] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:28:05,661 [12] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1807.1861ms 0 
2019-06-09 22:28:17,302 [6] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:28:17,349 [6] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:28:17,382 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:28:17,387 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:28:17,400 [6] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:28:17,418 [16] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:28:17,421 [6] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:28:17,432 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:28:17,435 [6] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:28:17,446 [16] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:28:17,457 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:28:17,465 [16] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:28:17,493 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:28:17,514 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:28:17,771 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 303.4443ms.
2019-06-09 22:28:17,780 [5] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:28:17,789 [5] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 343.2257ms
2019-06-09 22:28:17,798 [5] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:28:17,811 [5] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 431.2863ms 200 application/json; charset=utf-8
2019-06-09 22:28:18,042 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 558.0043ms.
2019-06-09 22:28:18,068 [11] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:28:18,079 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 679.4257ms
2019-06-09 22:28:18,090 [11] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:28:18,116 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 796.9128ms 200 application/json; charset=utf-8
2019-06-09 22:28:28,722 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:28:28,734 [18] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:28:28,741 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:28:28,750 [18] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:28:28,757 [18] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:28:28,766 [18] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:28:28,815 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:28:29,101 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (100ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:28:29,157 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:28:29,210 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:28:29,277 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:28:29,352 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 586.9989ms.
2019-06-09 22:28:29,359 [11] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:28:29,366 [11] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 616.2905ms
2019-06-09 22:28:29,372 [11] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:28:29,382 [11] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 661.8779ms 200 
2019-06-09 22:29:28,167 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:29:28,196 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:29:28,198 [7] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:29:28,214 [23] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:29:28,215 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:29:28,227 [23] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:29:28,234 [7] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:29:28,243 [23] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:29:28,251 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:29:28,254 [23] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:29:28,265 [7] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:29:28,321 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:29:28,333 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:29:28,417 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (79ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:29:28,509 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:29:28,520 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 268.9292ms.
2019-06-09 22:29:28,527 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:29:28,617 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:29:28,675 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:29:28,720 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:29:28,766 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:29:28,813 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 549.3722ms.
2019-06-09 22:29:28,819 [22] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:29:28,833 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 595.3285ms
2019-06-09 22:29:28,841 [22] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:29:28,856 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 681.3449ms 200 
2019-06-09 22:29:31,932 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 3402.1838ms.
2019-06-09 22:29:31,944 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 3702.9031ms
2019-06-09 22:29:31,953 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:29:32,068 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 3804.2998ms 200 text/html; charset=utf-8
2019-06-09 22:29:32,082 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=B1t0iuhxsgXeFhE0mgLbomssGEZPItOUq8QcBBTWwLE  
2019-06-09 22:29:32,095 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:29:32,153 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 36.1317ms 404 
2019-06-09 22:29:32,165 [26] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:29:32,188 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 188.775ms 304 application/javascript
2019-06-09 22:29:32,514 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:29:32,552 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 52.8438ms 404 
2019-06-09 22:29:35,290 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:29:35,299 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:29:35,307 [29] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:29:35,334 [13] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:29:35,342 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:29:35,356 [29] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:29:35,362 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:29:35,376 [13] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:29:35,380 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:29:35,391 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:29:35,395 [29] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:29:35,401 [13] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:29:35,462 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:29:35,470 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:29:35,853 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 451.7005ms.
2019-06-09 22:29:35,859 [21] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 465.837ms.
2019-06-09 22:29:35,867 [22] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:29:35,877 [21] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:29:35,882 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 505.3966ms
2019-06-09 22:29:35,895 [22] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:29:35,902 [21] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 539.5461ms
2019-06-09 22:29:35,923 [21] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:29:35,941 [21] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 650.5094ms 200 application/json; charset=utf-8
2019-06-09 22:29:35,947 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 610.8662ms 200 application/json; charset=utf-8
2019-06-09 22:30:10,464 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:30:10,474 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:30:10,485 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:30:10,507 [31] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:30:10,524 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:30:10,542 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:30:10,606 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:30:11,078 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (84ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:30:11,148 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:30:11,200 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:30:11,249 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:30:11,295 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 754.9356ms.
2019-06-09 22:30:11,302 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:30:11,308 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 814.6556ms
2019-06-09 22:30:11,315 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:30:11,323 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 864.0027ms 200 
2019-06-09 22:30:14,040 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:30:14,058 [13] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:30:14,074 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:30:14,078 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:30:14,095 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:30:14,099 [13] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:30:14,110 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:30:14,126 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:30:14,132 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:30:14,145 [13] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:30:14,146 [31] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:30:14,207 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:30:14,212 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:30:14,273 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:30:14,442 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:30:14,493 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:30:14,540 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:30:14,599 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:30:14,660 [20] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 522.248ms.
2019-06-09 22:30:14,666 [20] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:30:14,673 [20] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 578.4664ms
2019-06-09 22:30:14,680 [20] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:30:14,687 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 675.7481ms 200 
2019-06-09 22:30:14,850 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:30:14,859 [20] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 716.0397ms.
2019-06-09 22:30:14,867 [20] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:30:14,879 [20] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.6206ms.
2019-06-09 22:30:14,889 [20] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 763.0512ms
2019-06-09 22:30:14,900 [20] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:30:14,919 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 850.0191ms 200 text/html; charset=utf-8
2019-06-09 22:30:14,986 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:30:15,060 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 74.2231ms 404 
2019-06-09 22:30:15,132 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:30:15,154 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 16.2869ms 404 
2019-06-09 22:30:31,330 [13] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:30:31,345 [7] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:30:31,351 [13] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:30:31,364 [7] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:30:31,366 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:30:31,380 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:30:31,392 [7] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:30:31,396 [13] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:30:31,416 [7] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:30:31,417 [13] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:30:31,430 [13] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:30:31,435 [7] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:30:31,484 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:30:31,491 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:30:31,881 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 450.2934ms.
2019-06-09 22:30:31,887 [38] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:30:31,896 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 511.2866ms
2019-06-09 22:30:31,904 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:30:31,940 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 587.3781ms 200 application/json; charset=utf-8
2019-06-09 22:30:32,206 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 777.1502ms.
2019-06-09 22:30:32,215 [37] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:30:32,226 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 835.6083ms
2019-06-09 22:30:32,262 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:30:32,296 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 947.2314ms 200 application/json; charset=utf-8
2019-06-09 22:30:55,010 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:30:55,026 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:30:55,038 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:30:55,060 [36] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:30:55,069 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:30:55,092 [36] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:30:55,149 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:30:55,417 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:30:55,493 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:30:55,551 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:30:55,620 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:30:55,693 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 617.7503ms.
2019-06-09 22:30:55,699 [39] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:30:55,706 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 653.7114ms
2019-06-09 22:30:55,712 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:30:55,719 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 709.7544ms 200 
2019-06-09 22:31:33,069 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:31:33,088 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:31:33,096 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:31:33,115 [44] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:31:33,121 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:31:33,132 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:31:33,135 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:31:33,145 [44] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:31:33,152 [36] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:31:33,155 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:31:33,165 [44] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:31:33,204 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:31:33,213 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:31:33,252 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:31:33,646 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:31:33,706 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:31:33,754 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:31:33,802 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:31:33,860 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:31:33,868 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 721.6365ms.
2019-06-09 22:31:33,871 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 706.5352ms.
2019-06-09 22:31:33,882 [44] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:31:33,886 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:31:33,897 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 751.4589ms
2019-06-09 22:31:33,922 [44] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:31:33,931 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 846.6504ms 200 
2019-06-09 22:31:33,944 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 60.9823ms.
2019-06-09 22:31:33,962 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 820.2969ms
2019-06-09 22:31:33,980 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:31:34,029 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 957.6234ms 200 text/html; charset=utf-8
2019-06-09 22:31:34,049 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:31:34,088 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=B1t0iuhxsgXeFhE0mgLbomssGEZPItOUq8QcBBTWwLE  
2019-06-09 22:31:34,122 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 53.5421ms 404 
2019-06-09 22:31:34,164 [4] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:31:34,187 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 104.2478ms 304 application/javascript
2019-06-09 22:31:34,381 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:31:34,399 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 40.0697ms 404 
2019-06-09 22:31:45,700 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:31:45,737 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:31:45,753 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:31:45,760 [44] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:31:45,795 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:31:45,797 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:31:45,817 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:31:45,821 [44] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:31:45,835 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:31:45,839 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:31:45,853 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:31:45,857 [44] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:31:45,915 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:31:45,919 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:31:46,120 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 271.8361ms.
2019-06-09 22:31:46,132 [41] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:31:46,145 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 332.9417ms
2019-06-09 22:31:46,160 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:31:46,169 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 478.7728ms 200 application/json; charset=utf-8
2019-06-09 22:31:46,346 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 485.5049ms.
2019-06-09 22:31:46,367 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:31:46,380 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 556.3642ms
2019-06-09 22:31:46,390 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:31:46,401 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 701.0582ms 200 application/json; charset=utf-8
2019-06-09 22:32:31,722 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:32:31,731 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:32:31,744 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:32:31,772 [46] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:32:31,781 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:32:31,794 [46] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:32:31,859 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:32:32,304 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:32:32,354 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:32:32,403 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:32:32,448 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:32:32,496 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 705.6115ms.
2019-06-09 22:32:32,503 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:32:32,510 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 750.824ms
2019-06-09 22:32:32,517 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:32:32,524 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 803.7343ms 200 
2019-06-09 22:32:35,143 [34] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:32:35,192 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:32:35,240 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:32:35,461 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:32:35,523 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:32:41,363 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:32:41,379 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:32:41,389 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:32:41,399 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:32:41,416 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:32:41,437 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:32:41,487 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:32:41,726 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:32:41,780 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:32:41,827 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:32:41,883 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:32:41,933 [50] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 505.8096ms.
2019-06-09 22:32:41,941 [50] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:32:41,950 [50] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 553.0981ms
2019-06-09 22:32:41,956 [50] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:32:41,969 [50] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 601.9643ms 200 
2019-06-09 22:32:48,526 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:32:48,559 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:32:48,570 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:32:48,584 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:32:48,595 [34] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:32:48,642 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:32:48,694 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:32:48,847 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:32:48,863 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 264.9614ms.
2019-06-09 22:32:48,875 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:32:48,887 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 10.7874ms.
2019-06-09 22:32:48,895 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 311.3233ms
2019-06-09 22:32:48,903 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:32:48,930 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 388.1469ms 200 text/html; charset=utf-8
2019-06-09 22:32:48,973 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:32:48,990 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 16.0406ms 404 
2019-06-09 22:32:59,891 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:32:59,905 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 9.481ms 404 
2019-06-09 22:33:01,398 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:33:01,422 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:33:01,430 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:33:01,456 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:33:01,460 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:33:01,469 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:33:01,470 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:33:01,483 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:33:01,486 [46] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:33:01,495 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:33:01,498 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:33:01,506 [46] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:33:01,546 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:33:01,553 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:33:01,745 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 236.6305ms.
2019-06-09 22:33:01,752 [47] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:33:01,760 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 273.6522ms
2019-06-09 22:33:01,772 [47] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:33:01,781 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 378.8589ms 200 application/json; charset=utf-8
2019-06-09 22:33:01,952 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 456.8901ms.
2019-06-09 22:33:01,964 [47] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:33:01,972 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 506.3291ms
2019-06-09 22:33:01,978 [47] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:33:01,987 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 620.0634ms 200 application/json; charset=utf-8
2019-06-09 22:33:06,330 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:33:06,338 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:33:06,348 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:33:06,359 [46] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:33:06,376 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:33:06,385 [46] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:33:06,432 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:33:06,657 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:33:06,711 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:33:06,758 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:33:06,809 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:33:06,858 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 475.4926ms.
2019-06-09 22:33:06,866 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:33:06,873 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 513.8103ms
2019-06-09 22:33:06,880 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:33:06,888 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 559.016ms 200 
2019-06-09 22:33:11,563 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:33:11,572 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:33:11,596 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:33:11,610 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:33:11,640 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:33:11,669 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:33:11,719 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:33:12,221 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:33:12,274 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:33:12,328 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:33:12,385 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:33:12,435 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 776.7655ms.
2019-06-09 22:33:12,441 [47] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:33:12,447 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 841.8101ms
2019-06-09 22:33:12,453 [47] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:33:12,459 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 903.0882ms 200 
2019-06-09 22:33:26,118 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:33:26,140 [49] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:33:26,154 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:33:26,165 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:33:26,174 [49] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:33:26,223 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:33:26,298 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:33:26,431 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:33:26,441 [48] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 268.1185ms.
2019-06-09 22:33:26,447 [48] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:33:26,459 [48] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.106ms.
2019-06-09 22:33:26,471 [48] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 307.6203ms
2019-06-09 22:33:26,480 [48] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:33:26,494 [48] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 385.1003ms 200 text/html; charset=utf-8
2019-06-09 22:33:26,508 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=B1t0iuhxsgXeFhE0mgLbomssGEZPItOUq8QcBBTWwLE  
2019-06-09 22:33:26,512 [52] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:33:26,523 [34] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:33:26,558 [52] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 25.5207ms 404 
2019-06-09 22:33:26,573 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 55.9447ms 304 application/javascript
2019-06-09 22:34:06,303 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/toastr.js  
2019-06-09 22:34:06,323 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 21.5327ms 404 
2019-06-09 22:37:35,151 [57] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:37:35,274 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (113ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:37:35,596 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (310ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:37:36,396 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (85ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:37:36,462 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "GmailUserData" SET "AccessToken" = @p0, "ExpiresAt" = @p1
WHERE "Id" = @p2;
2019-06-09 22:37:37,005 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (81ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:37:37,060 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:38:41,708 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:38:41,715 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:38:41,721 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:38:41,731 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:38:41,745 [36] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:38:41,790 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:38:41,856 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:38:42,082 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (63ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:38:42,091 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 346.3764ms.
2019-06-09 22:38:42,185 [60] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:38:43,354 [60] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 1206.0536ms.
2019-06-09 22:38:43,366 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 1634.89ms
2019-06-09 22:38:43,388 [60] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:38:43,528 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1782.3398ms 200 text/html; charset=utf-8
2019-06-09 22:38:43,541 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:38:43,546 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:38:43,550 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:38:43,553 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:38:43,557 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:38:43,566 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:38:43,672 [60] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:38:43,733 [62] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:38:43,786 [36] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:38:43,895 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 296.5881ms 200 text/css
2019-06-09 22:38:43,953 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 319.3759ms 200 image/gif
2019-06-09 22:38:43,981 [65] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:38:43,995 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 448.1661ms 200 image/png
2019-06-09 22:38:44,002 [58] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:38:44,008 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:38:44,028 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 482.0551ms 200 application/javascript
2019-06-09 22:38:44,031 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=gD4mQRI_b5UX7fwUZ0dXsw2KRE3hBoSxkRKu62irYB0  
2019-06-09 22:38:44,040 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 560.6683ms 200 text/css
2019-06-09 22:38:44,070 [36] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:38:44,112 [62] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:38:44,151 [65] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:38:44,234 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 627.9747ms 200 application/javascript
2019-06-09 22:38:44,243 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 152.2973ms 200 image/png
2019-06-09 22:38:44,284 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 239.3082ms 200 application/javascript
2019-06-09 22:38:45,007 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:38:45,031 [36] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:38:45,045 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 115.9369ms 200 image/x-icon
2019-06-09 22:38:50,420 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:38:50,436 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:38:50,445 [58] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:38:50,456 [63] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:38:50,461 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:38:50,470 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:38:50,481 [63] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:38:50,484 [58] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:38:50,499 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:38:50,500 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:38:50,511 [63] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:38:50,514 [58] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:38:50,616 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (89ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:38:50,617 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (89ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:38:51,345 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 825.4611ms.
2019-06-09 22:38:51,356 [55] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:38:51,370 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 889.1183ms
2019-06-09 22:38:51,398 [55] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:38:51,413 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1020.6306ms 200 application/json; charset=utf-8
2019-06-09 22:38:51,505 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 960.2469ms.
2019-06-09 22:38:51,520 [59] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:38:51,535 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 1050.3274ms
2019-06-09 22:38:51,546 [59] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:38:51,554 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1118.8731ms 200 application/json; charset=utf-8
2019-06-09 22:38:54,357 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:38:54,388 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:38:54,435 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:38:54,456 [36] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:38:54,474 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:38:54,485 [36] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:38:54,730 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (235ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:38:55,771 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (171ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:38:55,873 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (91ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:38:55,994 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (112ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:38:56,054 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:38:56,083 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:38:56,094 [58] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:38:56,112 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:38:56,122 [58] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:38:56,126 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1641.2125ms.
2019-06-09 22:38:56,193 [60] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:38:56,202 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:38:56,210 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:38:56,219 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1756.6569ms
2019-06-09 22:38:56,246 [58] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:38:56,254 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:38:56,296 [60] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:38:56,304 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:38:56,316 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1959.266ms 200 
2019-06-09 22:38:56,324 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:38:56,333 [64] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:38:56,431 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (131ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:38:56,435 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (89ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:38:56,641 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (196ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:38:56,781 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:38:56,791 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 460.6479ms.
2019-06-09 22:38:56,798 [60] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:38:56,810 [60] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 10.6256ms.
2019-06-09 22:38:56,819 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 500.1844ms
2019-06-09 22:38:56,826 [60] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:38:56,833 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 628.3486ms 200 text/html; charset=utf-8
2019-06-09 22:38:56,846 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:38:56,934 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=gD4mQRI_b5UX7fwUZ0dXsw2KRE3hBoSxkRKu62irYB0  
2019-06-09 22:38:56,952 [64] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:38:56,984 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 42.9028ms 304 application/javascript
2019-06-09 22:38:57,138 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (232ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:38:57,328 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:38:57,542 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (68ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:38:57,701 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1403.0948ms.
2019-06-09 22:38:57,746 [60] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:38:57,852 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1701.1769ms
2019-06-09 22:38:57,865 [60] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:38:57,878 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1792.3267ms 0 
2019-06-09 22:39:03,420 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:39:03,427 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:39:03,461 [58] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:39:03,465 [65] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:39:03,477 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:39:03,486 [65] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:39:03,506 [58] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:39:03,520 [65] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:39:03,532 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:39:03,532 [65] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:39:03,541 [58] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:03,543 [65] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:03,589 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:39:03,594 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:39:03,792 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 250.4289ms.
2019-06-09 22:39:03,798 [58] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:39:03,806 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 301.4327ms
2019-06-09 22:39:03,812 [58] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:39:03,820 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 403.8078ms 200 application/json; charset=utf-8
2019-06-09 22:39:03,997 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 459.1387ms.
2019-06-09 22:39:04,004 [55] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:39:04,012 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 513.7507ms
2019-06-09 22:39:04,090 [55] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:39:04,113 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 696.8572ms 200 application/json; charset=utf-8
2019-06-09 22:39:04,464 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:39:04,473 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:39:04,492 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:39:04,495 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:39:04,500 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:39:04,506 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:39:04,512 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:39:04,523 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:39:04,526 [64] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:39:04,530 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:39:04,546 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:39:04,553 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:39:04,556 [36] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:39:04,586 [64] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:04,598 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:39:04,607 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:04,611 [36] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:04,651 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:39:04,681 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:39:04,703 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:39:04,752 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:39:04,847 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:39:04,862 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 290.183ms.
2019-06-09 22:39:04,877 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:39:04,885 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:39:04,911 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 33.0049ms.
2019-06-09 22:39:04,923 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 377.8233ms
2019-06-09 22:39:04,931 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:39:04,937 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:39:04,942 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 451.3799ms 200 text/html; charset=utf-8
2019-06-09 22:39:04,994 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:39:05,017 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=gD4mQRI_b5UX7fwUZ0dXsw2KRE3hBoSxkRKu62irYB0  
2019-06-09 22:39:05,001 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:39:05,035 [68] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:39:05,049 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 46.1586ms 304 application/javascript
2019-06-09 22:39:05,073 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:39:05,095 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:39:05,120 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:39:05,183 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:39:05,207 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 614.1929ms.
2019-06-09 22:39:05,231 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:39:05,238 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 718.9886ms
2019-06-09 22:39:05,251 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:39:05,259 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 804.3716ms 0 
2019-06-09 22:39:05,264 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 653.5868ms.
2019-06-09 22:39:05,277 [55] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:39:05,285 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 748.7597ms
2019-06-09 22:39:05,293 [55] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:39:05,302 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 840.2575ms 0 
2019-06-09 22:39:40,753 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:39:40,761 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:39:40,769 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:39:40,776 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:39:40,784 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:40,837 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:39:40,908 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:39:41,002 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:39:41,016 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 228.013ms.
2019-06-09 22:39:41,023 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:39:41,215 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 190.9743ms.
2019-06-09 22:39:41,232 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 448.7193ms
2019-06-09 22:39:41,319 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:39:41,363 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:39:41,385 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 617.9658ms 200 text/html; charset=utf-8
2019-06-09 22:39:41,413 [74] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:39:41,435 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:39:41,446 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:39:41,449 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:39:41,485 [73] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:39:41,503 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:39:41,521 [75] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:39:41,538 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 176.8299ms 200 text/css
2019-06-09 22:39:41,554 [72] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:39:41,599 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 189.6225ms 200 application/javascript
2019-06-09 22:39:41,609 [68] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:39:41,611 [71] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:39:41,614 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 186.9771ms 200 text/css
2019-06-09 22:39:41,717 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 250.4675ms 200 image/png
2019-06-09 22:39:41,789 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 331.5923ms 200 application/javascript
2019-06-09 22:39:41,802 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=KhhYGmXzjzR1Xd0bG1gtRt77pfbb4b4VmiiR2iSTwng  
2019-06-09 22:39:41,808 [66] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:39:41,812 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:39:41,846 [77] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:39:41,848 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 420.7022ms 200 image/gif
2019-06-09 22:39:41,862 [73] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:39:42,012 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 324.5294ms 200 image/png
2019-06-09 22:39:42,026 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 413.3749ms 200 application/javascript
2019-06-09 22:39:42,085 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:39:42,157 [77] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:39:42,176 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 119.0578ms 200 image/x-icon
2019-06-09 22:39:42,730 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:39:42,737 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:39:42,908 [66] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:39:42,922 [77] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:39:42,942 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:39:42,956 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:39:42,966 [66] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:39:42,983 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:39:42,990 [77] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:39:43,017 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:39:43,023 [66] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:43,030 [77] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:43,080 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:39:43,084 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:39:43,481 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 276.2385ms.
2019-06-09 22:39:43,528 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 452.5391ms.
2019-06-09 22:39:43,571 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:39:43,606 [66] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:39:43,611 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 644.8002ms
2019-06-09 22:39:43,625 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 648.5535ms
2019-06-09 22:39:43,634 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:39:43,641 [66] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:39:43,653 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 927.0343ms 200 application/json; charset=utf-8
2019-06-09 22:39:43,713 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 939.1143ms 200 application/json; charset=utf-8
2019-06-09 22:39:44,470 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:39:44,488 [66] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:39:44,491 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:39:44,496 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:39:44,507 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:39:44,518 [77] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:39:44,521 [66] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:39:44,525 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:39:44,542 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:39:44,543 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:39:44,549 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:39:44,561 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:39:44,562 [66] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:44,565 [77] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:39:44,577 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:44,580 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:39:44,592 [77] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:39:44,618 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:39:44,628 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:39:44,649 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:39:44,694 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:39:44,827 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:39:44,840 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 266.0893ms.
2019-06-09 22:39:44,861 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:39:44,892 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 17.3098ms.
2019-06-09 22:39:44,928 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:39:44,962 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 351.5402ms
2019-06-09 22:39:44,986 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:39:44,990 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=KhhYGmXzjzR1Xd0bG1gtRt77pfbb4b4VmiiR2iSTwng  
2019-06-09 22:39:45,004 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 512.5475ms 200 text/html; charset=utf-8
2019-06-09 22:39:45,009 [66] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:39:45,022 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 31.4488ms 304 application/javascript
2019-06-09 22:39:45,031 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:39:45,095 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:39:45,147 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:39:45,195 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 637.9049ms.
2019-06-09 22:39:45,201 [75] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:39:45,209 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 691.644ms
2019-06-09 22:39:45,222 [75] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:39:45,231 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 761.6481ms 0 
2019-06-09 22:39:45,285 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (115ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:39:45,334 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:39:45,379 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:39:45,424 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:39:45,473 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 881.011ms.
2019-06-09 22:39:45,484 [69] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:39:45,492 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 932.2181ms
2019-06-09 22:39:45,499 [69] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:39:45,505 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1027.7243ms 0 
2019-06-09 22:40:05,223 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:40:05,237 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:05,244 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:40:05,252 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:40:05,259 [76] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:05,310 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:40:05,360 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:40:05,529 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:05,540 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 279.5446ms.
2019-06-09 22:40:05,547 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:40:05,784 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 217.2598ms.
2019-06-09 22:40:05,842 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 540.5372ms
2019-06-09 22:40:05,913 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:05,922 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:40:05,915 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:40:05,927 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:40:05,942 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:40:05,947 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 711.4121ms 200 text/html; charset=utf-8
2019-06-09 22:40:05,988 [66] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:40:05,993 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:40:05,997 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:40:06,023 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:40:06,337 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 106.2178ms 200 image/png
2019-06-09 22:40:06,361 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 368.6531ms 200 text/css
2019-06-09 22:40:06,367 [79] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:40:06,370 [71] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:40:06,376 [68] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:40:06,397 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 419.887ms 200 image/gif
2019-06-09 22:40:06,409 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:40:06,411 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:40:06,415 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 485.3984ms 200 application/javascript
2019-06-09 22:40:06,439 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 517.5754ms 200 application/javascript
2019-06-09 22:40:06,455 [79] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:40:06,465 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:40:06,476 [68] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:40:06,533 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 79.2847ms 200 application/javascript
2019-06-09 22:40:06,557 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 119.2465ms 200 image/png
2019-06-09 22:40:06,560 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 711.87ms 200 text/css
2019-06-09 22:40:06,762 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:40:06,780 [27] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:40:06,791 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 39.0547ms 200 image/x-icon
2019-06-09 22:40:07,849 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:07,858 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:07,875 [79] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:07,880 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:07,901 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:40:07,910 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:40:07,949 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:07,957 [79] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:07,973 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:40:07,977 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:40:07,988 [79] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:07,988 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:08,060 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:08,065 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:08,215 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 230.9966ms.
2019-06-09 22:40:08,221 [67] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:40:08,228 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 312.9034ms
2019-06-09 22:40:08,234 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:08,241 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 391.8231ms 200 application/json; charset=utf-8
2019-06-09 22:40:08,450 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 462.7357ms.
2019-06-09 22:40:08,457 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:40:08,465 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 511.3135ms
2019-06-09 22:40:08,473 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:08,481 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 634.2161ms 200 application/json; charset=utf-8
2019-06-09 22:40:09,287 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:09,289 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:40:09,294 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:09,309 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:09,336 [77] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:09,342 [79] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:09,353 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:40:09,354 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:40:09,364 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:40:09,377 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:40:09,380 [79] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:09,383 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:09,393 [77] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:09,399 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:40:09,402 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:40:09,418 [79] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:09,422 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:09,453 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:40:09,476 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:09,479 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:09,510 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:40:09,641 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:09,651 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 261.3903ms.
2019-06-09 22:40:09,659 [70] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:40:09,689 [70] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 19.0857ms.
2019-06-09 22:40:09,705 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 328.9342ms
2019-06-09 22:40:09,814 [70] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:09,832 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (128ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:40:09,864 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:40:09,900 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 543.1098ms 200 text/html; charset=utf-8
2019-06-09 22:40:09,923 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (217ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:40:09,931 [27] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:40:10,112 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:10,132 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 249.6866ms 304 application/javascript
2019-06-09 22:40:10,143 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (174ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:10,202 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:40:10,275 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:40:10,336 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:40:10,393 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 979.4006ms.
2019-06-09 22:40:10,397 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (104ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:40:10,420 [69] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:40:10,427 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1049.2419ms
2019-06-09 22:40:10,435 [69] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:10,450 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1165.8743ms 0 
2019-06-09 22:40:10,454 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1034.4295ms.
2019-06-09 22:40:10,463 [67] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:40:10,471 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1094.1339ms
2019-06-09 22:40:10,478 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:10,485 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1203.263ms 0 
2019-06-09 22:40:23,203 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:23,208 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:23,222 [66] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:23,232 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:23,233 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:40:23,246 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:40:23,250 [66] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:23,259 [76] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:23,262 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:40:23,273 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:40:23,274 [66] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:23,285 [76] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:23,333 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:23,340 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:23,555 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 283.384ms.
2019-06-09 22:40:23,563 [67] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:40:23,570 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 324.72ms
2019-06-09 22:40:23,577 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:23,584 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 402.1975ms 200 application/json; charset=utf-8
2019-06-09 22:40:23,741 [80] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 458.7047ms.
2019-06-09 22:40:23,752 [80] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:40:23,762 [80] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 503.8694ms
2019-06-09 22:40:23,771 [80] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:23,780 [80] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 571.7622ms 200 application/json; charset=utf-8
2019-06-09 22:40:24,098 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:24,111 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:24,115 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:40:24,136 [79] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:24,139 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:24,155 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:40:24,157 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:24,169 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:40:24,175 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:40:24,180 [79] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:24,192 [76] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:24,193 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:40:24,196 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:40:24,208 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:24,210 [79] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:24,213 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:40:24,230 [76] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:24,274 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:40:24,280 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:24,289 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:24,353 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:40:24,471 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:24,510 [81] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 279.5187ms.
2019-06-09 22:40:24,521 [81] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:40:24,537 [81] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.6077ms.
2019-06-09 22:40:24,549 [81] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 358.2283ms
2019-06-09 22:40:24,589 [81] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:24,608 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (80ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:40:24,638 [81] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 514.2013ms 200 text/html; charset=utf-8
2019-06-09 22:40:24,642 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (128ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:40:24,660 [81] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:40:24,672 [81] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:40:24,685 [81] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 28.3151ms 304 application/javascript
2019-06-09 22:40:24,712 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (72ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:24,716 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:24,773 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:40:24,778 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:40:24,846 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:40:24,905 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (108ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:40:24,912 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 677.0163ms.
2019-06-09 22:40:24,930 [67] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:40:24,937 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 754.1996ms
2019-06-09 22:40:24,943 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:24,950 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 851.8767ms 0 
2019-06-09 22:40:24,964 [81] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 756.9359ms.
2019-06-09 22:40:24,970 [81] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:40:24,977 [81] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 801.7281ms
2019-06-09 22:40:24,983 [81] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:24,991 [81] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 897.5999ms 0 
2019-06-09 22:40:26,387 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:26,413 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:26,433 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:26,464 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:26,492 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:40:26,503 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:40:26,509 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:26,517 [68] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:26,524 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:40:26,530 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:40:26,541 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:26,550 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:26,593 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:26,600 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:26,786 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 248.9466ms.
2019-06-09 22:40:26,793 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:40:26,801 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 292.7658ms
2019-06-09 22:40:26,807 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:26,817 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 438.0614ms 200 application/json; charset=utf-8
2019-06-09 22:40:26,993 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 448.0551ms.
2019-06-09 22:40:27,003 [64] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:40:27,012 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 494.8276ms
2019-06-09 22:40:27,019 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:27,027 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 635.6265ms 200 application/json; charset=utf-8
2019-06-09 22:40:27,329 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:27,335 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:27,356 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:40:27,360 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:27,368 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:27,381 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:27,384 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:40:27,387 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:40:27,398 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:40:27,411 [64] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:27,417 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:40:27,418 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:27,434 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:40:27,435 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:27,437 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:40:27,451 [64] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:27,454 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:27,494 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:40:27,505 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:27,515 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:27,552 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:40:27,941 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (289ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:27,950 [80] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 519.9808ms.
2019-06-09 22:40:27,958 [80] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:40:27,962 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:40:27,965 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:40:27,985 [80] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 27.1984ms.
2019-06-09 22:40:27,995 [80] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 583.2269ms
2019-06-09 22:40:28,006 [80] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:28,013 [80] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 660.6272ms 200 text/html; charset=utf-8
2019-06-09 22:40:28,021 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:28,024 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:28,066 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:40:28,079 [64] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:40:28,080 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:40:28,083 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:40:28,104 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 27.3006ms 304 application/javascript
2019-06-09 22:40:28,146 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:40:28,197 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (90ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:40:28,220 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 754.637ms.
2019-06-09 22:40:28,238 [67] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:40:28,254 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 848.8559ms
2019-06-09 22:40:28,328 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:28,338 [81] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 832.9497ms.
2019-06-09 22:40:28,368 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1041.2417ms 0 
2019-06-09 22:40:28,378 [81] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:40:28,387 [81] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 980.3815ms
2019-06-09 22:40:28,396 [81] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:28,403 [81] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1091.8012ms 0 
2019-06-09 22:40:31,752 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:31,794 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:31,811 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:31,830 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:40:31,834 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:31,842 [68] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:31,845 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:40:31,854 [64] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:31,860 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:40:31,868 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:40:31,872 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:31,882 [64] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:32,024 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:32,035 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (97ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:32,210 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 340.658ms.
2019-06-09 22:40:32,221 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:40:32,236 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 394.292ms
2019-06-09 22:40:32,250 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:32,265 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 511.054ms 200 application/json; charset=utf-8
2019-06-09 22:40:32,423 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 543.5457ms.
2019-06-09 22:40:32,434 [69] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:40:32,445 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 588.1117ms
2019-06-09 22:40:32,454 [69] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:40:32,462 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 661.8314ms 200 application/json; charset=utf-8
2019-06-09 22:40:33,055 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:33,069 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:40:33,083 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:33,099 [77] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:33,109 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:40:33,113 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:40:33,116 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:40:33,134 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:33,137 [77] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:33,148 [64] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:40:33,151 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:40:33,162 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:40:33,163 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:40:33,170 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:40:33,176 [77] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:33,181 [64] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:33,187 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:33,236 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:33,242 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:40:33,247 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:40:33,361 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (95ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:40:33,530 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (65ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:33,540 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 356.7675ms.
2019-06-09 22:40:33,547 [67] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:40:33,565 [67] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.7929ms.
2019-06-09 22:40:33,570 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:40:33,599 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 420.5732ms
2019-06-09 22:40:33,615 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:33,621 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:40:33,673 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:33,686 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 552.7511ms 200 text/html; charset=utf-8
2019-06-09 22:40:33,702 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:40:33,727 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:40:33,737 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 116.7472ms 304 application/javascript
2019-06-09 22:40:33,759 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:40:33,871 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (98ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:40:33,880 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (118ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:33,938 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:40:33,950 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 772.7371ms.
2019-06-09 22:40:33,960 [67] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:40:33,966 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 823.5713ms
2019-06-09 22:40:33,973 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:33,979 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 933.5953ms 0 
2019-06-09 22:40:33,996 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:40:34,046 [80] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 874.7412ms.
2019-06-09 22:40:34,052 [80] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:40:34,058 [80] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 926.6135ms
2019-06-09 22:40:34,064 [80] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:40:34,071 [80] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1020.3623ms 0 
2019-06-09 22:40:47,780 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:40:47,790 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:47,796 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:40:47,803 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:40:47,810 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:40:47,859 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:40:47,914 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:40:48,051 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:40:48,059 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 249.9133ms.
2019-06-09 22:40:48,066 [69] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:40:48,079 [69] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 10.4155ms.
2019-06-09 22:40:48,196 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 384.6839ms
2019-06-09 22:40:48,221 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:40:48,260 [69] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:40:48,274 [64] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:40:48,278 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 501.3554ms 200 text/html; charset=utf-8
2019-06-09 22:40:48,292 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 106.6034ms 304 application/javascript
2019-06-09 22:40:48,405 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:40:48,413 [27] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:40:48,424 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 18.5496ms 200 image/x-icon
2019-06-09 22:41:23,514 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:41:23,541 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:41:23,545 [73] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:41:23,553 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:41:23,568 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:41:23,576 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:41:23,586 [73] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:41:23,603 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:41:23,612 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:41:23,624 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:41:23,631 [73] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:41:23,641 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:41:23,699 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:41:23,714 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (63ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:41:23,999 [84] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 363.0529ms.
2019-06-09 22:41:24,019 [84] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:41:24,047 [84] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 446.9775ms
2019-06-09 22:41:24,055 [84] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:41:24,070 [84] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 604.0506ms 200 application/json; charset=utf-8
2019-06-09 22:41:24,115 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 473.6951ms.
2019-06-09 22:41:24,133 [86] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:41:24,149 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 554.7754ms
2019-06-09 22:41:24,159 [86] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:41:24,170 [86] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 631.9963ms 200 application/json; charset=utf-8
2019-06-09 22:41:30,995 [88] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:41:31,005 [88] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:41:31,016 [88] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:41:31,033 [88] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:41:31,047 [88] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:41:31,065 [88] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:41:31,130 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:41:31,457 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (135ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:41:31,507 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:41:31,556 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:41:31,612 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:41:31,664 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 605.0383ms.
2019-06-09 22:41:31,672 [86] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:41:31,682 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 652.5185ms
2019-06-09 22:41:31,689 [86] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:41:31,705 [86] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 710.5407ms 200 
2019-06-09 22:41:45,003 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:41:45,012 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:41:45,022 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:41:45,031 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:41:45,040 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:41:45,047 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:41:45,149 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (86ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:41:45,423 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:41:45,473 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:41:45,522 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:41:45,581 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:41:45,639 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 592.2902ms.
2019-06-09 22:41:45,647 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:41:45,654 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 623.892ms
2019-06-09 22:41:45,659 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:41:45,666 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 667.3852ms 200 
2019-06-09 22:41:59,109 [88] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:41:59,125 [88] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:41:59,137 [88] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:41:59,144 [88] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:41:59,151 [88] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:41:59,198 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:41:59,263 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:41:59,381 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:41:59,396 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 244.6215ms.
2019-06-09 22:41:59,403 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:41:59,574 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.5446ms.
2019-06-09 22:41:59,587 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:41:59,593 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 447.6808ms
2019-06-09 22:41:59,607 [64] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:41:59,616 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:41:59,626 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 46.0809ms 304 application/javascript
2019-06-09 22:41:59,639 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 527.9518ms 200 text/html; charset=utf-8
2019-06-09 22:42:04,262 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:42:04,265 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:42:04,336 [66] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:04,340 [73] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:04,369 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:42:04,370 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:42:04,385 [66] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:42:04,389 [73] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:42:04,398 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:42:04,407 [66] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:04,412 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:42:04,421 [73] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:04,490 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:04,496 [89] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (70ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:04,783 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 377.187ms.
2019-06-09 22:42:04,791 [86] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:42:04,799 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 414.5674ms
2019-06-09 22:42:04,807 [86] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:04,814 [86] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 557.4536ms 200 application/json; charset=utf-8
2019-06-09 22:42:05,005 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 582.5115ms.
2019-06-09 22:42:05,013 [86] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:42:05,023 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 633.4996ms
2019-06-09 22:42:05,031 [86] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:05,040 [86] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 780.0815ms 200 application/json; charset=utf-8
2019-06-09 22:42:05,369 [89] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:42:05,391 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:42:05,418 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:42:05,422 [89] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:42:05,432 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:42:05,438 [89] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:42:05,439 [66] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:42:05,449 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:42:05,452 [89] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:42:05,459 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:42:05,472 [64] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:42:05,472 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:42:05,478 [89] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:42:05,490 [89] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:05,490 [66] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:05,493 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:42:05,512 [64] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:05,570 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:05,575 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (64ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:42:05,582 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:05,643 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:42:05,810 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:42:05,821 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 335.2469ms.
2019-06-09 22:42:05,828 [85] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:42:05,840 [85] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 10.911ms.
2019-06-09 22:42:05,857 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 380.5215ms
2019-06-09 22:42:05,864 [85] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:42:05,871 [85] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 468.4991ms 200 text/html; charset=utf-8
2019-06-09 22:42:05,907 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (84ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:42:05,920 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (92ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:42:05,984 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:42:06,010 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:42:06,058 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:42:06,086 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:42:06,104 [89] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:42:06,165 [89] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 671.3975ms.
2019-06-09 22:42:06,168 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (69ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:42:06,182 [89] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:42:06,193 [89] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 737.7123ms
2019-06-09 22:42:06,205 [89] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:42:06,213 [89] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 845.9608ms 0 
2019-06-09 22:42:06,239 [84] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 723.7766ms.
2019-06-09 22:42:06,264 [84] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:42:06,277 [84] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 810.354ms
2019-06-09 22:42:06,286 [84] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:42:06,298 [84] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 927.7077ms 0 
2019-06-09 22:42:12,019 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:42:12,025 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:42:12,049 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:12,050 [73] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:12,070 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:42:12,076 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:42:12,089 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:42:12,093 [73] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:42:12,107 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b1efea0644466b) - Validation state: Valid
2019-06-09 22:42:12,110 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b1efea0644466b) - Validation state: Valid
2019-06-09 22:42:12,116 [73] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:12,125 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:12,177 [90] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:12,188 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:12,387 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 271.5668ms.
2019-06-09 22:42:12,396 [85] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:42:12,404 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 313.7239ms
2019-06-09 22:42:12,413 [85] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:12,422 [85] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 420.021ms 200 application/json; charset=utf-8
2019-06-09 22:42:12,575 [84] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 448.4749ms.
2019-06-09 22:42:12,585 [84] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:42:12,597 [84] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 504.9054ms
2019-06-09 22:42:12,604 [84] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:12,611 [84] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 586.7398ms 200 application/json; charset=utf-8
2019-06-09 22:42:12,929 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:42:12,935 [93] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:42:12,952 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:42:12,958 [93] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:42:12,971 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:42:12,972 [93] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:42:12,975 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:42:12,985 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:42:12,992 [93] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:42:12,997 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b1efea0644466b) - Validation state: Valid
2019-06-09 22:42:12,998 [91] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:42:13,010 [93] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b1efea0644466b) - Validation state: Valid
2019-06-09 22:42:13,012 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:42:13,015 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:13,026 [93] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:13,032 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:42:13,043 [91] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:13,072 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:13,081 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:13,097 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:42:13,212 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (103ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:42:13,328 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:42:13,371 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:42:13,384 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 342.3641ms.
2019-06-09 22:42:13,388 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:42:13,395 [85] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:42:13,414 [85] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 17.6401ms.
2019-06-09 22:42:13,429 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 400.1757ms
2019-06-09 22:42:13,461 [85] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:42:13,474 [93] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:42:13,498 [85] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 512.4053ms 200 text/html; charset=utf-8
2019-06-09 22:42:13,526 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:42:13,591 [91] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:42:13,600 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 102.3301ms 304 application/javascript
2019-06-09 22:42:13,629 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:42:13,664 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "Body" = @p0, "SetInCurrentStatusOn" = @p1, "StatusId" = @p2
WHERE "Id" = @p3;
2019-06-09 22:42:13,723 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 689.2576ms.
2019-06-09 22:42:13,742 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:42:13,749 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 764.1064ms
2019-06-09 22:42:13,760 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:42:13,768 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 834.2311ms 0 
2019-06-09 22:42:14,141 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (504ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:42:14,192 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:42:14,250 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "Body" = @p0, "SetInCurrentStatusOn" = @p1, "StatusId" = @p2
WHERE "Id" = @p3;
2019-06-09 22:42:14,300 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1293.2721ms.
2019-06-09 22:42:14,306 [85] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:42:14,312 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1332.5292ms
2019-06-09 22:42:14,318 [85] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:42:14,324 [85] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1397.8567ms 0 
2019-06-09 22:42:35,153 [89] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:35,202 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:35,252 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:35,438 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:42:35,491 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:42:56,784 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:42:56,808 [92] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:42:56,816 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:42:56,824 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:42:56,831 [92] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:56,876 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:42:56,933 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:42:57,018 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:42:57,027 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 195.708ms.
2019-06-09 22:42:57,991 [89] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:42:58,028 [89] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:58,044 [89] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:42:58,048 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:42:58,063 [97] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:58,066 [89] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:42:58,085 [97] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:42:58,087 [89] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:42:58,095 [97] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:42:58,098 [89] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:58,112 [97] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:42:58,123 [97] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:42:58,166 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:58,173 [85] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:42:58,177 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:42:58,226 [85] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 1191.5412ms.
2019-06-09 22:42:58,238 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 1411.3067ms
2019-06-09 22:42:58,248 [85] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:42:58,259 [85] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1478.1356ms 200 text/html; charset=utf-8
2019-06-09 22:42:58,337 [98] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:42:58,354 [87] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:42:58,401 [93] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:42:58,411 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:42:58,435 [89] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:42:58,434 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 279.2661ms.
2019-06-09 22:42:58,439 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:42:58,470 [82] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:42:58,503 [82] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 164.3784ms 200 text/css
2019-06-09 22:42:58,507 [66] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:42:58,528 [98] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:42:58,529 [82] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:42:58,536 [92] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:42:58,549 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 132.3338ms 200 image/png
2019-06-09 22:42:58,568 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 467.6453ms
2019-06-09 22:42:58,570 [98] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 202.1614ms 200 application/javascript
2019-06-09 22:42:58,583 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 477.9885ms.
2019-06-09 22:42:58,592 [92] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:58,606 [98] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:42:58,612 [66] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:42:58,619 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 573.2601ms 200 application/json; charset=utf-8
2019-06-09 22:42:58,625 [86] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:42:58,637 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 226.2092ms 200 image/gif
2019-06-09 22:42:58,654 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 590.3866ms
2019-06-09 22:42:58,664 [98] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:42:58,684 [92] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:42:58,696 [86] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:42:58,705 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 301.7255ms 200 text/css
2019-06-09 22:42:58,726 [66] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:42:58,735 [86] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 724.1588ms 200 application/json; charset=utf-8
2019-06-09 22:42:58,749 [98] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 100.7814ms 200 image/png
2019-06-09 22:42:58,759 [92] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:42:58,770 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 361.49ms 200 application/javascript
2019-06-09 22:42:58,804 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 275.2693ms 200 application/javascript
2019-06-09 22:42:59,001 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:42:59,015 [66] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:42:59,022 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 24.8296ms 200 image/x-icon
2019-06-09 22:43:00,854 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:00,859 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:00,889 [66] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:00,900 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:43:00,915 [92] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:00,931 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:43:00,932 [66] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:00,947 [92] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:00,958 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:43:00,963 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:43:00,976 [66] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:00,979 [92] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:01,027 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:01,032 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:01,255 [98] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 284.9547ms.
2019-06-09 22:43:01,262 [96] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 286.5215ms.
2019-06-09 22:43:01,265 [98] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:43:01,275 [96] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:43:01,280 [98] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 357.5915ms
2019-06-09 22:43:01,292 [98] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:01,296 [96] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 348.8748ms
2019-06-09 22:43:01,309 [96] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:01,334 [98] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 453.7355ms 200 application/json; charset=utf-8
2019-06-09 22:43:01,374 [96] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 510.4851ms 200 application/json; charset=utf-8
2019-06-09 22:43:02,537 [86] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:02,542 [97] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:43:02,560 [86] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:02,566 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:02,578 [92] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:02,579 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:43:02,584 [97] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:43:02,598 [86] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:02,599 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:43:02,612 [97] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:43:02,617 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:43:02,626 [92] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:02,636 [97] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:43:02,640 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:43:02,642 [86] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:02,651 [97] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:02,667 [92] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:02,695 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:02,710 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:43:02,719 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:02,810 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (90ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:43:02,950 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:43:03,005 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:43:03,016 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:43:03,027 [95] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 376.1607ms.
2019-06-09 22:43:03,038 [95] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:43:03,074 [95] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.1864ms.
2019-06-09 22:43:03,078 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:43:03,094 [95] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 458.1163ms
2019-06-09 22:43:03,104 [95] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:43:03,113 [95] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 572.399ms 200 text/html; charset=utf-8
2019-06-09 22:43:03,163 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:43:03,229 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:43:03,238 [87] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 563.0528ms.
2019-06-09 22:43:03,317 [87] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:43:03,367 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:43:03,377 [87] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 762.78ms
2019-06-09 22:43:03,411 [87] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:03,427 [87] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 885.9025ms 0 
2019-06-09 22:43:03,451 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:43:03,508 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:43:03,581 [95] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 948.2758ms.
2019-06-09 22:43:03,587 [95] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:43:03,593 [95] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1001.6024ms
2019-06-09 22:43:03,599 [95] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:03,606 [95] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1069.962ms 0 
2019-06-09 22:43:04,955 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:04,997 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:05,016 [66] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:05,023 [91] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:05,033 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:43:05,034 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:43:05,044 [66] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:05,052 [91] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:05,059 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 22:43:05,066 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 22:43:05,071 [66] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:05,079 [91] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:05,129 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:05,133 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:05,636 [81] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 570.2325ms.
2019-06-09 22:43:05,646 [81] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:43:05,655 [81] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 612.5699ms
2019-06-09 22:43:05,662 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 584.4399ms.
2019-06-09 22:43:05,672 [81] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:05,674 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:43:05,693 [81] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 731.772ms 200 application/json; charset=utf-8
2019-06-09 22:43:05,698 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 639.4981ms
2019-06-09 22:43:05,707 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:05,715 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 755.6511ms 200 application/json; charset=utf-8
2019-06-09 22:43:06,656 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:06,669 [66] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:06,687 [92] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:06,692 [66] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:06,696 [98] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:43:06,704 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:43:06,707 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:43:06,716 [92] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:06,719 [98] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:43:06,727 [66] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:06,738 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 22:43:06,739 [66] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 22:43:06,753 [92] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:06,757 [66] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:06,771 [98] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:43:06,787 [98] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:43:06,794 [98] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:06,807 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:06,822 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:06,838 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:43:06,892 [97] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:43:07,004 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:43:07,015 [95] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 221.7267ms.
2019-06-09 22:43:07,022 [95] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:43:07,086 [95] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 31.1643ms.
2019-06-09 22:43:07,150 [95] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 323.6614ms
2019-06-09 22:43:07,177 [95] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:43:07,198 [95] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 497.1309ms 200 text/html; charset=utf-8
2019-06-09 22:43:07,218 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (87ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:43:07,275 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:43:07,340 [91] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:43:07,418 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:43:07,479 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (64ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:43:07,597 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:43:07,647 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:43:07,650 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 900.4198ms.
2019-06-09 22:43:07,662 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:43:07,670 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 953.9151ms
2019-06-09 22:43:07,675 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:07,682 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1030.6659ms 0 
2019-06-09 22:43:07,702 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:43:07,754 [95] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1000.9657ms.
2019-06-09 22:43:07,764 [95] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:43:07,770 [95] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1044.4765ms
2019-06-09 22:43:07,777 [95] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:07,783 [95] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1125.7044ms 0 
2019-06-09 22:43:08,986 [87] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:09,004 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:09,010 [87] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:09,039 [92] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:09,045 [87] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:43:09,062 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:43:09,064 [87] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:09,073 [92] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:09,076 [87] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:43:09,084 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:43:09,087 [87] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:09,097 [92] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:09,141 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:09,149 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:09,543 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 456.8564ms.
2019-06-09 22:43:09,553 [85] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:43:09,561 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 464.2614ms.
2019-06-09 22:43:09,565 [85] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 503.0683ms
2019-06-09 22:43:09,580 [85] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:09,581 [91] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:43:09,603 [85] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 608.7467ms 200 application/json; charset=utf-8
2019-06-09 22:43:09,609 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 527.9503ms
2019-06-09 22:43:09,620 [91] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:43:09,632 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 634.1574ms 200 application/json; charset=utf-8
2019-06-09 22:43:10,103 [88] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:10,111 [92] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:43:10,126 [88] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:10,134 [92] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:10,142 [88] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:43:10,150 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:43:10,153 [88] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:10,164 [92] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:43:10,170 [86] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:43:10,171 [88] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:43:10,187 [92] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:43:10,193 [86] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:43:10,194 [88] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:10,206 [92] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:10,209 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:43:10,225 [86] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:43:10,234 [86] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:43:10,247 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:10,262 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:43:10,278 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:43:10,394 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (109ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:43:10,491 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:43:10,494 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:43:10,544 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:43:10,547 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:43:10,593 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:43:10,598 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:43:10,603 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:43:10,616 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 382.1304ms.
2019-06-09 22:43:10,630 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:43:10,652 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 15.4331ms.
2019-06-09 22:43:10,664 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:43:10,711 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 454.6025ms
2019-06-09 22:43:10,721 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:43:10,737 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 573.1721ms 200 text/html; charset=utf-8
2019-06-09 22:43:10,752 [81] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 560.6942ms.
2019-06-09 22:43:10,757 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (131ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:43:10,774 [81] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:43:10,782 [81] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 629.9081ms
2019-06-09 22:43:10,793 [81] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:10,802 [81] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 714.0888ms 0 
2019-06-09 22:43:10,815 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 614.7896ms.
2019-06-09 22:43:10,832 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:43:10,850 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 687.8585ms
2019-06-09 22:43:10,900 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:43:10,931 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 830.3937ms 0 
2019-06-09 22:44:05,738 [88] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:44:05,780 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:44:05,788 [88] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:44:05,793 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:44:05,804 [88] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:44:05,807 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:44:05,820 [76] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:44:05,826 [88] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:44:05,833 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:44:05,836 [88] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:44:05,846 [76] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:44:05,851 [88] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:44:05,918 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:44:05,923 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:44:06,114 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 265.9901ms.
2019-06-09 22:44:06,121 [78] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:44:06,128 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 310.0815ms
2019-06-09 22:44:06,135 [78] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:44:06,144 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 404.7999ms 200 application/json; charset=utf-8
2019-06-09 22:44:06,315 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 471.0658ms.
2019-06-09 22:44:06,326 [91] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:44:06,349 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 516.2216ms
2019-06-09 22:44:06,359 [91] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:44:06,366 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 590.8152ms 200 application/json; charset=utf-8
2019-06-09 22:44:07,157 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:44:07,165 [91] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:44:07,170 [88] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:44:07,214 [75] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:44:07,254 [88] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:44:07,255 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:44:07,264 [88] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:44:07,271 [75] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:44:07,284 [91] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:44:07,293 [88] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:44:07,294 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:44:07,305 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:44:07,318 [88] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:44:07,321 [75] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:44:07,324 [91] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:44:07,341 [91] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:44:07,352 [91] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:44:07,377 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:44:07,385 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:44:07,397 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:44:07,438 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:44:07,592 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:44:07,602 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 295.8408ms.
2019-06-09 22:44:07,610 [78] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:44:07,681 [78] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 13.8394ms.
2019-06-09 22:44:07,696 [78] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 412.2685ms
2019-06-09 22:44:07,701 [88] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:44:07,721 [78] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:44:07,725 [88] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:44:07,736 [78] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 564.5536ms 200 text/html; charset=utf-8
2019-06-09 22:44:07,755 [88] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 46.8927ms 304 application/javascript
2019-06-09 22:44:07,846 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:44:07,847 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:44:07,940 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:44:07,949 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:44:08,000 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:44:08,004 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:44:08,064 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:44:08,114 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 763.2794ms.
2019-06-09 22:44:08,124 [77] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:44:08,132 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 812.7135ms
2019-06-09 22:44:08,139 [77] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:44:08,146 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 990.3317ms 0 
2019-06-09 22:44:08,157 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (141ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:44:08,209 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 895.8449ms.
2019-06-09 22:44:08,216 [77] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:44:08,224 [77] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 950.4682ms
2019-06-09 22:44:08,230 [77] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:44:08,247 [77] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1086.4757ms 0 
2019-06-09 22:44:25,823 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:44:25,830 [73] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:44:25,836 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:44:25,843 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:44:25,849 [73] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:44:25,896 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:44:25,958 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:44:26,135 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:44:26,143 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 294.2046ms.
2019-06-09 22:44:27,239 [79] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:45:32,342 [79] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 66176.2898ms.
2019-06-09 22:45:32,356 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 66510.1528ms
2019-06-09 22:45:32,388 [79] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:45:32,450 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 66609.3287ms 200 text/html; charset=utf-8
2019-06-09 22:45:32,465 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:45:32,470 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:45:32,479 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:45:32,491 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:45:32,499 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:45:32,506 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:45:32,537 [79] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:45:32,545 [75] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:45:32,553 [70] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:45:32,562 [72] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:45:32,585 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 99.5131ms 200 text/css
2019-06-09 22:45:32,600 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 110.3406ms 200 image/png
2019-06-09 22:45:32,603 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 120.8485ms 200 image/gif
2019-06-09 22:45:32,607 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 114.9732ms 200 text/css
2019-06-09 22:45:32,624 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:45:32,639 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=NeDMFuy4TsfatUYhQfUOf6_kRSkhSR53LC5vPm_Qe9w  
2019-06-09 22:45:32,644 [72] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:45:32,648 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:45:32,656 [75] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:45:32,667 [70] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:45:32,676 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 208.3554ms 200 application/javascript
2019-06-09 22:45:32,691 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 61.8723ms 200 image/png
2019-06-09 22:45:32,699 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 65.87ms 200 application/javascript
2019-06-09 22:45:32,715 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 158.5201ms 200 application/javascript
2019-06-09 22:45:32,895 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:45:32,909 [70] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:45:32,918 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 28.0175ms 200 image/x-icon
2019-06-09 22:45:37,324 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:45:37,335 [68] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:45:37,345 [75] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:45:37,376 [68] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:45:37,385 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:45:37,389 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:45:37,397 [75] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:45:37,406 [68] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:45:37,409 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:45:37,418 [68] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:45:37,421 [75] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:45:37,451 [68] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:45:37,515 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:45:37,517 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:45:37,703 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 284.768ms.
2019-06-09 22:45:37,713 [71] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:45:37,721 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 323.227ms
2019-06-09 22:45:37,728 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:45:37,735 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 442.1422ms 200 application/json; charset=utf-8
2019-06-09 22:45:37,899 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 470.431ms.
2019-06-09 22:45:37,910 [79] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:45:37,917 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 511.9801ms
2019-06-09 22:45:37,924 [79] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:45:37,931 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 603.3728ms 200 application/json; charset=utf-8
2019-06-09 22:45:40,688 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:45:40,692 [65] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:45:40,704 [65] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:45:40,707 [69] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:45:40,716 [65] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:45:40,738 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:45:40,748 [65] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:45:40,751 [69] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:45:40,760 [65] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:45:40,766 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:45:40,794 [65] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:45:40,799 [69] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:45:40,864 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:45:40,867 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:45:41,100 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:45:41,149 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:45:41,200 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:45:41,245 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:45:41,295 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 500.5363ms.
2019-06-09 22:45:41,303 [75] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:45:41,310 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 562.0651ms
2019-06-09 22:45:41,320 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:45:41,325 [75] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:45:41,335 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 647.7178ms 200 
2019-06-09 22:45:41,383 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:45:41,428 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:45:41,476 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:45:41,539 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 756.4076ms.
2019-06-09 22:45:41,548 [76] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:45:41,555 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 810.1507ms
2019-06-09 22:45:41,563 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:45:41,570 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 879.4818ms 200 
2019-06-09 22:45:57,146 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:45:57,148 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:45:57,158 [75] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:45:57,169 [69] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:45:57,174 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:45:57,179 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:45:57,191 [75] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:45:57,196 [69] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:45:57,207 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:45:57,220 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:45:57,227 [75] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:45:57,234 [69] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:45:57,284 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:45:57,292 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:45:57,542 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:45:57,591 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:45:57,638 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:45:57,694 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:45:57,780 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 525.8757ms.
2019-06-09 22:45:57,790 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (83ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:45:57,796 [79] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:45:57,822 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 621.9053ms
2019-06-09 22:45:57,834 [79] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:45:57,844 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 696.3988ms 200 
2019-06-09 22:45:57,874 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:45:57,921 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:45:57,971 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:45:58,022 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 796.3171ms.
2019-06-09 22:45:58,029 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:45:58,036 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 849.0377ms
2019-06-09 22:45:58,042 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:45:58,049 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 909.4786ms 200 
2019-06-09 22:46:01,156 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:46:01,158 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:46:01,173 [70] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:46:01,174 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:46:01,185 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:46:01,188 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:46:01,195 [67] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:46:01,202 [70] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:46:01,214 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:46:01,217 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:46:01,227 [70] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:46:01,230 [67] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:46:01,287 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:46:01,288 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:46:01,530 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:46:01,541 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:46:01,584 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:46:01,588 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:46:01,636 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:46:01,644 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:46:01,691 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:46:01,741 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 513.2752ms.
2019-06-09 22:46:01,745 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (88ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:46:01,754 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:46:01,764 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 562.1863ms
2019-06-09 22:46:01,772 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:46:01,781 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 627.5319ms 200 
2019-06-09 22:46:01,827 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 600.678ms.
2019-06-09 22:46:01,833 [79] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:46:01,841 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 645.5308ms
2019-06-09 22:46:01,847 [79] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:46:01,853 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 697.3405ms 200 
2019-06-09 22:46:07,081 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:46:07,091 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:46:07,099 [62] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:46:07,128 [62] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:46:07,142 [62] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:46:07,150 [75] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:46:07,164 [62] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 22:46:07,170 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:46:07,182 [62] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:46:07,183 [75] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:46:07,197 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 22:46:07,207 [75] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:46:07,232 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:46:07,253 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:46:07,478 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 272.2398ms.
2019-06-09 22:46:07,484 [71] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:46:07,495 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 314.4853ms
2019-06-09 22:46:07,502 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:46:07,510 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 424.4756ms 200 application/json; charset=utf-8
2019-06-09 22:46:07,659 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 478.4391ms.
2019-06-09 22:46:07,669 [64] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:46:07,684 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 538.2128ms
2019-06-09 22:46:07,691 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:46:07,700 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 624.1246ms 200 application/json; charset=utf-8
2019-06-09 22:46:08,169 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:46:08,172 [62] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:46:08,186 [69] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:46:08,190 [62] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:46:08,204 [62] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:46:08,205 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:46:08,212 [62] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:46:08,221 [69] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:46:08,225 [62] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 22:46:08,236 [69] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b2dbc15cfe2b16) - Validation state: Valid
2019-06-09 22:46:08,240 [62] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:46:08,247 [69] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:46:08,295 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:46:08,296 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:46:08,640 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (90ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:46:08,721 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (70ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:46:08,818 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (86ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:46:08,870 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:46:08,882 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (90ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:46:08,927 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 689.2787ms.
2019-06-09 22:46:08,940 [79] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:46:08,942 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:46:08,954 [79] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 738.8163ms
2019-06-09 22:46:08,969 [79] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:46:09,012 [79] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 806.088ms 200 
2019-06-09 22:46:09,016 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:46:09,165 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (137ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:46:09,227 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 983.1784ms.
2019-06-09 22:46:09,234 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:46:09,245 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1023.6396ms
2019-06-09 22:46:09,252 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:46:09,259 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1090.8624ms 200 
2019-06-09 22:47:00,481 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:47:00,495 [67] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:47:00,503 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:47:00,512 [67] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:47:00,519 [67] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:00,573 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:47:00,641 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:47:00,722 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:00,734 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 214.392ms.
2019-06-09 22:47:00,741 [61] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:47:00,846 [61] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 89.9201ms.
2019-06-09 22:47:00,993 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 445.1443ms
2019-06-09 22:47:01,009 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:47:01,054 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:47:01,062 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:47:01,072 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:47:01,095 [61] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:47:01,105 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:47:01,405 [67] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:47:01,428 [70] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:47:01,553 [58] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:47:01,559 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 694.5866ms 200 text/html; charset=utf-8
2019-06-09 22:47:01,577 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 567.2078ms 200 application/javascript
2019-06-09 22:47:01,730 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 547.7531ms 200 image/png
2019-06-09 22:47:01,757 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 708.9099ms 200 text/css
2019-06-09 22:47:01,775 [55] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:47:01,794 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:47:01,816 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 714.492ms 200 application/javascript
2019-06-09 22:47:01,833 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=tC2F9dtdNBr64-8FIPfVlwMqR2cHjadp11RwLWNPz9M  
2019-06-09 22:47:01,854 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:47:01,931 [55] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:47:01,977 [54] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:47:01,997 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:47:02,021 [67] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:47:02,030 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1038.7736ms 200 text/css
2019-06-09 22:47:02,048 [54] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 223.3385ms 200 image/gif
2019-06-09 22:47:02,242 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 263.5934ms 200 image/png
2019-06-09 22:47:02,507 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 299.059ms 200 application/javascript
2019-06-09 22:47:02,598 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:47:02,630 [67] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:47:02,640 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 50.8933ms 200 image/x-icon
2019-06-09 22:47:04,108 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:04,133 [75] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:47:04,155 [54] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:04,161 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:47:04,180 [54] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:47:04,187 [75] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:04,192 [54] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:47:04,206 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:04,212 [54] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:04,219 [75] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:04,229 [54] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:04,239 [54] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:04,268 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:04,287 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:04,718 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 462.0681ms.
2019-06-09 22:47:04,742 [75] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:47:04,754 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 542.8209ms
2019-06-09 22:47:04,766 [75] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:47:04,790 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 665.5897ms 200 application/json; charset=utf-8
2019-06-09 22:47:04,805 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 582.0819ms.
2019-06-09 22:47:04,817 [51] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:47:04,830 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 644.3853ms
2019-06-09 22:47:04,840 [51] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:47:04,850 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 743.009ms 200 application/json; charset=utf-8
2019-06-09 22:47:05,786 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:05,787 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:05,797 [51] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:05,800 [59] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:05,810 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:05,812 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:05,821 [51] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:05,824 [59] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:05,834 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:05,837 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:05,846 [51] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:05,848 [59] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:05,916 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:05,924 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:06,373 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:06,380 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:06,448 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:06,452 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:06,501 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:06,509 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:06,552 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:06,599 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (81ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:06,606 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 757.1637ms.
2019-06-09 22:47:06,614 [71] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:06,621 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 799.5734ms
2019-06-09 22:47:06,627 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:06,634 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 849.5001ms 200 
2019-06-09 22:47:06,652 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 809.3761ms.
2019-06-09 22:47:06,665 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:06,672 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 853.1342ms
2019-06-09 22:47:06,679 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:06,686 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 906.2947ms 200 
2019-06-09 22:47:08,218 [60] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:08,227 [52] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:08,257 [60] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:08,263 [52] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:08,270 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:08,279 [52] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:08,283 [60] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:08,291 [52] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:08,296 [60] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:08,306 [52] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:08,308 [60] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:08,317 [52] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:08,358 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:08,365 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:08,718 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:08,769 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:08,808 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:08,819 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:08,862 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:08,877 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:08,923 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:08,925 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 619.8351ms.
2019-06-09 22:47:08,936 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:08,941 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:08,970 [71] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:08,975 [51] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:08,988 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:08,995 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:09,007 [51] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:09,013 [59] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,027 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 706.3353ms
2019-06-09 22:47:09,035 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:09,037 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:09,045 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,055 [59] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:09,056 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 738.9302ms.
2019-06-09 22:47:09,061 [51] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:09,072 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 852.2393ms 200 
2019-06-09 22:47:09,117 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:09,133 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:09,134 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:09,143 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:09,154 [59] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:09,158 [53] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:09,161 [51] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,186 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,195 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:09,203 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 911.1676ms
2019-06-09 22:47:09,210 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:09,217 [51] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:09,227 [53] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,234 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:09,242 [71] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:09,246 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:09,258 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1035.8213ms 200 
2019-06-09 22:47:09,279 [51] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:09,292 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:09,312 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:09,332 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:09,339 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,343 [71] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:09,348 [59] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,355 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:09,373 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:09,374 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:09,386 [76] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:09,413 [59] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:09,437 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:09,447 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:09,461 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:09,514 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:09,525 [59] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:09,550 [76] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:09,558 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:09,577 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:09,594 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:09,633 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:09,636 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:09,691 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:09,700 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:09,709 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:09,751 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 698.3414ms.
2019-06-09 22:47:09,759 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:09,766 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:09,772 [51] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:09,782 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 780.7036ms
2019-06-09 22:47:09,788 [51] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,796 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 855.5152ms 200 
2019-06-09 22:47:09,807 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:09,817 [51] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,820 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 676.4279ms.
2019-06-09 22:47:09,827 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:09,837 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:09,842 [71] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:09,848 [51] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:09,861 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 804.8559ms
2019-06-09 22:47:09,863 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:09,870 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,882 [51] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:09,886 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 946.2589ms 200 
2019-06-09 22:47:09,893 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:09,909 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:09,917 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:09,930 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:09,932 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:09,945 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:09,946 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 678.1144ms.
2019-06-09 22:47:09,957 [71] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:09,976 [63] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:09,991 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:09,992 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 774.5135ms
2019-06-09 22:47:10,005 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:10,010 [63] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:10,014 [71] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:10,029 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 895.2917ms 200 
2019-06-09 22:47:10,069 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:10,073 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:10,082 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:10,130 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:10,138 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:10,150 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:10,164 [53] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:10,174 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:10,195 [53] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:10,196 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 860.6296ms.
2019-06-09 22:47:10,203 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:10,212 [61] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:10,216 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:10,241 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1001.8018ms
2019-06-09 22:47:10,245 [53] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:10,257 [61] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:10,267 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1133.1133ms 200 
2019-06-09 22:47:10,277 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:10,286 [61] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:10,311 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:10,316 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:10,325 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (95ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:10,320 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (74ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:10,337 [61] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:10,354 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:10,367 [61] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:10,394 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:10,414 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 907.7877ms.
2019-06-09 22:47:10,435 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:10,443 [71] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:10,455 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:10,467 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1078.0326ms
2019-06-09 22:47:10,477 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:10,494 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1161.949ms 200 
2019-06-09 22:47:10,504 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:10,519 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:10,522 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:10,534 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:10,542 [71] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:10,550 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:10,558 [71] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:10,575 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 697.6279ms.
2019-06-09 22:47:10,582 [61] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:10,594 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 745.7771ms
2019-06-09 22:47:10,600 [61] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:10,610 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:10,615 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 805.7845ms 200 
2019-06-09 22:47:10,631 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:10,641 [61] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:10,658 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:10,670 [61] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:10,679 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:10,690 [61] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:10,822 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (103ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:10,840 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (96ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:10,847 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (103ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:10,849 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (81ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:11,806 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (940ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:11,844 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (942ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:11,865 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:11,917 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:11,942 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:11,996 [72] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1628.523ms.
2019-06-09 22:47:12,008 [72] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:12,017 [72] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1682.7235ms
2019-06-09 22:47:12,027 [72] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:12,038 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1760.9419ms 200 
2019-06-09 22:47:12,045 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:12,055 [72] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:12,061 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (120ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:12,073 [72] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:12,082 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:12,095 [72] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:12,107 [72] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:12,115 [72] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:12,142 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:12,162 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:12,191 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:12,229 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1992.4542ms.
2019-06-09 22:47:12,236 [63] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:12,247 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 2058.1673ms
2019-06-09 22:47:12,249 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:12,259 [63] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:12,269 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 2117.277ms 200 
2019-06-09 22:47:12,286 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:47:12,300 [63] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:12,314 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1750.2312ms.
2019-06-09 22:47:12,316 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:47:12,339 [63] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:47:12,341 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:12,365 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1821.3569ms
2019-06-09 22:47:12,369 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:47:12,376 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:12,443 [63] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:12,447 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1934.8518ms 200 
2019-06-09 22:47:12,502 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:12,572 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (215ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:12,651 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (69ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:12,690 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (571ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:12,706 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:12,747 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:12,757 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:12,804 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:12,811 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 695.7536ms.
2019-06-09 22:47:12,819 [61] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:12,825 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 735.6568ms
2019-06-09 22:47:12,831 [61] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:12,839 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 792.1918ms 200 
2019-06-09 22:47:12,860 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:12,941 [50] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 2939.2106ms.
2019-06-09 22:47:12,951 [50] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:12,958 [50] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 3005.4413ms
2019-06-09 22:47:12,967 [50] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:12,972 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:12,980 [50] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 3073.4094ms 200 
2019-06-09 22:47:13,042 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:13,098 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:13,151 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:13,215 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 777.9815ms.
2019-06-09 22:47:13,227 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:13,234 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 904.0373ms
2019-06-09 22:47:13,243 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:13,254 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 970.3403ms 200 
2019-06-09 22:47:14,358 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:14,405 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (102ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:47:14,413 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:14,461 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:47:14,471 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:14,517 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:47:14,527 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:14,577 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 3890.4173ms.
2019-06-09 22:47:14,580 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:47:14,586 [53] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:14,600 [53] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 3928.477ms
2019-06-09 22:47:14,607 [53] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:14,615 [53] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 3984.4231ms 200 
2019-06-09 22:47:14,641 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 5174.2343ms.
2019-06-09 22:47:14,646 [63] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:47:14,653 [63] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 5271.367ms
2019-06-09 22:47:14,659 [63] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:47:14,666 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 5378.142ms 200 
2019-06-09 22:47:35,149 [76] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:47:35,204 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:35,259 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:47:35,456 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:47:35,508 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:48:27,085 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:48:27,096 [44] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:48:27,104 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:48:27,112 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:48:27,119 [44] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:27,165 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:48:27,251 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (78ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:48:27,420 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:27,435 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 313.3437ms.
2019-06-09 22:48:27,889 [47] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:48:27,942 [47] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 494.7719ms.
2019-06-09 22:48:27,956 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 841.6513ms
2019-06-09 22:48:27,987 [47] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:48:27,996 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:48:28,050 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 940.1362ms 200 text/html; charset=utf-8
2019-06-09 22:48:28,100 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:48:28,115 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:48:28,142 [67] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:48:28,203 [39] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:48:28,208 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:48:28,210 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 194.0087ms 200 text/css
2019-06-09 22:48:28,217 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=tC2F9dtdNBr64-8FIPfVlwMqR2cHjadp11RwLWNPz9M  
2019-06-09 22:48:28,249 [38] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:48:28,282 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 130.4151ms 200 text/css
2019-06-09 22:48:28,310 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:48:28,337 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:48:28,341 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:48:28,354 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 269.9555ms 200 application/javascript
2019-06-09 22:48:28,367 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 148.3573ms 200 application/javascript
2019-06-09 22:48:28,373 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:48:28,384 [40] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:48:28,403 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 68.9753ms 200 image/png
2019-06-09 22:48:28,412 [42] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:48:28,427 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 244.1118ms 200 image/png
2019-06-09 22:48:28,430 [42] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 218.6311ms 200 image/gif
2019-06-09 22:48:28,437 [67] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:48:28,466 [33] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:48:28,474 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 36.4879ms 200 application/javascript
2019-06-09 22:48:28,597 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:48:28,626 [33] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:48:28,639 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 41.9596ms 200 image/x-icon
2019-06-09 22:48:29,593 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:29,604 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:29,618 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:48:29,629 [76] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:48:29,644 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:48:29,662 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:48:29,668 [41] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:29,679 [76] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:29,693 [76] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:29,698 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:29,711 [76] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:29,717 [41] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:29,771 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:29,774 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:30,279 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 568.3939ms.
2019-06-09 22:48:30,287 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 567.7107ms.
2019-06-09 22:48:30,299 [46] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:48:30,311 [47] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:48:30,329 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 636.2863ms
2019-06-09 22:48:30,346 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:48:30,347 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 676.7578ms
2019-06-09 22:48:30,405 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 759.4196ms 200 application/json; charset=utf-8
2019-06-09 22:48:30,406 [47] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:48:30,423 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 826.7225ms 200 application/json; charset=utf-8
2019-06-09 22:48:31,038 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:31,053 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:31,060 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:31,074 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:31,075 [75] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:31,082 [41] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:31,092 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:31,097 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:31,104 [75] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:31,114 [41] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:31,118 [75] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:31,128 [75] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:31,168 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:31,178 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:31,545 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (90ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:31,595 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:31,642 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:31,690 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:31,713 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:31,740 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 612.2498ms.
2019-06-09 22:48:31,749 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:31,757 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 652.6103ms
2019-06-09 22:48:31,760 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:31,767 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:31,778 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 738.3076ms 200 
2019-06-09 22:48:31,822 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:31,869 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:31,916 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 805.2249ms.
2019-06-09 22:48:31,924 [45] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:31,931 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 848.9268ms
2019-06-09 22:48:31,938 [45] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:31,946 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 909.3604ms 200 
2019-06-09 22:48:32,123 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:32,127 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:32,163 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:32,171 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:32,174 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:32,181 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:32,192 [41] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:32,196 [33] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:32,212 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:32,216 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:32,235 [41] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:32,241 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:32,315 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:32,320 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:32,324 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:32,339 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:32,349 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:32,362 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:32,383 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:32,391 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:32,404 [39] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:32,408 [33] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:32,422 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:32,428 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:32,438 [39] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:32,444 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:32,523 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:32,525 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:32,593 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:32,643 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:32,654 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:32,674 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:32,678 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:32,690 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:32,694 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:32,706 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:32,712 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:32,718 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:32,720 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:32,748 [39] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:32,749 [34] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:32,761 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:32,767 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:32,768 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:32,782 [39] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:32,787 [34] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:32,794 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:32,836 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:32,851 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:32,868 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 639.7923ms.
2019-06-09 22:48:32,874 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (73ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:32,891 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:32,928 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 739.999ms
2019-06-09 22:48:32,940 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:32,950 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 831.2275ms 200 
2019-06-09 22:48:32,960 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:32,968 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:32,971 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 736.73ms.
2019-06-09 22:48:32,980 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:32,996 [45] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:32,998 [4] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:33,001 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:33,015 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 822.2503ms
2019-06-09 22:48:33,025 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:33,030 [45] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:33,039 [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:33,050 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 923.4104ms 200 
2019-06-09 22:48:33,064 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:33,081 [45] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:33,100 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:33,101 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:33,111 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:33,146 [45] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:33,166 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:33,172 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:33,201 [45] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:33,220 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:33,264 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:33,269 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:33,284 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:33,328 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 887.248ms.
2019-06-09 22:48:33,335 [39] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:33,344 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 937.7914ms
2019-06-09 22:48:33,349 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:33,366 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:33,373 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:33,369 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:33,394 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1071.3025ms 200 
2019-06-09 22:48:33,423 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:33,432 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:33,446 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:33,455 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:33,459 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:33,470 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:33,482 [39] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:33,496 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:33,508 [39] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:33,509 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1073.0003ms.
2019-06-09 22:48:33,522 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:33,532 [46] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:33,542 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:33,555 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1153.9199ms
2019-06-09 22:48:33,565 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:33,570 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:33,585 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1259.5488ms 200 
2019-06-09 22:48:33,600 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:33,626 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:33,634 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:33,647 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:33,653 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:33,674 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (107ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:33,675 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 895.3592ms.
2019-06-09 22:48:33,680 [46] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:33,695 [41] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:33,699 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:33,711 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 967.8366ms
2019-06-09 22:48:33,713 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:33,716 [46] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:33,725 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:33,741 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 961.2091ms.
2019-06-09 22:48:33,757 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:33,764 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1078.7667ms 200 
2019-06-09 22:48:33,782 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1044.7174ms
2019-06-09 22:48:33,786 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:33,790 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:33,793 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:33,805 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:33,825 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1146.681ms 200 
2019-06-09 22:48:33,837 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:33,847 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:33,860 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:33,866 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:33,869 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:33,892 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:33,895 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:33,947 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:33,957 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 918.2491ms.
2019-06-09 22:48:33,979 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:33,996 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:34,004 [41] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:34,020 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:34,030 [47] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:34,074 [4] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:34,079 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:34,091 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1097.549ms
2019-06-09 22:48:34,095 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:34,118 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:34,126 [41] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:34,133 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:34,141 [47] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:34,155 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1192.7263ms 200 
2019-06-09 22:48:34,159 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 968.0424ms.
2019-06-09 22:48:34,177 [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:34,182 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:34,187 [33] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:34,194 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:34,208 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:34,209 [47] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:34,233 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1075.4986ms
2019-06-09 22:48:34,234 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:34,250 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:34,243 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:34,260 [47] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:34,270 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 764.6122ms.
2019-06-09 22:48:34,278 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1208.5797ms 200 
2019-06-09 22:48:34,314 [37] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:34,317 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:34,333 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:34,340 [47] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:34,347 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 860.0202ms
2019-06-09 22:48:34,354 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:34,375 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:34,376 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:34,380 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:34,406 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 979.7965ms 200 
2019-06-09 22:48:34,410 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:34,424 [33] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:34,427 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:34,455 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:34,469 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:34,497 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:34,498 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:34,525 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:34,529 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:34,536 [37] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:34,550 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:34,552 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:34,556 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:34,570 [37] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:34,586 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:34,622 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:34,625 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:34,639 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:34,697 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 969.7734ms.
2019-06-09 22:48:34,730 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:34,733 [46] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:34,745 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1073.5394ms
2019-06-09 22:48:34,752 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:34,766 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1144.7408ms 200 
2019-06-09 22:48:34,780 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:34,795 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 689.0876ms.
2019-06-09 22:48:34,804 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:34,809 [45] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:34,819 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:34,831 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 839.3367ms
2019-06-09 22:48:34,836 [46] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:34,849 [45] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:34,854 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:34,865 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1078.9524ms 200 
2019-06-09 22:48:34,884 [46] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:34,887 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:34,906 [45] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:34,918 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:34,924 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:34,963 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:34,951 [45] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:34,968 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:35,001 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:35,034 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:35,049 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:35,046 [45] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:35,042 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:35,077 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (63ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:35,123 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:35,138 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:35,146 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:35,151 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:35,166 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:35,187 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:35,203 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:35,236 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:35,265 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 777.6154ms.
2019-06-09 22:48:35,275 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (71ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:35,288 [43] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:35,295 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 891.2158ms
2019-06-09 22:48:35,303 [43] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:35,313 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 979.1215ms 200 
2019-06-09 22:48:35,320 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:35,333 [43] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:35,346 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1000.7301ms.
2019-06-09 22:48:35,346 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (156ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:35,360 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:35,369 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:35,378 [43] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:35,392 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1131.3539ms
2019-06-09 22:48:35,399 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:35,402 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:35,412 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1238.4236ms 200 
2019-06-09 22:48:35,419 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1242.3817ms.
2019-06-09 22:48:35,422 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (171ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:35,432 [43] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:35,441 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:35,449 [45] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:35,467 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:35,471 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1439.6214ms
2019-06-09 22:48:35,479 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:35,487 [45] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:35,499 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 933.78ms.
2019-06-09 22:48:35,507 [4] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:35,515 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1655.6971ms 200 
2019-06-09 22:48:35,518 [30] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:35,529 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:35,553 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1010.4213ms
2019-06-09 22:48:35,578 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:35,604 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (94ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:35,612 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:35,613 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:35,651 [30] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:35,672 [45] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:35,687 [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:35,697 [30] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1258.2518ms 200 
2019-06-09 22:48:35,717 [30] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:35,721 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:35,732 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:35,737 [30] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:35,742 [45] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:35,752 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:35,768 [30] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:35,770 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:35,787 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:35,788 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:35,791 [45] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:35,800 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:35,819 [30] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:35,855 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:35,876 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:35,877 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:35,915 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:35,947 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1068.336ms.
2019-06-09 22:48:35,964 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:35,975 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:35,987 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1152.3042ms
2019-06-09 22:48:36,011 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (338ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:36,029 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:36,041 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:36,054 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1274.7376ms 200 
2019-06-09 22:48:36,087 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:48:36,093 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (69ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:36,101 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:36,110 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:36,118 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:48:36,131 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:36,135 [4] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:48:36,144 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:36,156 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:48:36,159 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:36,155 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:36,169 [4] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:48:36,191 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (70ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:36,192 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 779.3763ms.
2019-06-09 22:48:36,203 [46] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:36,213 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 833.9794ms
2019-06-09 22:48:36,214 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:36,224 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:36,229 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:36,231 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:36,245 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 923.9817ms 200 
2019-06-09 22:48:36,258 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1216.0571ms.
2019-06-09 22:48:36,283 [37] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:36,288 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:36,302 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:36,307 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1357.1746ms
2019-06-09 22:48:36,316 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:36,343 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:36,357 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1475.8919ms 200 
2019-06-09 22:48:36,378 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 688.0437ms.
2019-06-09 22:48:36,384 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (73ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:36,394 [45] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:36,408 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 914.1928ms
2019-06-09 22:48:36,419 [45] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:36,433 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 996.4133ms 200 
2019-06-09 22:48:36,451 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (106ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:36,462 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 667.6774ms.
2019-06-09 22:48:36,476 [37] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:36,482 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 743.1517ms
2019-06-09 22:48:36,489 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:36,497 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 929.2042ms 200 
2019-06-09 22:48:36,513 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 705.0832ms.
2019-06-09 22:48:36,520 [45] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:36,528 [45] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 762.9525ms
2019-06-09 22:48:36,534 [45] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:36,543 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 828.4878ms 200 
2019-06-09 22:48:37,183 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:48:37,427 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:48:37,475 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:48:37,521 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:48:37,568 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:48:37,626 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1449.9572ms.
2019-06-09 22:48:37,640 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:48:37,649 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1517.1717ms
2019-06-09 22:48:37,660 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:48:37,673 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1582.6894ms 200 
2019-06-09 22:49:26,465 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:49:26,477 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:49:26,490 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:49:26,500 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:49:26,508 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:26,557 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:49:26,615 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:49:26,863 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (121ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:49:26,898 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 367.79ms.
2019-06-09 22:49:27,353 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:49:27,409 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 495.9111ms.
2019-06-09 22:49:27,421 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 923.2951ms
2019-06-09 22:49:27,462 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:49:27,517 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1041.0208ms 200 text/html; charset=utf-8
2019-06-09 22:49:27,538 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:49:27,572 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:49:27,582 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:49:27,598 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:49:27,624 [27] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:49:27,626 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:49:27,631 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:49:27,667 [18] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:49:27,693 [22] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:49:27,708 [26] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:49:27,726 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 111.8908ms 200 image/png
2019-06-09 22:49:27,757 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 226.2009ms 200 text/css
2019-06-09 22:49:27,760 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:49:27,769 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 294.1113ms 200 text/css
2019-06-09 22:49:27,774 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 193.4276ms 200 image/gif
2019-06-09 22:49:27,784 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=tC2F9dtdNBr64-8FIPfVlwMqR2cHjadp11RwLWNPz9M  
2019-06-09 22:49:27,807 [26] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:49:27,815 [25] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:49:27,822 [22] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:49:27,831 [27] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:49:27,860 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 95.7632ms 200 image/png
2019-06-09 22:49:27,869 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 78.3923ms 200 application/javascript
2019-06-09 22:49:27,899 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 301.4962ms 200 application/javascript
2019-06-09 22:49:27,918 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 300.3458ms 200 application/javascript
2019-06-09 22:49:28,025 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:49:28,038 [27] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:49:28,046 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 24.2666ms 200 image/x-icon
2019-06-09 22:49:29,048 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:29,051 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:29,063 [22] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:29,066 [25] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:29,082 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:49:29,111 [22] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:29,116 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:49:29,128 [25] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:29,131 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:29,147 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:29,149 [22] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:29,159 [25] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:29,205 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:29,212 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:29,824 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 678.0519ms.
2019-06-09 22:49:29,831 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 670.8556ms.
2019-06-09 22:49:29,835 [32] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:49:29,847 [29] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:49:29,851 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 740.2204ms
2019-06-09 22:49:29,862 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:29,867 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 737.964ms
2019-06-09 22:49:29,881 [29] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:29,885 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 832.9937ms 200 application/json; charset=utf-8
2019-06-09 22:49:29,896 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 846.1128ms 200 application/json; charset=utf-8
2019-06-09 22:49:30,430 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:30,439 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:30,453 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:49:30,454 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:49:30,469 [20] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:49:30,475 [25] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:49:30,484 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:49:30,487 [20] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:49:30,498 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:49:30,502 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:30,505 [20] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:30,519 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:49:30,521 [20] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:30,522 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:30,534 [25] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:30,539 [20] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:30,543 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:30,594 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:49:30,597 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:30,605 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:30,675 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:49:30,794 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:49:30,806 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 276.7418ms.
2019-06-09 22:49:30,813 [29] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:49:30,831 [29] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.3511ms.
2019-06-09 22:49:30,860 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 336.1237ms
2019-06-09 22:49:30,877 [29] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:49:30,895 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 462.3618ms 200 text/html; charset=utf-8
2019-06-09 22:49:31,075 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (207ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:49:31,138 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:49:31,153 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:49:31,203 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:49:31,212 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:49:31,254 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:49:31,263 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:49:31,339 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:49:31,344 [28] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 807.7217ms.
2019-06-09 22:49:31,357 [28] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:49:31,365 [28] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 867.1271ms
2019-06-09 22:49:31,373 [28] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:49:31,382 [28] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 952.5638ms 0 
2019-06-09 22:49:31,419 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 888.1965ms.
2019-06-09 22:49:31,426 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:49:31,434 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 933.9779ms
2019-06-09 22:49:31,441 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:49:31,450 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1025.093ms 0 
2019-06-09 22:49:33,022 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:33,025 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:33,049 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:33,061 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:33,064 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:49:33,076 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:49:33,082 [38] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:33,095 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:33,098 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:33,112 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:33,117 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:33,127 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:33,171 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:33,179 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:33,365 [28] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 254.2082ms.
2019-06-09 22:49:33,374 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 251.4836ms.
2019-06-09 22:49:33,377 [28] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:49:33,388 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:49:33,393 [28] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 319.1623ms
2019-06-09 22:49:33,405 [28] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:33,408 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 316.2217ms
2019-06-09 22:49:33,420 [28] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 396.2171ms 200 application/json; charset=utf-8
2019-06-09 22:49:33,425 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:33,440 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 413.7664ms 200 application/json; charset=utf-8
2019-06-09 22:49:34,124 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:49:34,134 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:49:34,141 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:49:34,156 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:49:34,164 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:34,218 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:49:34,276 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:49:34,414 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:49:34,428 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 261.7065ms.
2019-06-09 22:49:34,436 [29] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:49:34,449 [29] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 12.3195ms.
2019-06-09 22:49:34,460 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 303.2385ms
2019-06-09 22:49:34,469 [29] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:49:34,485 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 359.366ms 200 text/html; charset=utf-8
2019-06-09 22:49:36,182 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:36,187 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:36,211 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:36,216 [22] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:36,233 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:49:36,238 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:49:36,257 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:36,262 [22] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:36,271 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:36,284 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:36,287 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:36,299 [22] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:36,339 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:36,351 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:36,736 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 451.9297ms.
2019-06-09 22:49:36,745 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 450.161ms.
2019-06-09 22:49:36,749 [32] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:49:36,759 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:49:36,763 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 506.527ms
2019-06-09 22:49:36,775 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:36,780 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 529.438ms
2019-06-09 22:49:36,795 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 649.9273ms 200 application/json; charset=utf-8
2019-06-09 22:49:36,812 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:36,838 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 650.0676ms 200 application/json; charset=utf-8
2019-06-09 22:49:40,938 [24] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:49:40,948 [24] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:49:40,958 [24] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:49:40,965 [24] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:49:40,974 [24] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:41,019 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:49:41,170 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (142ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:49:41,296 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (63ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:49:41,363 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 334.7968ms.
2019-06-09 22:49:41,377 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:49:41,479 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 22.6641ms.
2019-06-09 22:49:41,497 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 523.8622ms
2019-06-09 22:49:41,505 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:49:41,518 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 577.9992ms 200 text/html; charset=utf-8
2019-06-09 22:49:42,939 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:42,943 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:42,965 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:42,985 [25] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:42,989 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:49:43,001 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:49:43,014 [39] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:43,018 [25] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:43,030 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:43,041 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:43,051 [39] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:43,053 [25] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:43,109 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:43,113 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:43,315 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 268.4982ms.
2019-06-09 22:49:43,323 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:49:43,333 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 322.7036ms
2019-06-09 22:49:43,343 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 293.3367ms.
2019-06-09 22:49:43,346 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:43,354 [29] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:49:43,361 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 425.5219ms 200 application/json; charset=utf-8
2019-06-09 22:49:43,374 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 355.6835ms
2019-06-09 22:49:43,381 [29] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:49:43,394 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 452.7444ms 200 application/json; charset=utf-8
2019-06-09 22:49:43,854 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:43,856 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:49:43,891 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:49:43,896 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:49:43,899 [22] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:49:43,911 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:49:43,919 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:49:43,922 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:49:43,932 [33] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:43,942 [22] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:49:43,954 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:43,955 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:49:43,958 [22] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:49:43,973 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:43,979 [22] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:43,986 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:49:44,000 [39] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:49:44,034 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:44,038 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:49:44,049 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:49:44,119 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:49:44,374 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (83ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:49:44,382 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (98ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:49:44,465 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:49:44,473 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:49:44,526 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:49:44,529 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:49:44,588 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:49:44,653 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:49:44,663 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 667.0196ms.
2019-06-09 22:49:44,670 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (128ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:49:44,672 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:49:44,678 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 700.7947ms.
2019-06-09 22:49:44,686 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:49:44,693 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 755.4199ms
2019-06-09 22:49:44,700 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:49:44,707 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 854.2768ms 200 
2019-06-09 22:49:44,720 [32] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 43.5645ms.
2019-06-09 22:49:44,729 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 760.9297ms.
2019-06-09 22:49:44,739 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 759.2676ms
2019-06-09 22:49:44,747 [17] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:49:44,797 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=tC2F9dtdNBr64-8FIPfVlwMqR2cHjadp11RwLWNPz9M  
2019-06-09 22:49:44,805 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:49:44,821 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 885.8644ms
2019-06-09 22:49:44,834 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 929.9705ms 200 text/html; charset=utf-8
2019-06-09 22:49:44,841 [22] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:49:44,845 [17] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:49:44,855 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1006.2145ms 0 
2019-06-09 22:49:44,868 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 70.3217ms 304 application/javascript
2019-06-09 22:50:24,625 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:50:24,637 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:50:24,645 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:50:24,652 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:50:24,659 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:24,711 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:50:24,773 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:50:24,969 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:25,049 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 319.2366ms.
2019-06-09 22:50:25,486 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:50:25,527 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 470.6191ms.
2019-06-09 22:50:25,539 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 884.3914ms
2019-06-09 22:50:25,549 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:50:25,585 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 950.1207ms 200 text/html; charset=utf-8
2019-06-09 22:50:25,598 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:50:25,618 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:50:25,628 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:50:25,701 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:50:25,735 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:50:25,771 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:50:25,786 [38] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:50:25,802 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:50:25,815 [18] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:50:25,834 [29] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:50:25,846 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 192.2469ms 200 text/css
2019-06-09 22:50:25,875 [26] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:50:25,889 [18] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 235.0427ms 200 text/css
2019-06-09 22:50:25,925 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 264.6662ms 200 image/png
2019-06-09 22:50:25,929 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 212.4748ms 200 application/javascript
2019-06-09 22:50:25,967 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:50:25,986 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 364.7165ms 200 image/gif
2019-06-09 22:50:26,006 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 249.9754ms 200 application/javascript
2019-06-09 22:50:26,017 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:50:26,042 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=tC2F9dtdNBr64-8FIPfVlwMqR2cHjadp11RwLWNPz9M  
2019-06-09 22:50:26,050 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:50:26,070 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 51.0917ms 200 image/png
2019-06-09 22:50:26,077 [38] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:50:26,099 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 66.997ms 200 application/javascript
2019-06-09 22:50:26,194 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:50:26,209 [38] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:50:26,221 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 50.1895ms 200 image/x-icon
2019-06-09 22:50:28,494 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:28,498 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:28,519 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:28,524 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:28,555 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:50:28,568 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:50:28,590 [38] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:28,595 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:28,610 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:28,616 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:28,620 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:28,630 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:28,681 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:28,684 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:29,091 [28] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 474.4497ms.
2019-06-09 22:50:29,100 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 470.8293ms.
2019-06-09 22:50:29,104 [28] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:50:29,114 [16] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:50:29,118 [28] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 534.4649ms
2019-06-09 22:50:29,130 [28] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:29,132 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 543.8863ms
2019-06-09 22:50:29,142 [16] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:29,148 [28] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 649.6438ms 200 application/json; charset=utf-8
2019-06-09 22:50:29,162 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 667.4653ms 200 application/json; charset=utf-8
2019-06-09 22:50:29,751 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:29,755 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:29,764 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:29,768 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:29,776 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:50:29,783 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:50:29,786 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:29,792 [33] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:29,803 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:29,804 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:29,815 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:29,816 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:29,870 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:29,873 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:30,454 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:50:30,490 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (201ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:50:30,508 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:30,557 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:50:30,560 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:30,614 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:50:30,615 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:50:30,712 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 896.1958ms.
2019-06-09 22:50:30,716 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (86ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:50:30,727 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:50:30,734 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 941.8257ms
2019-06-09 22:50:30,740 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:30,747 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 995.5165ms 200 
2019-06-09 22:50:30,770 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 960.1418ms.
2019-06-09 22:50:30,785 [16] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:50:30,792 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1007.1103ms
2019-06-09 22:50:30,798 [16] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:30,805 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1058.5886ms 200 
2019-06-09 22:50:31,839 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:31,845 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:31,855 [29] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:31,858 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:31,868 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:50:31,871 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:50:31,877 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:31,880 [29] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:31,892 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:31,896 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:31,909 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:31,917 [29] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:31,990 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:31,993 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:32,074 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:32,081 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:32,089 [20] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:32,091 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:32,100 [20] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:50:32,102 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:50:32,109 [20] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:32,116 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:32,128 [20] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:32,132 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:32,144 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:32,148 [20] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:32,200 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:32,203 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:32,454 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:50:32,459 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:50:32,521 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:32,526 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:32,587 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:50:32,590 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:50:32,654 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:50:32,676 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (64ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:50:32,679 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:50:32,732 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:32,736 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:32,742 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (122ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:50:32,744 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 828.6407ms.
2019-06-09 22:50:32,763 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:50:32,771 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 890.1055ms
2019-06-09 22:50:32,778 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:32,786 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 948.9966ms 200 
2019-06-09 22:50:32,815 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:50:32,820 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 912.4749ms.
2019-06-09 22:50:32,823 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:50:32,830 [32] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:50:32,843 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 965.245ms
2019-06-09 22:50:32,850 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:32,861 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1015.6862ms 200 
2019-06-09 22:50:32,883 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:50:32,972 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 825.6815ms.
2019-06-09 22:50:32,983 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (128ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:50:33,019 [16] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:50:33,028 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 918.8537ms
2019-06-09 22:50:33,037 [16] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:33,046 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 973.0522ms 200 
2019-06-09 22:50:33,064 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 918.5663ms.
2019-06-09 22:50:33,074 [15] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:50:33,083 [15] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 965.0241ms
2019-06-09 22:50:33,097 [15] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:33,110 [15] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1031.1775ms 200 
2019-06-09 22:50:49,957 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/listallmails application/x-www-form-urlencoded 225
2019-06-09 22:50:49,972 [20] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:50:49,983 [20] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:50:49,989 [20] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:50:49,998 [20] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:50,051 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:50:50,113 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:50:50,238 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:50,249 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 249.6001ms.
2019-06-09 22:50:50,690 [16] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:50:50,725 [16] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 467.9757ms.
2019-06-09 22:50:50,739 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 742.36ms
2019-06-09 22:50:50,839 [16] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:50:50,846 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:50:50,860 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:50:50,864 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:50:50,873 [24] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:50:50,877 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 907.5008ms 200 text/html; charset=utf-8
2019-06-09 22:50:50,897 [19] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:50:50,907 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:50:50,910 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:50:50,945 [20] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:50:50,968 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 78.8126ms 200 text/css
2019-06-09 22:50:51,017 [25] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:50:51,034 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=tC2F9dtdNBr64-8FIPfVlwMqR2cHjadp11RwLWNPz9M  
2019-06-09 22:50:51,039 [23] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:50:51,046 [29] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:50:51,050 [39] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:50:51,091 [38] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:50:51,102 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 233.665ms 200 text/css
2019-06-09 22:50:51,125 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 253.9985ms 200 application/javascript
2019-06-09 22:50:51,148 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 184.9978ms 200 image/gif
2019-06-09 22:50:51,180 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 92.2855ms 200 application/javascript
2019-06-09 22:50:51,239 [20] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:50:51,238 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 319.1574ms 200 image/png
2019-06-09 22:50:51,261 [23] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 401.2787ms 200 application/javascript
2019-06-09 22:50:51,268 [24] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:50:51,286 [24] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 62.5438ms 200 image/png
2019-06-09 22:50:51,409 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:50:51,434 [22] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:50:51,453 [22] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 53.8642ms 200 image/x-icon
2019-06-09 22:50:52,104 [33] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:52,106 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:52,125 [33] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:52,145 [19] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:52,167 [19] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:50:52,175 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:50:52,195 [33] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:52,200 [19] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:52,217 [33] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:52,224 [19] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:52,257 [19] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:52,262 [33] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:52,334 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:52,338 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:52,757 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 523.8764ms.
2019-06-09 22:50:52,761 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 519.5253ms.
2019-06-09 22:50:52,773 [32] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:50:52,782 [16] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:50:52,792 [32] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 598.3366ms
2019-06-09 22:50:52,796 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 605.6986ms
2019-06-09 22:50:52,803 [32] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:52,815 [16] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:52,818 [32] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 715.5755ms 200 application/json; charset=utf-8
2019-06-09 22:50:52,859 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 732.53ms 200 application/json; charset=utf-8
2019-06-09 22:50:53,295 [27] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:53,312 [29] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:53,325 [27] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:53,330 [24] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails?  
2019-06-09 22:50:53,332 [29] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:53,346 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:50:53,355 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:50:53,365 [27] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:53,371 [24] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:50:53,373 [29] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:53,384 [27] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:53,387 [29] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:53,395 [24] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:50:53,402 [27] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:53,427 [29] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:53,432 [24] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:50:53,448 [24] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:53,488 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:53,493 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:53,508 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:50:53,588 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (71ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:50:53,712 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:53,726 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 280.8221ms.
2019-06-09 22:50:53,734 [30] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:50:53,757 [30] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 15.4678ms.
2019-06-09 22:50:53,798 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 362.333ms
2019-06-09 22:50:53,815 [30] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:50:53,826 [30] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 535.4022ms 200 text/html; charset=utf-8
2019-06-09 22:50:54,010 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:50:54,093 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:50:54,094 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:54,163 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:54,170 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:50:54,231 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:50:54,242 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:50:54,295 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 889.8689ms.
2019-06-09 22:50:54,297 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:50:54,307 [39] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:50:54,314 [39] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 944.2688ms
2019-06-09 22:50:54,321 [39] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:54,328 [39] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1039.2042ms 0 
2019-06-09 22:50:54,733 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 1336.7199ms.
2019-06-09 22:50:54,739 [16] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:50:54,746 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 1384.2533ms
2019-06-09 22:50:54,754 [16] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:54,761 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1479.6188ms 0 
2019-06-09 22:50:56,278 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:56,290 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:56,307 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:56,337 [25] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:56,343 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:50:56,355 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:56,358 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:50:56,367 [25] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:56,373 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:56,383 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:56,388 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:56,397 [25] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:56,441 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:56,453 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:56,848 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 451.33ms.
2019-06-09 22:50:56,853 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 467.1937ms.
2019-06-09 22:50:56,858 [16] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:50:56,866 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:50:56,880 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 524.2009ms
2019-06-09 22:50:56,876 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 507.0724ms
2019-06-09 22:50:56,909 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:56,913 [16] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:50:56,932 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 656.9643ms 200 application/json; charset=utf-8
2019-06-09 22:50:56,939 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 646.0601ms 200 application/json; charset=utf-8
2019-06-09 22:50:57,434 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:57,440 [19] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:50:57,460 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:57,466 [25] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails?  
2019-06-09 22:50:57,478 [19] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:57,482 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:50:57,486 [25] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:50:57,497 [19] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:50:57,500 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:50:57,510 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:57,518 [19] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:50:57,521 [25] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:50:57,527 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:57,537 [19] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:50:57,540 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:57,546 [25] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:57,552 [19] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:50:57,594 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:57,605 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:50:57,608 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:50:57,734 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (115ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:50:57,910 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:57,920 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 385.5714ms.
2019-06-09 22:50:57,927 [16] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:50:57,948 [16] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.2741ms.
2019-06-09 22:50:57,985 [16] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 473.0563ms
2019-06-09 22:50:58,031 [16] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:50:58,065 [16] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 600.2792ms 200 text/html; charset=utf-8
2019-06-09 22:50:58,079 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (70ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:50:58,141 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:58,173 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (162ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:50:58,196 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:50:58,225 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:50:58,263 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:50:58,283 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:50:58,321 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 769.6411ms.
2019-06-09 22:50:58,333 [30] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:50:58,340 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 823.9378ms
2019-06-09 22:50:58,346 [30] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:58,353 [30] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 917.7218ms 0 
2019-06-09 22:50:58,363 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:50:58,413 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 873.4833ms.
2019-06-09 22:50:58,421 [30] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:50:58,430 [30] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 920.9312ms
2019-06-09 22:50:58,438 [30] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:50:58,446 [30] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1013.3702ms 0 
2019-06-09 22:52:35,153 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:52:35,205 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:52:35,259 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:52:35,679 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:52:35,724 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:55:44,799 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails?  
2019-06-09 22:55:44,821 [17] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:55:44,832 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:55:44,840 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:55:44,875 [17] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:44,938 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:55:44,993 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:55:45,118 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:55:45,127 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 277.3596ms.
2019-06-09 22:55:45,134 [36] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:55:45,248 [36] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 110.7824ms.
2019-06-09 22:55:45,273 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 429.6868ms
2019-06-09 22:55:45,375 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:55:45,402 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:55:45,407 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:55:45,422 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:55:45,433 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:55:45,441 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 605.6991ms 200 text/html; charset=utf-8
2019-06-09 22:55:45,460 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:55:45,489 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:55:45,542 [41] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:55:45,574 [17] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:55:45,643 [37] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:55:45,710 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 224.8476ms 200 text/css
2019-06-09 22:55:45,726 [44] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:55:45,755 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 280.5724ms 200 image/png
2019-06-09 22:55:45,789 [49] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:55:45,797 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=Iy_yZgInFu-IXDmRCBlXzn6tuX7QJ1IG8NEGLwlbY0Q  
2019-06-09 22:55:45,807 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:55:45,829 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:55:45,830 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 426.1993ms 200 text/css
2019-06-09 22:55:45,907 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 416.6503ms 200 application/javascript
2019-06-09 22:55:45,914 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 324.4409ms 200 application/javascript
2019-06-09 22:55:45,918 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 273.6463ms 200 image/gif
2019-06-09 22:55:45,941 [41] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:55:45,946 [37] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:55:45,966 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 143.6124ms 200 image/png
2019-06-09 22:55:45,972 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 217.0267ms 200 application/javascript
2019-06-09 22:55:46,038 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:55:46,062 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:55:46,104 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 70.0783ms 200 image/x-icon
2019-06-09 22:55:48,481 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:55:48,486 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:55:48,497 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:55:48,501 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:55:48,519 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:55:48,528 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:55:48,537 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:55:48,541 [37] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:55:48,558 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:55:48,566 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:55:48,577 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:48,580 [37] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:48,630 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:55:48,635 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:55:48,900 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 319.0191ms.
2019-06-09 22:55:48,913 [36] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:55:48,937 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 402.5191ms
2019-06-09 22:55:48,950 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:55:48,960 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 480.9618ms 200 application/json; charset=utf-8
2019-06-09 22:55:49,088 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 504.8536ms.
2019-06-09 22:55:49,099 [34] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:55:49,107 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 569.1715ms
2019-06-09 22:55:49,116 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:55:49,127 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 640.8304ms 200 application/json; charset=utf-8
2019-06-09 22:55:50,616 [42] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:55:50,621 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:55:50,625 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails?  
2019-06-09 22:55:50,637 [42] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:55:50,644 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:55:50,654 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:55:50,658 [42] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:55:50,685 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:55:50,690 [42] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:55:50,699 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:55:50,705 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:55:50,706 [42] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:55:50,715 [38] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:55:50,719 [42] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:50,765 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:55:50,770 [37] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:50,780 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:50,806 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:55:50,826 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:55:50,828 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:55:50,889 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:55:51,009 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:55:51,032 [48] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 266.3332ms.
2019-06-09 22:55:51,044 [48] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:55:51,062 [48] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 14.8725ms.
2019-06-09 22:55:51,116 [48] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 385.1267ms
2019-06-09 22:55:51,194 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=Iy_yZgInFu-IXDmRCBlXzn6tuX7QJ1IG8NEGLwlbY0Q  
2019-06-09 22:55:51,201 [48] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:55:51,214 [26] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:55:51,237 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 42.5905ms 304 application/javascript
2019-06-09 22:55:51,247 [48] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 612.9262ms 200 text/html; charset=utf-8
2019-06-09 22:55:51,266 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:55:51,270 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:55:51,331 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:55:51,353 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:55:51,410 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:55:51,429 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:55:51,479 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:55:51,532 [48] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 751.8132ms.
2019-06-09 22:55:51,533 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (75ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:55:51,561 [48] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:55:51,569 [48] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 855.9624ms
2019-06-09 22:55:51,578 [48] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:55:51,586 [48] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 972.7697ms 0 
2019-06-09 22:55:51,608 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 884.7433ms.
2019-06-09 22:55:51,618 [36] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:55:51,631 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 942.378ms
2019-06-09 22:55:51,643 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:55:51,651 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1042.1624ms 0 
2019-06-09 22:55:53,595 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:55:53,600 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:55:53,618 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:55:53,644 [17] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:55:53,671 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:55:53,681 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:55:53,689 [17] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:55:53,702 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:55:53,707 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:55:53,715 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:55:53,720 [17] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:53,730 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:53,776 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:55:53,784 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:55:54,174 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 444.7206ms.
2019-06-09 22:55:54,183 [31] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:55:54,193 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 475.6539ms.
2019-06-09 22:55:54,194 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 497.0244ms
2019-06-09 22:55:54,204 [36] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:55:54,214 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:55:54,221 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 528.6614ms
2019-06-09 22:55:54,234 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 631.015ms 200 application/json; charset=utf-8
2019-06-09 22:55:54,239 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:55:54,265 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 658.6162ms 200 application/json; charset=utf-8
2019-06-09 22:55:54,674 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:55:54,691 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails?  
2019-06-09 22:55:54,702 [42] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:55:54,719 [41] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:55:54,724 [43] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:55:54,734 [42] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:55:54,745 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:55:54,750 [42] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:55:54,751 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:55:54,766 [41] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:55:54,785 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:55:54,786 [42] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:55:54,789 [41] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:55:54,800 [43] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:54,805 [42] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:55:54,814 [41] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:54,815 [42] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:54,854 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:55:54,863 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:55:54,875 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:55:54,921 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:55:55,099 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:55:55,139 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 314.0816ms.
2019-06-09 22:55:55,147 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:55:55,175 [4] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 11.9158ms.
2019-06-09 22:55:55,219 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 415.1001ms
2019-06-09 22:55:55,242 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (136ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:55:55,275 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:55:55,280 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=Iy_yZgInFu-IXDmRCBlXzn6tuX7QJ1IG8NEGLwlbY0Q  
2019-06-09 22:55:55,325 [49] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:55:55,329 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 650.6496ms 200 text/html; charset=utf-8
2019-06-09 22:55:55,342 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 79.3331ms 304 application/javascript
2019-06-09 22:55:55,358 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:55:55,416 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:55:55,466 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (149ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:55:55,476 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:55:55,520 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:55:55,537 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 718.2903ms.
2019-06-09 22:55:55,550 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:55:55,573 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 777.5255ms
2019-06-09 22:55:55,582 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:55:55,596 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:55:55,611 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 928.5317ms 0 
2019-06-09 22:55:55,658 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:55:55,706 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 904.8471ms.
2019-06-09 22:55:55,712 [34] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:55:55,719 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 958.4777ms
2019-06-09 22:55:55,725 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:55:55,733 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1062.2432ms 0 
2019-06-09 22:55:59,046 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails?  
2019-06-09 22:55:59,079 [40] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:55:59,086 [40] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:55:59,093 [40] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:55:59,101 [40] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:55:59,149 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:55:59,226 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (69ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:55:59,402 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:55:59,412 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 310.752ms.
2019-06-09 22:55:59,419 [47] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:55:59,535 [47] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 13.597ms.
2019-06-09 22:55:59,576 [47] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 480.2497ms
2019-06-09 22:55:59,584 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:55:59,596 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:55:59,606 [41] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:55:59,592 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:55:59,612 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:55:59,619 [47] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:55:59,627 [49] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:55:59,659 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 599.509ms 200 text/html; charset=utf-8
2019-06-09 22:55:59,674 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:55:59,710 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 78.0356ms 200 text/css
2019-06-09 22:55:59,724 [47] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=Iy_yZgInFu-IXDmRCBlXzn6tuX7QJ1IG8NEGLwlbY0Q  
2019-06-09 22:55:59,736 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 187.6143ms 200 text/css
2019-06-09 22:55:59,743 [45] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:55:59,769 [26] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:55:59,788 [37] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:55:59,822 [45] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 205.6797ms 200 image/png
2019-06-09 22:55:59,834 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:55:59,850 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 122.4261ms 200 application/javascript
2019-06-09 22:55:59,859 [43] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:55:59,875 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 289.0008ms 200 application/javascript
2019-06-09 22:55:59,902 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:55:59,916 [40] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:55:59,922 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 309.6382ms 200 application/javascript
2019-06-09 22:55:59,951 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:55:59,956 [40] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 154.3954ms 200 image/gif
2019-06-09 22:55:59,999 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 76.9853ms 200 image/png
2019-06-09 22:56:00,009 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:56:00,026 [35] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:56:00,048 [35] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 38.7008ms 200 image/x-icon
2019-06-09 22:56:01,319 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:56:01,331 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:56:01,353 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:56:01,361 [44] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:56:01,380 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:56:01,386 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:56:01,399 [44] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:56:01,409 [38] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:56:01,415 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:56:01,431 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:56:01,434 [44] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:56:01,444 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:56:01,481 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:56:01,489 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:56:01,662 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 218.1312ms.
2019-06-09 22:56:01,670 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:56:01,679 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 271.4109ms
2019-06-09 22:56:01,684 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 254.9471ms.
2019-06-09 22:56:01,687 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:56:01,696 [38] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:56:01,700 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 391.4643ms 200 application/json; charset=utf-8
2019-06-09 22:56:01,711 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 319.4121ms
2019-06-09 22:56:01,719 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:56:01,731 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 413.9057ms 200 application/json; charset=utf-8
2019-06-09 22:56:02,853 [46] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:56:02,857 [42] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails?  
2019-06-09 22:56:02,859 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:56:02,872 [46] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:56:02,880 [42] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:56:02,890 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:56:02,899 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:56:02,907 [42] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:56:02,918 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:56:02,931 [46] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:56:02,933 [42] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:56:02,934 [38] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:56:02,947 [42] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:56:02,952 [46] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:56:02,953 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:56:02,965 [46] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:56:02,974 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:56:03,017 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:56:03,024 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:56:03,029 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:56:03,074 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:56:03,218 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:56:03,228 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 282.2228ms.
2019-06-09 22:56:03,236 [34] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:56:03,247 [34] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 10.069ms.
2019-06-09 22:56:03,257 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 328.3409ms
2019-06-09 22:56:03,266 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:56:03,281 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 423.7308ms 200 text/html; charset=utf-8
2019-06-09 22:56:03,332 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (95ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:56:03,371 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=Iy_yZgInFu-IXDmRCBlXzn6tuX7QJ1IG8NEGLwlbY0Q  
2019-06-09 22:56:03,383 [38] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:56:03,397 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 25.0427ms 304 application/javascript
2019-06-09 22:56:03,419 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:56:03,472 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:56:03,522 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:56:03,529 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:56:03,589 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:56:03,600 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 626.7265ms.
2019-06-09 22:56:03,612 [31] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:56:03,620 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 690.9222ms
2019-06-09 22:56:03,658 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:56:03,666 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:56:03,695 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 823.2394ms 0 
2019-06-09 22:56:03,767 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:56:03,829 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 866.7346ms.
2019-06-09 22:56:03,838 [34] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:56:03,847 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 925.4552ms
2019-06-09 22:56:03,858 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:56:03,867 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1025.3569ms 0 
2019-06-09 22:56:06,309 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:56:06,324 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:56:06,330 [43] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:56:06,365 [49] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:56:06,372 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:56:06,378 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:56:06,381 [43] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:56:06,393 [49] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:56:06,395 [43] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:56:06,405 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:56:06,411 [43] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:56:06,419 [49] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:56:06,460 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:56:06,466 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:56:06,656 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 250.8145ms.
2019-06-09 22:56:06,665 [36] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:56:06,674 [36] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 291.566ms
2019-06-09 22:56:06,681 [36] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:56:06,687 [36] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 397.2429ms 200 application/json; charset=utf-8
2019-06-09 22:56:06,857 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 437.5199ms.
2019-06-09 22:56:06,865 [34] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:56:06,879 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 484.6922ms
2019-06-09 22:56:06,888 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:56:06,899 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 583.5734ms 200 application/json; charset=utf-8
2019-06-09 22:56:10,166 [26] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:56:10,168 [37] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:56:10,190 [26] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:56:10,197 [37] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:56:10,201 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:56:10,218 [44] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails?  
2019-06-09 22:56:10,230 [26] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:56:10,239 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:56:10,244 [44] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:56:10,250 [26] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:56:10,259 [37] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:56:10,270 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:56:10,273 [26] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:56:10,275 [37] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:56:10,284 [44] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:56:10,289 [37] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:56:10,298 [44] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:56:10,334 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:56:10,342 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:56:10,349 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:56:10,407 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:56:10,489 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:56:10,499 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 203.674ms.
2019-06-09 22:56:10,505 [31] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:56:10,538 [31] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 10.4198ms.
2019-06-09 22:56:10,604 [31] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 320.3802ms
2019-06-09 22:56:10,611 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=Iy_yZgInFu-IXDmRCBlXzn6tuX7QJ1IG8NEGLwlbY0Q  
2019-06-09 22:56:10,642 [31] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:56:10,649 [43] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:56:10,658 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (64ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:56:10,690 [31] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 458.1593ms 200 text/html; charset=utf-8
2019-06-09 22:56:10,700 [43] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 74.9791ms 304 application/javascript
2019-06-09 22:56:10,711 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (171ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:56:10,754 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:56:10,770 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:56:10,827 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:56:10,836 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:56:10,898 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:56:10,950 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 683.2406ms.
2019-06-09 22:56:10,957 [34] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:56:10,960 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (94ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:56:10,971 [34] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 740.7932ms
2019-06-09 22:56:10,978 [34] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:56:10,985 [34] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 825.0545ms 0 
2019-06-09 22:56:11,016 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 732.3736ms.
2019-06-09 22:56:11,031 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:56:11,041 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 786.403ms
2019-06-09 22:56:11,048 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:56:11,068 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 891.6102ms 0 
2019-06-09 22:57:35,154 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:57:35,211 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:57:35,262 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:57:35,460 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:57:35,513 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 22:57:54,942 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails?  
2019-06-09 22:57:54,955 [17] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:57:54,962 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:57:54,970 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:57:54,977 [17] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:57:55,023 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:57:55,112 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (74ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:57:55,193 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:57:55,201 [50] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 225.0548ms.
2019-06-09 22:57:55,729 [50] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:57:55,784 [50] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 569.8635ms.
2019-06-09 22:57:55,859 [50] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 831.1151ms
2019-06-09 22:57:55,886 [50] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:57:55,913 [50] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 963.5208ms 200 text/html; charset=utf-8
2019-06-09 22:57:55,918 [56] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=Iy_yZgInFu-IXDmRCBlXzn6tuX7QJ1IG8NEGLwlbY0Q  
2019-06-09 22:57:55,942 [56] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - The file /js/site.js was not modified
2019-06-09 22:57:55,966 [56] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 51.9704ms 304 application/javascript
2019-06-09 22:57:56,144 [56] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:57:56,178 [17] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:57:56,193 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 53.136ms 200 image/x-icon
2019-06-09 22:57:59,207 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:57:59,224 [54] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:57:59,243 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:57:59,259 [54] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:57:59,331 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__get_Item_0='?'], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."AccessFailedCount", e."ConcurrencyStamp", e."Email", e."EmailConfirmed", e."Inactive", e."LockoutEnabled", e."LockoutEnd", e."NormalizedEmail", e."NormalizedUserName", e."PasswordHash", e."PhoneNumber", e."PhoneNumberConfirmed", e."SecurityStamp", e."TwoFactorEnabled", e."UserName"
FROM "AspNetUsers" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2019-06-09 22:57:59,341 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@__get_Item_0='?'], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."AccessFailedCount", e."ConcurrencyStamp", e."Email", e."EmailConfirmed", e."Inactive", e."LockoutEnabled", e."LockoutEnd", e."NormalizedEmail", e."NormalizedUserName", e."PasswordHash", e."PhoneNumber", e."PhoneNumberConfirmed", e."SecurityStamp", e."TwoFactorEnabled", e."UserName"
FROM "AspNetUsers" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2019-06-09 22:57:59,428 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (73ms) [Parameters=[@__user_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT uc."Id", uc."ClaimType", uc."ClaimValue", uc."UserId"
FROM "AspNetUserClaims" AS uc
WHERE uc."UserId" = @__user_Id_0
2019-06-09 22:57:59,429 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (79ms) [Parameters=[@__user_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT uc."Id", uc."ClaimType", uc."ClaimValue", uc."UserId"
FROM "AspNetUserClaims" AS uc
WHERE uc."UserId" = @__user_Id_0
2019-06-09 22:57:59,518 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (73ms) [Parameters=[@__userId_0='?'], CommandType='Text', CommandTimeout='30']
SELECT role."Name"
FROM "AspNetUserRoles" AS "userRole"
INNER JOIN "AspNetRoles" AS role ON "userRole"."RoleId" = role."Id"
WHERE "userRole"."UserId" = @__userId_0
2019-06-09 22:57:59,520 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (73ms) [Parameters=[@__userId_0='?'], CommandType='Text', CommandTimeout='30']
SELECT role."Name"
FROM "AspNetUserRoles" AS "userRole"
INNER JOIN "AspNetRoles" AS role ON "userRole"."RoleId" = role."Id"
WHERE "userRole"."UserId" = @__userId_0
2019-06-09 22:57:59,578 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ConcurrencyStamp", r."Name", r."NormalizedName"
FROM "AspNetRoles" AS r
WHERE r."NormalizedName" = @__normalizedName_0
LIMIT 1
2019-06-09 22:57:59,583 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ConcurrencyStamp", r."Name", r."NormalizedName"
FROM "AspNetRoles" AS r
WHERE r."NormalizedName" = @__normalizedName_0
LIMIT 1
2019-06-09 22:57:59,646 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__role_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT rc."ClaimType", rc."ClaimValue"
FROM "AspNetRoleClaims" AS rc
WHERE rc."RoleId" = @__role_Id_0
2019-06-09 22:57:59,650 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__role_Id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT rc."ClaimType", rc."ClaimValue"
FROM "AspNetRoleClaims" AS rc
WHERE rc."RoleId" = @__role_Id_0
2019-06-09 22:57:59,657 [52] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:57:59,674 [50] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:57:59,677 [52] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:57:59,697 [50] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:57:59,702 [52] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:57:59,717 [50] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:57:59,721 [52] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:57:59,749 [50] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:57:59,798 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:57:59,805 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:58:00,058 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 311.8277ms.
2019-06-09 22:58:00,067 [17] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:58:00,075 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 385.3363ms
2019-06-09 22:58:00,083 [17] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:58:00,091 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 884.5805ms 200 application/json; charset=utf-8
2019-06-09 22:58:00,217 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 454.3425ms.
2019-06-09 22:58:00,234 [4] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:58:00,241 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 529.4262ms
2019-06-09 22:58:00,251 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:58:00,261 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1054.6369ms 200 application/json; charset=utf-8
2019-06-09 22:58:00,758 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:58:00,763 [56] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:58:00,785 [49] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:58:00,797 [56] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:58:00,806 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:58:00,866 [56] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:58:00,867 [49] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:58:00,879 [56] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:58:00,881 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:58:00,891 [56] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:58:00,894 [49] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:58:00,923 [56] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:58:00,965 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:58:00,976 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:58:01,277 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:58:01,326 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:58:01,395 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:58:01,423 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (63ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:58:01,466 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:58:01,483 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:58:01,520 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 617.7102ms.
2019-06-09 22:58:01,526 [51] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:58:01,532 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:58:01,536 [51] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 660.0119ms
2019-06-09 22:58:01,545 [51] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:58:01,553 [51] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 822.6129ms 200 
2019-06-09 22:58:01,642 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (93ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:58:01,697 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 807.28ms.
2019-06-09 22:58:01,704 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:58:01,710 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 894.8885ms
2019-06-09 22:58:01,716 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:58:01,724 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 1000.5859ms 200 
2019-06-09 22:58:17,869 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:58:17,875 [56] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:58:17,885 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:58:17,889 [56] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:58:17,901 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:58:17,907 [56] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:58:17,941 [38] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:58:17,944 [56] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:58:17,954 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:58:17,957 [56] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:58:17,970 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:58:17,971 [56] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:58:18,036 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:58:18,053 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:58:18,222 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 256.2813ms.
2019-06-09 22:58:18,229 [59] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:58:18,238 [59] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 317.9454ms
2019-06-09 22:58:18,245 [59] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:58:18,254 [59] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 384.9942ms 200 application/json; charset=utf-8
2019-06-09 22:58:18,426 [57] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 455.8301ms.
2019-06-09 22:58:18,441 [57] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:58:18,452 [57] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 510.4607ms
2019-06-09 22:58:18,460 [57] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:58:18,468 [57] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 599.2514ms 200 application/json; charset=utf-8
2019-06-09 22:58:18,521 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:58:18,526 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:58:18,545 [55] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:58:18,556 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:58:18,562 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:58:18,572 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:58:18,576 [55] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:58:18,587 [38] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:58:18,603 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:58:18,612 [55] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:58:18,622 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:58:18,632 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:58:18,664 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:58:18,679 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:58:18,897 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:58:18,926 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:58:18,968 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:58:18,996 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:58:19,039 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:58:19,047 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:58:19,090 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:58:30,565 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (107ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:58:30,595 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 11945.6177ms.
2019-06-09 22:58:30,606 [55] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:58:30,613 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 12038.2136ms
2019-06-09 22:58:30,619 [55] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:58:30,626 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 12107.7319ms 200 
2019-06-09 22:58:38,982 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 20336.3118ms.
2019-06-09 22:58:38,993 [58] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:58:39,000 [58] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 20414.7326ms
2019-06-09 22:58:39,008 [58] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:58:39,017 [58] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 20490.7268ms 200 
2019-06-09 22:59:27,622 [72] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/home/listallmails?  
2019-06-09 22:59:27,632 [72] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:59:27,639 [72] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ListAllMails", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)
2019-06-09 22:59:27,647 [72] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) with arguments () - Validation state: Valid
2019-06-09 22:59:27,653 [72] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:59:27,711 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 22:59:27,770 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT e."Id", e."Body", e."ClosedById", e."CustomerId", e."DateReceived", e."GmailIdNumber", e."InitialRegistrationInSystemOn", e."MissingApplication", e."OpenedById", e."SenderId", e."SetInCurrentStatusOn", e."SetInTerminalStatusOn", e."StatusId", e."Subject", "e.Status"."Id", "e.Status"."Text", "e.Sender"."Id", "e.Sender"."SenderEmail", "e.Sender"."SenderName"
FROM "Emails" AS e
INNER JOIN "Statuses" AS "e.Status" ON e."StatusId" = "e.Status"."Id"
INNER JOIN "Senders" AS "e.Sender" ON e."SenderId" = "e.Sender"."Id"
ORDER BY e."Id"
LIMIT @__p_1 OFFSET @__p_0
2019-06-09 22:59:27,898 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT "e.Attachments"."Id", "e.Attachments"."EmailId", "e.Attachments"."FileName", "e.Attachments"."FileSizeInMb"
FROM "Attachments" AS "e.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT e0."Id"
        FROM "Emails" AS e0
        INNER JOIN "Statuses" AS "e.Status0" ON e0."StatusId" = "e.Status0"."Id"
        INNER JOIN "Senders" AS "e.Sender0" ON e0."SenderId" = "e.Sender0"."Id"
        ORDER BY e0."Id"
        LIMIT @__p_1 OFFSET @__p_0
    ) AS t
) AS t0 ON "e.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:59:27,910 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.ViewResult in 256.0863ms.
2019-06-09 22:59:28,323 [64] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executing ViewResult, running view ListAllMails.
2019-06-09 22:59:28,360 [64] INFO  Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor - Executed ViewResult - view ListAllMails executed in 440.9204ms.
2019-06-09 22:59:28,375 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI) in 724.9172ms
2019-06-09 22:59:28,408 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ListAllMails (eMAM.UI)'
2019-06-09 22:59:28,431 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css  
2019-06-09 22:59:28,478 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 809.984ms 200 text/html; charset=utf-8
2019-06-09 22:59:28,512 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/css/site.css  
2019-06-09 22:59:28,514 [69] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js  
2019-06-09 22:59:28,523 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/preview.png  
2019-06-09 22:59:28,559 [63] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.js  
2019-06-09 22:59:28,578 [17] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-06-09 22:59:28,585 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/ajax-loader.gif  
2019-06-09 22:59:28,591 [75] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/css/site.css'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\css\site.css'
2019-06-09 22:59:28,638 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 194.1265ms 200 text/css
2019-06-09 22:59:28,645 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 141.442ms 200 text/css
2019-06-09 22:59:28,655 [38] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/preview.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\preview.png'
2019-06-09 22:59:28,685 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.js'
2019-06-09 22:59:28,696 [61] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\lib\jquery\dist\jquery.js'
2019-06-09 22:59:28,739 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/js/site.js?v=Iy_yZgInFu-IXDmRCBlXzn6tuX7QJ1IG8NEGLwlbY0Q  
2019-06-09 22:59:28,747 [55] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/ajax-loader.gif'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\ajax-loader.gif'
2019-06-09 22:59:28,762 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 224.6448ms 200 application/javascript
2019-06-09 22:59:28,775 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/images/attachment.png  
2019-06-09 22:59:28,796 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 274.8569ms 200 application/javascript
2019-06-09 22:59:28,825 [75] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/images/attachment.png'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\images\attachment.png'
2019-06-09 22:59:28,829 [74] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/js/site.js'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\js\site.js'
2019-06-09 22:59:28,848 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 235.8657ms 200 image/gif
2019-06-09 22:59:28,854 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 335.0773ms 200 image/png
2019-06-09 22:59:28,862 [75] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 91.7074ms 200 image/png
2019-06-09 22:59:28,869 [74] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 134.9821ms 200 application/javascript
2019-06-09 22:59:28,975 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico  
2019-06-09 22:59:28,990 [76] INFO  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware - Sending file. Request path: '/favicon.ico'. Physical path: 'D:\IT\Remote\eMAM\eMAM\eMAM.UI\wwwroot\favicon.ico'
2019-06-09 22:59:28,998 [76] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 34.5218ms 200 image/x-icon
2019-06-09 22:59:32,650 [17] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:59:32,656 [61] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:59:32,666 [17] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:59:32,684 [61] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:59:32,689 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:59:32,710 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:59:32,718 [17] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:59:32,722 [61] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:59:32,739 [17] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:59:32,741 [61] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:59:32,757 [61] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:59:32,756 [17] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:59:32,807 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:59:32,831 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:59:33,379 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 612.2469ms.
2019-06-09 22:59:33,401 [64] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:59:33,416 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 661.2645ms.
2019-06-09 22:59:33,420 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 706.6769ms
2019-06-09 22:59:33,431 [73] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:59:33,439 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:59:33,461 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 812.1168ms 200 application/json; charset=utf-8
2019-06-09 22:59:33,467 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 728.4384ms
2019-06-09 22:59:33,484 [73] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:59:33,497 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 847.4607ms 200 application/json; charset=utf-8
2019-06-09 22:59:34,550 [38] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:59:34,558 [70] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:59:34,574 [38] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:59:34,584 [70] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:59:34,596 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:59:34,615 [38] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:59:34,618 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:59:34,636 [70] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:59:34,640 [38] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:59:34,655 [70] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b321b6d7df100c) - Validation state: Valid
2019-06-09 22:59:34,659 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:59:34,669 [70] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:59:34,792 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (113ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:59:34,796 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (119ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:59:35,256 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:59:35,316 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (109ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:59:35,319 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:59:35,372 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:59:35,376 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:59:35,425 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:59:35,432 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:59:38,886 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3,438ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:59:38,892 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 4232.0215ms.
2019-06-09 22:59:38,901 [73] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:59:38,911 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 4301.1336ms
2019-06-09 22:59:38,918 [73] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:59:38,925 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 4388.3043ms 200 
2019-06-09 22:59:44,340 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 9671.4308ms.
2019-06-09 22:59:44,351 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 22:59:44,368 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 9722.003ms
2019-06-09 22:59:44,379 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:59:44,387 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 9846.471ms 200 
2019-06-09 22:59:49,493 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:59:49,545 [55] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:59:49,521 [49] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/previewmail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:59:49,566 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:59:49,570 [49] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:59:49,586 [55] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:59:49,590 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "PreviewMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)
2019-06-09 22:59:49,599 [49] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:59:49,601 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:59:49,612 [49] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:59:49,615 [55] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:59:49,623 [49] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:59:49,665 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:59:49,673 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:59:50,082 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 464.5004ms.
2019-06-09 22:59:50,084 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.JsonResult in 458.6314ms.
2019-06-09 22:59:50,093 [64] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:59:50,104 [73] INFO  Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor - Executing JsonResult, writing value of type 'System.String'.
2019-06-09 22:59:50,113 [64] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 523.1638ms
2019-06-09 22:59:50,122 [64] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:59:50,133 [73] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI) in 522.789ms
2019-06-09 22:59:50,144 [64] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 651.4091ms 200 application/json; charset=utf-8
2019-06-09 22:59:50,184 [73] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.PreviewMail (eMAM.UI)'
2019-06-09 22:59:50,203 [73] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 681.9704ms 200 application/json; charset=utf-8
2019-06-09 22:59:50,942 [74] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:59:50,972 [55] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request starting HTTP/1.1 POST https://localhost:5001/home/validatemail application/x-www-form-urlencoded; charset=UTF-8 26
2019-06-09 22:59:50,981 [74] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:59:50,987 [55] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executing endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 22:59:50,996 [74] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:59:51,007 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Route matched with {action = "ValidateMail", controller = "Home"}. Executing action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)
2019-06-09 22:59:51,010 [74] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:59:51,019 [55] INFO  Microsoft.AspNetCore.Authorization.DefaultAuthorizationService - Authorization was successful.
2019-06-09 22:59:51,023 [74] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:59:51,030 [55] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executing action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) with arguments (16b3283f66b5fdb8) - Validation state: Valid
2019-06-09 22:59:51,033 [74] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:59:51,041 [55] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 22:59:51,088 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:59:51,095 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 22:59:51,327 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:59:51,376 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:59:51,429 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:59:51,480 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 22:59:51,529 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT x."Id", x."Body", x."ClosedById", x."CustomerId", x."DateReceived", x."GmailIdNumber", x."InitialRegistrationInSystemOn", x."MissingApplication", x."OpenedById", x."SenderId", x."SetInCurrentStatusOn", x."SetInTerminalStatusOn", x."StatusId", x."Subject", "x.Status"."Id", "x.Status"."Text", "x.Sender"."Id", "x.Sender"."SenderEmail", "x.Sender"."SenderName", "x.OpenedBy"."Id", "x.OpenedBy"."AccessFailedCount", "x.OpenedBy"."ConcurrencyStamp", "x.OpenedBy"."Email", "x.OpenedBy"."EmailConfirmed", "x.OpenedBy"."Inactive", "x.OpenedBy"."LockoutEnabled", "x.OpenedBy"."LockoutEnd", "x.OpenedBy"."NormalizedEmail", "x.OpenedBy"."NormalizedUserName", "x.OpenedBy"."PasswordHash", "x.OpenedBy"."PhoneNumber", "x.OpenedBy"."PhoneNumberConfirmed", "x.OpenedBy"."SecurityStamp", "x.OpenedBy"."TwoFactorEnabled", "x.OpenedBy"."UserName", "x.Customer"."Id", "x.Customer"."CustomerEGN", "x.Customer"."CustomerPhoneNumber"
FROM "Emails" AS x
INNER JOIN "Statuses" AS "x.Status" ON x."StatusId" = "x.Status"."Id"
INNER JOIN "Senders" AS "x.Sender" ON x."SenderId" = "x.Sender"."Id"
LEFT JOIN "AspNetUsers" AS "x.OpenedBy" ON x."OpenedById" = "x.OpenedBy"."Id"
LEFT JOIN "Customers" AS "x.Customer" ON x."CustomerId" = "x.Customer"."Id"
WHERE x."GmailIdNumber" = @__id_0
ORDER BY x."Id"
LIMIT 1
2019-06-09 22:59:54,383 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (639ms) [Parameters=[@__id_0='?'], CommandType='Text', CommandTimeout='30']
SELECT "x.Attachments"."Id", "x.Attachments"."EmailId", "x.Attachments"."FileName", "x.Attachments"."FileSizeInMb"
FROM "Attachments" AS "x.Attachments"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT x0."Id"
        FROM "Emails" AS x0
        INNER JOIN "Statuses" AS "x.Status0" ON x0."StatusId" = "x.Status0"."Id"
        INNER JOIN "Senders" AS "x.Sender0" ON x0."SenderId" = "x.Sender0"."Id"
        LEFT JOIN "AspNetUsers" AS "x.OpenedBy0" ON x0."OpenedById" = "x.OpenedBy0"."Id"
        LEFT JOIN "Customers" AS "x.Customer0" ON x0."CustomerId" = "x.Customer0"."Id"
        WHERE x0."GmailIdNumber" = @__id_0
        ORDER BY x0."Id"
        LIMIT 1
    ) AS t
) AS t0 ON "x.Attachments"."EmailId" = t0."Id"
ORDER BY t0."Id"
2019-06-09 22:59:58,328 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (509ms) [Parameters=[@__statusName_0='?'], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = @__statusName_0
LIMIT 1
2019-06-09 22:59:58,761 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 3371.1919ms.
2019-06-09 22:59:59,004 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (225ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Emails" SET "SetInCurrentStatusOn" = @p0
WHERE "Id" = @p1;
2019-06-09 23:00:04,060 [71] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 23:00:04,115 [71] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 13054.3505ms
2019-06-09 23:00:07,670 [71] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 23:00:07,673 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action method eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI), returned result Microsoft.AspNetCore.Mvc.OkResult in 16642.5101ms.
2019-06-09 23:00:07,693 [4] INFO  Microsoft.AspNetCore.Mvc.StatusCodeResult - Executing HttpStatusCodeResult, setting HTTP status code 200
2019-06-09 23:00:07,704 [4] INFO  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker - Executed action eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI) in 16693.2573ms
2019-06-09 23:00:07,706 [71] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 16781.1503ms 200 
2019-06-09 23:00:07,721 [4] INFO  Microsoft.AspNetCore.Routing.EndpointMiddleware - Executed endpoint 'eMAM.UI.Controllers.HomeController.ValidateMail (eMAM.UI)'
2019-06-09 23:00:07,729 [4] INFO  Microsoft.AspNetCore.Hosting.Internal.WebHost - Request finished in 16814.2896ms 200 
2019-06-09 23:02:35,148 [17] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:02:35,196 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:02:35,241 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:02:35,453 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:02:35,505 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:07:35,152 [38] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:07:35,206 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:07:35,256 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:07:35,481 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:07:35,527 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:12:35,145 [63] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:12:35,229 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (75ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:12:35,428 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (190ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:12:36,385 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:12:36,433 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:17:35,156 [17] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:17:35,206 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:17:35,251 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:17:35,722 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:17:35,774 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:22:35,155 [11] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:22:35,214 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:22:35,262 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:22:35,544 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:22:35,599 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:27:35,153 [96] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:27:35,203 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:27:35,248 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:27:35,861 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:27:35,913 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:32:35,150 [115] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:32:35,199 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:32:35,246 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:32:35,441 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:32:35,489 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:37:35,153 [126] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:37:35,206 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:37:35,261 [128] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:37:35,479 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:37:35,524 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "GmailUserData" SET "AccessToken" = @p0, "ExpiresAt" = @p1
WHERE "Id" = @p2;
2019-06-09 23:37:36,238 [129] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:37:36,283 [129] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:42:35,151 [131] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:42:35,202 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:42:35,248 [129] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:42:36,154 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:42:36,197 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:47:35,153 [143] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:47:35,202 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:47:35,261 [144] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:47:38,665 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:47:38,709 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:52:35,138 [136] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:52:35,195 [146] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:52:35,246 [4] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:52:35,761 [146] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:52:35,809 [146] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
2019-06-09 23:57:35,145 [136] INFO  Microsoft.EntityFrameworkCore.Infrastructure - Entity Framework Core 2.2.4-servicing-10062 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2019-06-09 23:57:35,198 [146] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:57:35,249 [146] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT g."Id", g."AccessToken", g."ExpiresAt", g."RefreshToken"
FROM "GmailUserData" AS g
LIMIT 1
2019-06-09 23:57:35,540 [146] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Emails" AS e
2019-06-09 23:57:35,584 [146] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT s."Id", s."Text"
FROM "Statuses" AS s
WHERE s."Text" = 'Not Reviewed'
LIMIT 1
[Footer] 